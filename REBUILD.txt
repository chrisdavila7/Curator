REBUILD GUIDE: Complete, step-by-step process to fully recreate this codebase

Audience
- This guide is written for another LLM or engineer to reproduce this exact project from an empty folder.
- It includes all critical details: dependencies and pinned versions, configuration, file structure, environment variables, and verification notes.
- By the user’s instruction, the Lottie animation JSON assets under public/animations are excluded; they will be re-applied later.

Project Summary
- Framework: Next.js 15.4.6 (App Router)
- Language: TypeScript (^5)
- UI: Tailwind CSS v4, tailwindcss-animate, shadcn/ui configuration
- Auth: Azure AD (MSAL SPA on client, msal-node confidential client on server), optional mock mode (no auth) for dev/test
- Testing: Vitest 3.2.4 + jsdom
- Linting: ESLint 9 (Flat config)
- Node runtime: Node 20.x recommended

Repository pointers (optional, for verification/exact matching)
- Associated remote: origin: https://github.com/chrisdavila7/Inventory-Manager-GUI.git
- Latest commit seen in this workspace: 377bf70b81f92b1444ac96a78ad574b4abab17c8
- If you are allowed network access and need to guarantee bit-for-bit match, you may clone that commit. Otherwise follow the manual rebuild steps below.

Contents
1) Prerequisites
2) Fast path (exact clone)
3) Manual reconstruction (step-by-step)
   3a) Create folder structure
   3b) package.json (exact content)
   3c) Install dependencies
   3d) Configuration files (exact content)
   3e) Global CSS (Tailwind v4)
   3f) Source code tree and notes
   3g) Tests (setup file exact)
4) Environment variables (all options and semantics)
5) Running, building, testing, linting
6) API endpoints overview
7) Azure/MSAL and Graph integration notes
8) Lottie assets (excluded by request; how to restore)
9) Verification checklist

------------------------------------------------------------
1) Prerequisites
------------------------------------------------------------
- OS: Linux, macOS, or Windows (WSL2 recommended on Windows)
- Node.js: 20.x LTS recommended (Next.js 15 and React 19 compatible)
- npm: bundled with Node 20
- Git: optional (only for Option A exact clone)
- A text editor/IDE (VSCode recommended)

------------------------------------------------------------
2) Fast path (exact clone)
------------------------------------------------------------
If network access to GitHub is permitted, this is the most direct way to recreate the exact project version:

- Clone the repository:
  git clone https://github.com/chrisdavila7/Inventory-Manager-GUI.git
  cd Inventory-Manager-GUI/my-app

- Optionally check out the known commit:
  git checkout 377bf70b81f92b1444ac96a78ad574b4abab17c8

- Install and run:
  npm ci
  npm run dev
  Open http://localhost:3000

Proceed to sections 4–9 (env vars, testing, etc.) to configure modes and verify behavior.

If you cannot access GitHub, proceed with the manual reconstruction below.

------------------------------------------------------------
3) Manual reconstruction (step-by-step)
------------------------------------------------------------

3a) Create folder structure
Create the working directory named my-app with the following top-level structure:

my-app/
  .gitignore
  blacklabsolutionsicon.svg
  components.json
  eslint.config.mjs
  next.config.ts
  package-lock.json        (auto-generated after install)
  package.json
  postcss.config.mjs
  README.md                (optional for rebuild; see section 3d)
  tsconfig.json
  vitest.config.ts
  public/
    file.svg
    globe.svg
    next.svg
    vercel.svg
    window.svg
    animations/            (Lottie JSONs excluded per user instruction; see section 8)
  src/
    app/                   (Next.js App Router)
    components/
    data/
    hooks/
    lib/
    types/
  tests/

You can scaffold directories via:
- Linux/macOS:
  mkdir -p my-app/public/animations
  mkdir -p my-app/src/{app,components,data,hooks,lib,types}
  mkdir -p my-app/src/app/{api,asset,assets,auth,check-in-out,dashboard,providers}
  mkdir -p my-app/src/app/api/inventory
  mkdir -p my-app/src/app/api/inventory/[asset]/history
  mkdir -p my-app/src/app/api/inventory/next-asset
  mkdir -p my-app/src/app/api/inventory/options/{locations,models,users}
  mkdir -p my-app/src/app/api/inventory/search
  mkdir -p my-app/tests

(Exact subfolders and files are enumerated in 3f.)

3b) Create package.json (exact content)
Create file: my-app/package.json
Paste EXACTLY:

{
  "name": "curator",
  "version": "0.1.0",
  "private": true,
  "scripts": {
    "dev": "next dev",
    "dev:turbo": "next dev --turbopack",
    "build": "next build",
    "start": "next start",
    "lint": "next lint",
    "test": "vitest run",
    "test:watch": "vitest",
    "coverage": "vitest run --coverage"
  },
  "dependencies": {
    "@azure/msal-browser": "^4.20.0",
    "@azure/msal-node": "^3.7.1",
    "@azure/msal-react": "^3.0.18",
    "@heroicons/react": "^2.2.0",
    "@radix-ui/react-alert-dialog": "^1.1.15",
    "@radix-ui/react-checkbox": "^1.3.3",
    "@radix-ui/react-dialog": "^1.1.15",
    "@radix-ui/react-dropdown-menu": "^2.1.16",
    "@radix-ui/react-label": "^2.1.7",
    "@radix-ui/react-scroll-area": "^1.2.10",
    "@radix-ui/react-separator": "^1.1.7",
    "@radix-ui/react-slot": "^1.2.3",
    "@radix-ui/react-tabs": "^1.1.13",
    "@radix-ui/react-tooltip": "^1.2.8",
    "@tanstack/react-table": "^8.21.3",
    "class-variance-authority": "^0.7.1",
    "clsx": "^2.1.1",
    "cmdk": "^1.1.1",
    "jose": "^6.0.12",
    "lottie-react": "^2.4.1",
    "lru-cache": "^11.1.0",
    "lucide-react": "^0.540.0",
    "next": "15.4.6",
    "react": "19.1.0",
    "react-dom": "19.1.0",
    "tailwind-merge": "^3.3.1",
    "tailwindcss-animate": "^1.0.7",
    "zod": "^4.0.17"
  },
  "devDependencies": {
    "@eslint/eslintrc": "^3",
    "@tailwindcss/postcss": "^4",
    "@types/node": "^20",
    "@types/react": "^19",
    "@types/react-dom": "^19",
    "@vitest/coverage-v8": "^3.2.4",
    "eslint": "^9",
    "eslint-config-next": "15.4.6",
    "jsdom": "^26.1.0",
    "tailwindcss": "^4",
    "tw-animate-css": "^1.3.7",
    "typescript": "^5",
    "vitest": "^3.2.4"
  }
}

3c) Install dependencies
From the my-app directory:
- npm install
This will generate package-lock.json automatically.

3d) Configuration files (exact content)

Create file: my-app/tsconfig.json
{
  "compilerOptions": {
    "target": "ES2017",
    "lib": ["dom", "dom.iterable", "esnext"],
    "allowJs": true,
    "skipLibCheck": true,
    "strict": true,
    "noEmit": true,
    "esModuleInterop": true,
    "module": "esnext",
    "moduleResolution": "bundler",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "jsx": "preserve",
    "incremental": true,
    "plugins": [
      {
        "name": "next"
      }
    ],
    "paths": {
      "@/*": ["./src/*"]
    }
  },
  "include": ["next-env.d.ts", "**/*.ts", "**/*.tsx", ".next/types/**/*.ts"],
  "exclude": ["node_modules"]
}

Create file: my-app/next.config.ts
import type { NextConfig } from "next";

const nextConfig: NextConfig = {
  // Ensure Node.js runtime for server routes that use native Node modules
  // We also explicitly set runtime = "nodejs" inside the route handler.
  serverExternalPackages: ["@azure/msal-node", "jose", "lru-cache"],
};

export default nextConfig;

Create file: my-app/eslint.config.mjs
import { dirname } from "path";
import { fileURLToPath } from "url";
import { FlatCompat } from "@eslint/eslintrc";

const __filename = fileURLToPath(import.meta.url);
const __dirname = dirname(__filename);

const compat = new FlatCompat({
  baseDirectory: __dirname,
});

const eslintConfig = [
  ...compat.extends("next/core-web-vitals", "next/typescript"),
];

export default eslintConfig;

Create file: my-app/vitest.config.ts
import { defineConfig } from "vitest/config";
import path from "node:path";

export default defineConfig({
  test: {
    environment: "jsdom",
    globals: true,
    setupFiles: ["./tests/setup.ts"],
    include: ["tests/**/*.spec.ts", "tests/**/*.spec.tsx"],
    coverage: {
      provider: "v8",
      reporter: ["text", "html", "lcov"],
    },
  },
  resolve: {
    alias: {
      "@": path.resolve(__dirname, "./src"),
    },
  },
});

Create file: my-app/postcss.config.mjs
const config = {
  plugins: ["@tailwindcss/postcss"],
};

export default config;

Create file: my-app/components.json
{
  "$schema": "https://ui.shadcn.com/schema.json",
  "style": "new-york",
  "rsc": true,
  "tsx": true,
  "tailwind": {
    "config": "",
    "css": "src/app/globals.css",
    "baseColor": "neutral",
    "cssVariables": true,
    "prefix": ""
  },
  "aliases": {
    "components": "@/components",
    "utils": "@/lib/utils",
    "ui": "@/components/ui",
    "lib": "@/lib",
    "hooks": "@/hooks"
  },
  "iconLibrary": "lucide"
}

Create file: my-app/.gitignore
# See https://help.github.com/articles/ignoring-files/ for more about ignoring files.

# dependencies
/node_modules
/.pnp
.pnp.*
.yarn/*
!.yarn/patches
!.yarn/plugins
!.yarn/releases
!.yarn/versions

# testing
/coverage

# next.js
/.next/
/out/

# production
/build

# misc
.DS_Store
*.pem

# debug
npm-debug.log*
yarn-debug.log*
yarn-error.log*
.pnpm-debug.log*

# env files (can opt-in for committing if needed)
.env*

# vercel
.vercel

# typescript
*.tsbuildinfo
next-env.d.ts

(README.md)
- You may optionally reproduce the README with guidance for Next.js and included endpoint documentation. It is not required to run the app.

3e) Global CSS (Tailwind v4)
Create file: my-app/src/app/globals.css
@import "tailwindcss";
@plugin "tailwindcss-animate";

@custom-variant dark (&:is(.dark *));

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
  --color-sidebar-ring: var(--sidebar-ring);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar: var(--sidebar);
  --color-chart-5: var(--chart-5);
  --color-chart-4: var(--chart-4);
  --color-chart-3: var(--chart-3);
  --color-chart-2: var(--chart-2);
  --color-chart-1: var(--chart-1);
  --color-ring: var(--ring);
  --color-input: var(--input);
  --color-border: var(--border);
  --color-destructive: var(--destructive);
  --color-accent-foreground: var(--accent-foreground);
  --color-accent: var(--accent);
  --color-muted-foreground: var(--muted-foreground);
  --color-muted: var(--muted);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-secondary: var(--secondary);
  --color-primary-foreground: var(--primary-foreground);
  --color-primary: var(--primary);
  --color-popover-foreground: var(--popover-foreground);
  --color-popover: var(--popover);
  --color-card-foreground: var(--card-foreground);
  --color-card: var(--card);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
}

:root {
  --radius: 0.625rem;
  --background: oklch(1 0 0);
  --foreground: oklch(0.145 0 0);
  --card: oklch(1 0 0);
  --card-foreground: oklch(0.145 0 0);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.145 0 0);
  --primary: oklch(0.205 0 0);
  --primary-foreground: oklch(0.985 0 0);
  --secondary: oklch(0.97 0 0);
  --secondary-foreground: oklch(0.205 0 0);
  --muted: oklch(0.97 0 0);
  --muted-foreground: oklch(0.556 0 0);
  --accent: oklch(0.97 0 0);
  --accent-foreground: oklch(0.205 0 0);
  --destructive: oklch(0.577 0.245 27.325);
  --border: oklch(0.922 0 0);
  --input: oklch(0.922 0 0);
  --ring: oklch(0.708 0 0);
  --chart-1: oklch(0.646 0.222 41.116);
  --chart-2: oklch(0.6 0.118 184.704);
  --chart-3: oklch(0.398 0.07 227.392);
  --chart-4: oklch(0.828 0.189 84.429);
  --chart-5: oklch(0.769 0.188 70.08);
  --sidebar: oklch(0.985 0 0);
  --sidebar-foreground: oklch(0.145 0 0);
  --sidebar-primary: oklch(0.205 0 0);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.97 0 0);
  --sidebar-accent-foreground: oklch(0.205 0 0);
  --sidebar-border: oklch(0.922 0 0);
  --sidebar-ring: oklch(0.708 0 0);
}

.dark {
  --background: oklch(0.145 0 0);
  --foreground: oklch(0.985 0 0);
  --card: oklch(0.205 0 0);
  --card-foreground: oklch(0.985 0 0);
  --popover: oklch(0.205 0 0);
  --popover-foreground: oklch(0.985 0 0);
  --primary: oklch(0.922 0 0);
  --primary-foreground: oklch(0.205 0 0);
  --secondary: oklch(0.269 0 0);
  --secondary-foreground: oklch(0.985 0 0);
  --muted: oklch(0.269 0 0);
  --muted-foreground: oklch(0.708 0 0);
  --accent: oklch(0.269 0 0);
  --accent-foreground: oklch(0.985 0 0);
  --destructive: oklch(0.704 0.191 22.216);
  --border: oklch(1 0 0 / 10%);
  --input: oklch(1 0 0 / 15%);
  --ring: oklch(0.556 0 0);
  --chart-1: oklch(0.488 0.243 264.376);
  --chart-2: oklch(0.696 0.17 162.48);
  --chart-3: oklch(0.769 0.188 70.08);
  --chart-4: oklch(0.627 0.265 303.9);
  --chart-5: oklch(0.645 0.246 16.439);
  --sidebar: oklch(0.205 0 0);
  --sidebar-foreground: oklch(0.985 0 0);
  --sidebar-primary: oklch(0.488 0.243 264.376);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.269 0 0);
  --sidebar-accent-foreground: oklch(0.985 0 0);
  --sidebar-border: oklch(1 0 0 / 10%);
  --sidebar-ring: oklch(0.556 0 0);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* Global top loader animation */
@keyframes top-loader {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(400%);
  }
}

.animate-top-loader {
  animation: top-loader 1.2s ease-in-out infinite;
}

3f) Source code tree and notes

Important:
- The following enumerates the full source tree. Where exact contents are essential for auth and API behavior, they are included below (msal-server.ts). For remaining .tsx/.ts source files, reproduce them as present in this project’s working tree and preserve path case, since imports use path aliases (@/*).
- If you are rebuilding on a separate machine without access to the original, use the repository (section 2) or transfer these files verbatim.

Directory tree under src/ and tests/:
src/
  app/
    client-layout-shell.tsx
    favicon.ico
    globals.css           (provided above)
    layout.tsx
    page.tsx
    api/
      inventory/
        route.ts
        [asset]/
          route.ts
          history/
            route.ts
        next-asset/
          route.ts
        options/
          locations/
            route.ts
          models/
            route.ts
          users/
            route.ts
        search/
          route.ts
    asset/
      [asset]/
        loading.tsx
        page.tsx
    assets/
      loading.tsx
      page.tsx
    auth/
      callback/
        page.tsx
    check-in-out/
      loading.tsx
      page.tsx
    dashboard/
      loading.tsx
      page.tsx
    providers/
      auth-guard.tsx
      msal-provider.tsx
  components/
    app-sidebar.tsx
    page-header.tsx
    search-command.tsx
    user-location-select.tsx
    asset/
      asset-create-dialog.tsx
      asset-details-table.tsx
      asset-edit-overlay.tsx
      asset-edit-sheet.tsx
      asset-history-table.tsx
      asset-view-overlay.tsx
      asset-view.tsx
    checkinout/
      checkinout-fallback-toggle.tsx
      checkinout-lottie-toggle.tsx
      checkinout-tabs.tsx
      finalize-card.tsx
      finalize-drawer.tsx
      finalize-panel-card.tsx
    data-table/
      columns.tsx
      data-table.tsx
    inventory/
      inventory-view.tsx
    loading/
      loading-provider.tsx
    lottie/
      lottie-overlay.tsx
      lottie-player.tsx
      overlay-provider.tsx
    ui/
      alert-dialog.tsx
      badge.tsx
      button-group.tsx
      button.tsx
      card.tsx
      checkbox.tsx
      command.tsx
      dialog.tsx
      dropdown-menu.tsx
      inline-loader.tsx
      input.tsx
      label.tsx
      scroll-area.tsx
      separator.tsx
      sheet.tsx
      sidebar.tsx
      skeleton.tsx
      spinner.tsx
      switch.tsx
      table.tsx
      tabs.tsx
      textarea.tsx
      toast-provider.tsx
      tooltip.tsx
      top-loader.tsx
  data/
    inventory.ts
  hooks/
    use-inventory-options.ts
    use-mobile.ts
  lib/
    date-utc.ts
    history.ts
    inventory-helpers.ts
    status-label.ts
    utils.ts
    auth/
      msal-server.ts      (exact content provided below)
    graph/
      sharepoint.ts
    mappers/
      inventory.ts
    validation/
      inventory.ts
  types/
    history.ts
    inventory.ts

tests/
  api-inventory-route.spec.ts
  api-options-endpoints.spec.ts
  asset-create-dialog-overlay.spec.tsx
  asset-history-table.spec.tsx
  asset-view.spec.tsx
  checkinout-lottie-toggle.spec.tsx
  dashboard-asset-links.spec.tsx
  dashboard-page-render.spec.tsx
  date-utc.spec.ts
  lottie-player.spec.tsx
  mappers-validation.spec.ts
  setup.ts               (exact content provided below)
  sharepoint-transitions.spec.ts
  sidebar-navigation.spec.tsx
  sidebar-toggle.spec.tsx

Exact critical server auth file:
Create file: my-app/src/lib/auth/msal-server.ts
import { ConfidentialClientApplication, Configuration, LogLevel } from "@azure/msal-node";
import { createRemoteJWKSet, jwtVerify, JWTPayload } from "jose";

let cca: ConfidentialClientApplication | null = null;

function getEnv(name: string, optional = false): string {
  const val = process.env[name];
  if (!val && !optional) {
    throw new Error(`Missing required environment variable: ${name}`);
  }
  return val || "";
}

function getAuthority(): string {
  const tenantId = getEnv("AZURE_TENANT_ID");
  return `https://login.microsoftonline.com/${tenantId}`;
}

export function getConfidentialClient(): ConfidentialClientApplication {
  if (cca) return cca;

  const config: Configuration = {
    auth: {
      clientId: getEnv("AZURE_BACKEND_CLIENT_ID"),
      authority: getAuthority(),
      clientSecret: getEnv("AZURE_BACKEND_CLIENT_SECRET"),
    },
    system: {
      loggerOptions: {
        loggerCallback(_level, _message, _containsPii) {
          // no-op; wire to your logger if desired
        },
        piiLoggingEnabled: false,
        logLevel: LogLevel.Warning,
      },
    },
  };

  cca = new ConfidentialClientApplication(config);
  return cca;
}

/**
 * On-Behalf-Of: Exchange a user access token (for this API) for a Microsoft Graph access token.
 */
export async function acquireOboToken(userAccessToken: string, scopes: string[]): Promise<string> {
  const client = getConfidentialClient();

  const result = await client.acquireTokenOnBehalfOf({
    oboAssertion: userAccessToken,
    scopes,
    authority: getAuthority(),
    skipCache: true,
  });

  if (!result?.accessToken) {
    throw new Error("OBO failed: no access token returned");
  }
  return result.accessToken;
}

export type VerifiedAccessToken = JWTPayload & {
  aud: string | string[];
  iss: string;
  tid?: string;
  oid?: string;
  sub?: string;
  preferred_username?: string;
  scp?: string;
  roles?: string[];
};

/**
 * Optionally verify the inbound API access token using tenant JWKS and expected audience.
 * Accepts both GUID clientId and api://<clientId> audiences.
 */
export async function verifyApiAccessToken(token: string): Promise<VerifiedAccessToken> {
  const tenantId = getEnv("AZURE_TENANT_ID");
  const backendClientId = getEnv("AZURE_BACKEND_CLIENT_ID");
  const issuer = `https://login.microsoftonline.com/${tenantId}/v2.0`;
  const jwksUri = `https://login.microsoftonline.com/${tenantId}/discovery/v2.0/keys`;

  const JWKS = createRemoteJWKSet(new URL(jwksUri));

  const acceptableAudience = [backendClientId, `api://${backendClientId}`];

  const { payload } = await jwtVerify(token, JWKS, {
    issuer,
    audience: acceptableAudience,
  });

  return payload as VerifiedAccessToken;
}

Exact test setup file (ensures mock mode and stability):
Create file: my-app/tests/setup.ts
/**
 * Vitest setup file.
 * - Forces mock mode for API route tests.
 * - Keeps environment predictable.
 */

process.env.USE_MOCK_INVENTORY = process.env.USE_MOCK_INVENTORY || "true";

// Prefer UTC-like behavior; helpers use UTC methods so this is mostly a safeguard.
process.env.TZ = process.env.TZ || "UTC";

// jsdom does not implement matchMedia; SidebarProvider relies on it via useIsMobile.
if (typeof window !== "undefined") {
  const needsPolyfill = typeof (window as { matchMedia?: unknown }).matchMedia !== "function";
  if (needsPolyfill) {
    Object.defineProperty(window, "matchMedia", {
      writable: true,
      value: (query: string) => ({
        matches: false,
        media: query,
        onchange: null,
        addEventListener: () => {},
        removeEventListener: () => {},
        // Legacy API used by some libs
        addListener: () => {},
        removeListener: () => {},
        dispatchEvent: () => false,
      }),
    });
  }
}

// React act() support: tell React DOM we're in a test environment.
// See https://react.dev/reference/react/act#test-environment
// eslint-disable-next-line @typescript-eslint/no-explicit-any
;(globalThis as unknown as { IS_REACT_ACT_ENVIRONMENT?: boolean }).IS_REACT_ACT_ENVIRONMENT = true;

Note on remaining source files:
- Recreate each file listed in the tree above exactly (verbatim). The business logic lives under:
  - API routes: src/app/api/inventory/** (SharePoint/Graph integration, mock/live toggles)
  - Graph client: src/lib/graph/sharepoint.ts (respects env-based cache TTL, retries, scopes)
  - UI components and pages: src/components/** and src/app/**

3g) Public static assets (non-animations)
- Create the following simple placeholder SVGs or use the originals if available:
  - my-app/public/file.svg
  - my-app/public/globe.svg
  - my-app/public/next.svg
  - my-app/public/vercel.svg
  - my-app/public/window.svg
  - my-app/blacklabsolutionsicon.svg

If you have the originals (from this project tree), copy them verbatim. Otherwise, any SVG placeholders will not affect application behavior for development.

------------------------------------------------------------
4) Environment variables
------------------------------------------------------------

Client-exposed (NEXT_PUBLIC_*):
- NEXT_PUBLIC_USE_MOCK_INVENTORY: "true" to run UI in mock mode.
- NEXT_PUBLIC_AZURE_TENANT_ID: Optional tenant id for MSAL config (falls back to server-side AZURE_TENANT_ID or "common" for mock).
- NEXT_PUBLIC_AZURE_FRONTEND_CLIENT_ID: SPA client ID. A dummy GUID is used in msal-provider to allow UI initialization in mock mode.
- NEXT_PUBLIC_AZURE_REDIRECT_URI: Defaults to {window.origin}/auth/callback at runtime; set explicitly in production.
- NEXT_PUBLIC_AZURE_API_SCOPE: API scope string consumed by UI for token acquisition (e.g., api://<backend-client-id>/.default).
- NEXT_PUBLIC_CHECKIN_OVERLAY_URL, NEXT_PUBLIC_CHECKINOUT_OVERLAY_URL, NEXT_PUBLIC_CHECKOUT_OVERLAY_URL: Optional absolute or relative URLs to Lottie JSONs.

Server-only (secrets and tunables):
- USE_MOCK_INVENTORY: "true" to serve mock data and bypass auth.
- USE_MOCK_INVENTORY_WRITE: "true" to simulate writes in mock mode.
- AZURE_VERIFY_JWT: "true" to enforce JWT verification on API routes.
- AZURE_TENANT_ID: Your AAD tenant id.
- AZURE_BACKEND_CLIENT_ID: Confidential (server) app registration client id.
- AZURE_BACKEND_CLIENT_SECRET: Confidential client secret.
- AZURE_API_SCOPE: API scope used by UI (also referenced in some components).
- GRAPH_SCOPES: Space/comma separated scopes; default https://graph.microsoft.com/.default.
- DEBUG_GRAPH: "true" to log minimal Graph diagnostics (not verbose).
- GRAPH_MAX_RETRIES: Optional retry count for Graph calls (default 3).
- SharePoint target:
  - SP_HOSTNAME: e.g., contoso.sharepoint.com
  - SP_SITE_PATH: e.g., /sites/Inventory
  - SP_LIST_ID_OR_NAME: list id or name
- Caching/tunables (seconds):
  - MODELS_CACHE_TTL_SECONDS (default 900)
  - USERS_CACHE_TTL_SECONDS (default 900)
  - CACHE_TTL_SECONDS, CACHE_ID_TTL_SECONDS (optional; used inside sharepoint.ts)
  - DEPLOYED_CACHE_TTL_SECONDS (default 60)
  - DEPLOYED_AT_TTL_SECONDS (default 300)
  - DEPLOYED_PAGE_SIZE (default 50)
  - DEPLOYED_CONCURRENCY (default 10)
  - DEPLOYED_MAX_RESULTS (default 50)
- Test-only:
  - TZ=UTC enforced by tests/setup.ts

Sample .env.local (mock mode):
USE_MOCK_INVENTORY=true
NEXT_PUBLIC_USE_MOCK_INVENTORY=true
NEXT_PUBLIC_AZURE_FRONTEND_CLIENT_ID=00000000-0000-0000-0000-000000000000

Sample .env.local (live):
USE_MOCK_INVENTORY=false
AZURE_VERIFY_JWT=true
AZURE_TENANT_ID=<your-tenant-guid>
AZURE_BACKEND_CLIENT_ID=<server-app-id>
AZURE_BACKEND_CLIENT_SECRET=<server-secret>
AZURE_API_SCOPE=api://<server-app-id>/.default
GRAPH_SCOPES=https://graph.microsoft.com/.default
SP_HOSTNAME=contoso.sharepoint.com
SP_SITE_PATH=/sites/Inventory
SP_LIST_ID_OR_NAME=Inventory List
NEXT_PUBLIC_AZURE_TENANT_ID=<same-tenant-guid>
NEXT_PUBLIC_AZURE_FRONTEND_CLIENT_ID=<spa-app-id>
NEXT_PUBLIC_AZURE_REDIRECT_URI=https://yourapp.example.com/auth/callback
NEXT_PUBLIC_AZURE_API_SCOPE=api://<server-app-id>/.default

Security note:
- Never expose server secrets (*_CLIENT_SECRET, SP_* identifiers that are sensitive) to NEXT_PUBLIC_*.
- MSAL OBO flow is handled server-side via msal-node using AZURE_BACKEND_* credentials.

------------------------------------------------------------
5) Running, building, testing, linting
------------------------------------------------------------
- Dev:
  npm run dev
  Visit http://localhost:3000

- Build:
  npm run build
  npm run start

- Lint:
  npm run lint

- Unit/component/API tests:
  npm run test
  For watch mode: npm run test:watch
  For coverage: npm run coverage

------------------------------------------------------------
6) API endpoints overview
------------------------------------------------------------
All under /api/inventory:
- GET /api/inventory/options/models
- GET /api/inventory/options/users
- GET /api/inventory/options/locations
- GET /api/inventory
- GET /api/inventory/[asset]
- GET /api/inventory/[asset]/history
- POST /api/inventory (create; mock/live behaviors differ)
- GET /api/inventory/next-asset
- POST /api/inventory/search

Behaviors:
- Mock mode (USE_MOCK_INVENTORY=true) returns in-memory/mock data without auth.
- Live mode (AZURE_VERIFY_JWT=true) verifies inbound access tokens. Backend exchanges the user token for Graph scopes using OBO (see msal-server.ts) and calls SharePoint/Graph via code in src/lib/graph/sharepoint.ts.

------------------------------------------------------------
7) Azure/MSAL and Graph integration notes
------------------------------------------------------------
- Client (SPA): MSAL configuration in src/app/providers/msal-provider.tsx. It reads NEXT_PUBLIC_* and falls back to defaults for mock mode.
- Server: Confidential client via msal-node in src/lib/auth/msal-server.ts. OBO flow used for Graph.
- Graph/SharePoint access: src/lib/graph/sharepoint.ts observes retry logic (GRAPH_MAX_RETRIES), tunable caches (MODELS/USERS cache TTLs), and scopes from GRAPH_SCOPES.

------------------------------------------------------------
8) Lottie assets (excluded by user request)
------------------------------------------------------------
Expected files under public/animations/ (not included here; you will re-apply them after rebuild):
- checkinanimation.json
- checkinoutanimation.json
- checkintocheckout.json
- checkoutanimation.json
- checkouttocheckin.json
- createdeployed.json
- createreadytodeploy.json
- createretired.json
- overlay.json
- README.md (optional reference)
Instructions:
- Place the original JSON files in my-app/public/animations/ preserving the exact filenames.
- If using different assets, ensure any NEXT_PUBLIC_*_OVERLAY_URL variables reference correct paths.

------------------------------------------------------------
9) Verification checklist
------------------------------------------------------------
- [ ] npm install completes with no errors (Node 20.x).
- [ ] npm run dev starts Next.js at http://localhost:3000 without runtime errors.
- [ ] Mock mode UI functional with NEXT_PUBLIC_USE_MOCK_INVENTORY=true and USE_MOCK_INVENTORY=true.
- [ ] Vitest suite passes (npm run test).
- [ ] ESLint runs cleanly (npm run lint).
- [ ] In live mode, API endpoints respond with authenticated data after configuring Azure and Graph variables.
- [ ] Lottie animations display once JSONs are restored or overlay URLs are set.

End of REBUILD Guide

------------------------------------------------------------
10) Full verbatim source appendix
------------------------------------------------------------
Each file below is included verbatim. For any section marked BASE64 (e.g., favicon.ico), reconstruct by decoding the block into the same path (e.g., base64 -d).

==== FILE: workspaces/codespaces-blank/my-app/.gitignore ====
BEGIN_CONTENT
# See https://help.github.com/articles/ignoring-files/ for more about ignoring files.

# dependencies
/node_modules
/.pnp
.pnp.*
.yarn/*
!.yarn/patches
!.yarn/plugins
!.yarn/releases
!.yarn/versions

# testing
/coverage

# next.js
/.next/
/out/

# production
/build

# misc
.DS_Store
*.pem

# debug
npm-debug.log*
yarn-debug.log*
yarn-error.log*
.pnpm-debug.log*

# env files (can opt-in for committing if needed)
.env*

# vercel
.vercel

# typescript
*.tsbuildinfo
next-env.d.ts
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/blacklabsolutionsicon.svg ====
BEGIN_CONTENT
<svg width="1488" height="1484" viewBox="0 0 1488 1484" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M1459.53 1450.05H1372.14L1246.98 1313.44L1280.43 1054.21L1367.82 926.208L1330.06 1291.93L1365.66 1380.14H1401.27L1459.53 1450.05Z" fill="#1C1C21"/>
<path d="M1108.57 911L943.197 735.134L992.576 995.983L1002.24 1342.71L1024.78 1334.12L1122.46 1475.82H1215.85L1162.18 1396.38H1131.05L1095.63 1334.12L1108.57 911Z" fill="#484858"/>
<path d="M1108.57 911L1101.07 981L1106.36 974.514L1108.57 911Z" fill="black"/>
<path d="M1028.07 445.5L1021.56 445.302L942.124 734.06L1108.57 911L1154.86 811.5L1028.07 445.5Z" fill="#2F2F39"/>
<path d="M582.814 720.105L547.093 838.355L679.607 830.558L775 881L746.44 850.05L582.814 720.105Z" fill="#232323"/>
<path d="M641.557 655.699L506.302 476.432L602.913 688.976L641.557 655.699Z" fill="black"/>
<path d="M1248.06 1313.72L1371.5 1447.91L1291 1452.2L1239.47 1318.02L1206.57 958L1370.43 902.592V922.988L1281.33 1055.02L1248.06 1313.72Z" fill="black"/>
<path d="M1108.57 911L1100.57 982.5L1204.57 956.368L1304.95 839.832L1265.24 715.812L1154.86 811.5L1108.57 911Z" fill="black"/>
<path d="M1171.84 859.655L1108.57 911L1154.86 811.5L1171.84 859.655Z" fill="#2F2F39"/>
<path d="M203.466 1170.95L221.072 1178.6L164.572 1374.99H200.119L249.21 1452.2L126.482 1448.89L112.072 1245.1L203.466 1170.95Z" fill="#2F2F39"/>
<path d="M113.419 1249.32L132.741 1450.05H115.566L86.5824 1435.02L113.419 1249.32Z" fill="black"/>
<path d="M210.172 1181.69L226.072 1180.1L289.136 1124.41L437.054 933.106L468.195 874.683L221.294 1029.33L128.984 1131.29L210.172 1181.69Z" fill="#2F2F39"/>
<path d="M219.072 1181.6L130.594 1131.24L114.492 1247.17L219.072 1181.6Z" fill="black"/>
<path d="M676.981 828.524L551.387 834.965L508.449 903.666L527.771 1052.88L456.923 1158.07L542.799 1415.7H719.919L654.439 1337.34H609.354L569.636 1177.4L542.799 1052.88L713.478 1016.38L743.535 860.728L676.981 828.524Z" fill="#1C1C21"/>
<path d="M713.572 1016.1L570.072 1182.6L528.845 1046.34L713.572 1016.1Z" fill="black"/>
<path d="M642.631 648.57L614.498 694.343L511.072 477.604L642.631 648.57Z" fill="#2F2F39"/>
<path d="M1021.56 445.302L511.572 478.104L641.557 649.258L1021.56 445.302Z" fill="#484858"/>
<path d="M279.072 739.604L464.681 894.005L513.072 478.104L371.989 549.959L325.572 641.604L279.072 739.604Z" fill="#2F2F39"/>
<path d="M641.072 649.5L878.847 876.83L945.245 732.314L1026.07 447.75L1017.07 445.5L641.072 649.5Z" fill="#1C1C21"/>
<path d="M281.128 739.428L220.764 1042.14L463.572 881.604L281.128 739.428Z" fill="#1C1C21"/>
<path d="M512.634 477.235L641 650.111L540.072 794.604L497.572 845.604L477.072 864.104L462.072 881.604L512.634 477.235Z" fill="#1C1C21"/>
<path d="M434.017 934.128L310.572 1097.1L486.699 938.461L553.359 834.478L677.003 826.896L740.437 859.391L947.572 959.104L1000.43 1278L996.325 999.118L942.567 729.411L872.681 869.139L641.522 649.258L461.971 881.054L434.017 934.128Z" fill="black"/>
<path d="M72.0719 548.104L95.0719 563.604L377.072 544.104L227.072 529.104L118.786 467.293L5 369.087L72.0719 548.104Z" fill="#484858"/>
<path d="M94.0966 561.479L386.076 541.913L335.072 624.604L202.196 627.789L94.0966 561.479Z" fill="black"/>
<path d="M357.072 543.604L201.122 632.083L101.572 560.104L357.072 543.604Z" fill="#2F2F39"/>
<path d="M1287.78 738.985L1171.61 859.655L1028.07 447L1287.78 738.985Z" fill="#484858"/>
<path d="M1184.08 969.146L1178.28 968.026L1282.69 846.997L1390.2 679.455L1465.97 561.234L1462.57 665L1456.57 762.5L1370.57 907L1184.08 969.146Z" fill="#484858"/>
<path d="M1390.2 679.455L1367.27 916.399L1266.7 949.851L1175.7 969.851V858.955L1262.07 722.104L1390.2 679.455Z" fill="black"/>
<path d="M1122.46 1472.59L1122.46 1475.82L1060 1477.1H1053.07L1020.07 1388.1L1004.57 1339.6L1001.16 1299.77L1122.46 1472.59Z" fill="black"/>
<path d="M1360.67 530.726L1224.5 654L1262.07 722.104L1390.2 679.455L1432.69 617.052L1360.67 530.726Z" fill="#2F2F39"/>
<path d="M1031.57 118L901.072 162L903.706 163.715L970.521 179.356L938.186 233.354L1003.93 301.391C1066.81 307.151 1192.99 318.67 1194.71 318.67C1196.44 318.67 1168.12 328.75 1153.75 333.789L1338.57 506L1300.85 371.976L1260.46 290.179L1253.99 187.996L1260.57 14.5L1146.07 6L1056.57 57.5L1031.57 118Z" fill="#2F2F39"/>
<path d="M1122.5 148.846L1178.55 113.278L1103.1 87.4102L1093.4 111.122L1095.56 132.678L1107.41 146.69L1122.5 148.846Z" fill="black"/>
<path d="M1294.95 225.37L1321.9 318.062L1416.74 223.214L1481.41 124.056V108.966L1344.53 18.4299L1269.08 14.1187L1289.56 94.9546L1294.95 225.37Z" fill="#2F2F39"/>
<path d="M1478.98 110.44L1287.94 96.4483L1266.95 18.418L1343.37 22.7232L1478.98 110.44Z" fill="#484858"/>
<path d="M1381.57 507.196L1251.86 701.855L1099.59 404.802L1381.57 507.196Z" fill="#2F2F39"/>
<path d="M903.706 163.715L972.409 177.707L938.603 232.597L1002.94 298.25L1202.51 316.547L1157.8 332.691L1333.57 497L1106.57 409L1263 723.5L1027.07 447.5L1094.07 340L1027.07 327.5L953.572 316.547L916.5 260L903.706 163.715Z" fill="black"/>
<path d="M1424.32 268.115L1300.31 371.976L1332.6 495.748L1435.39 626.516L1468.57 571.5L1424.32 268.115Z" fill="#484858"/>
<path d="M1269.08 14.1187L1259.38 11.9634L1251.84 186.569L1259.38 288.026L1300.85 372.514L1423.21 273.872L1481.41 124.056L1416.74 223.214L1321.9 318.062L1294.95 225.37L1289.56 94.9546L1269.08 14.1187Z" fill="black"/>
<path d="M1056.57 59.5L1031.07 121.5L1082.9 91.9459L1056.57 59.5Z" fill="#484858"/>
<path d="M1108.57 911L943.197 735.134L992.576 995.983L1002.24 1342.71L1024.78 1334.12L1122.46 1475.82M1108.57 911L1095.63 1334.12L1131.05 1396.38H1162.18L1215.85 1475.82H1122.46M1108.57 911L1101.07 981L1106.36 974.514L1108.57 911ZM1108.57 911L1154.86 811.5M1108.57 911L942.124 734.06L1021.56 445.302M1108.57 911L1100.57 982.5L1204.57 956.368L1304.95 839.832L1265.24 715.812L1154.86 811.5M1108.57 911L1171.84 859.655L1154.86 811.5M1122.46 1475.82L1060 1477.1H1053.07L1020.07 1388.1L1004.57 1339.6L1001.16 1299.77L1122.46 1472.59L1122.46 1475.82ZM1154.86 811.5L1028.07 445.5L1021.56 445.302M1021.56 445.302L511.572 478.104L641.557 649.258L1021.56 445.302ZM1026.07 447.75L1017.07 445.5L641.072 649.5L878.847 876.83L945.245 732.314L1026.07 447.75ZM1026.07 447.75L1035.07 450M1390.2 679.455L1465.97 561.234L1462.57 665L1456.57 762.5L1370.57 907L1184.08 969.146L1178.28 968.026L1282.69 846.997L1390.2 679.455ZM1390.2 679.455L1367.27 916.399L1266.7 949.851L1175.7 969.851V858.955L1262.07 722.104M1390.2 679.455L1262.07 722.104M1390.2 679.455L1432.69 617.052L1360.67 530.726L1224.5 654L1262.07 722.104M1269.08 14.1187L1289.56 94.9546L1294.95 225.37L1321.9 318.062L1416.74 223.214L1481.41 124.056M1269.08 14.1187L1344.53 18.4299L1481.41 108.966V124.056M1269.08 14.1187L1259.38 11.9634L1251.84 186.569L1259.38 288.026L1300.85 372.514L1423.21 273.872L1481.41 124.056M903.706 163.715L972.409 177.707L938.603 232.597L1002.94 298.25L1202.51 316.547L1157.8 332.691L1333.57 497L1106.57 409L1263 723.5L1027.07 447.5L1094.07 340L1027.07 327.5L953.572 316.547L916.5 260L903.706 163.715ZM903.706 163.715L970.521 179.356L938.186 233.354L1003.93 301.391C1066.81 307.151 1192.99 318.67 1194.71 318.67C1196.44 318.67 1168.12 328.75 1153.75 333.789L1338.57 506L1300.85 371.976L1260.46 290.179L1253.99 187.996L1260.57 14.5L1146.07 6L1056.57 57.5L1031.57 118L901.072 162L903.706 163.715ZM1372.14 1450.05H1459.53L1401.27 1380.14H1365.66L1330.06 1291.93L1367.82 926.208L1280.43 1054.21L1246.98 1313.44L1372.14 1450.05ZM547.093 838.355L582.814 720.105L746.44 850.05L775 881L679.607 830.558L547.093 838.355ZM506.302 476.432L641.557 655.699L602.913 688.976L506.302 476.432ZM1371.5 1447.91L1248.06 1313.72L1281.33 1055.02L1370.43 922.988V902.592L1206.57 958L1239.47 1318.02L1291 1452.2L1371.5 1447.91ZM221.072 1178.6L203.466 1170.95L112.072 1245.1L126.482 1448.89L249.21 1452.2L200.119 1374.99H164.572L221.072 1178.6ZM132.741 1450.05L113.419 1249.32L86.5824 1435.02L115.566 1450.05H132.741ZM226.072 1180.1L210.172 1181.69L128.984 1131.29L221.294 1029.33L468.195 874.683L437.054 933.106L289.136 1124.41L226.072 1180.1ZM130.594 1131.24L219.072 1181.6L114.492 1247.17L130.594 1131.24ZM551.387 834.965L676.981 828.524L743.535 860.728L713.478 1016.38L542.799 1052.88L569.636 1177.4L609.354 1337.34H654.439L719.919 1415.7H542.799L456.923 1158.07L527.771 1052.88L508.449 903.666L551.387 834.965ZM570.072 1182.6L713.572 1016.1L528.845 1046.34L570.072 1182.6ZM614.498 694.343L642.631 648.57L511.072 477.604L614.498 694.343ZM464.681 894.005L279.072 739.604L325.572 641.604L371.989 549.959L513.072 478.104L464.681 894.005ZM220.764 1042.14L281.128 739.428L463.572 881.604L220.764 1042.14ZM641 650.111L512.634 477.235L462.072 881.604L477.072 864.104L497.572 845.604L540.072 794.604L641 650.111ZM310.572 1097.1L434.017 934.128L461.971 881.054L641.522 649.258L872.681 869.139L942.567 729.411L996.325 999.118L1000.43 1278L947.572 959.104L740.437 859.391L677.003 826.896L553.359 834.478L486.699 938.461L310.572 1097.1ZM95.0719 563.604L72.0719 548.104L5 369.087L118.786 467.293L227.072 529.104L377.072 544.104L95.0719 563.604ZM386.076 541.913L94.0966 561.479L202.196 627.789L335.072 624.604L386.076 541.913ZM201.122 632.083L357.072 543.604L101.572 560.104L201.122 632.083ZM1171.61 859.655L1287.78 738.985L1028.07 447L1171.61 859.655ZM1178.55 113.278L1122.5 148.846L1107.41 146.69L1095.56 132.678L1093.4 111.122L1103.1 87.4102L1178.55 113.278ZM1287.94 96.4483L1478.98 110.44L1343.37 22.7232L1266.95 18.418L1287.94 96.4483ZM1251.86 701.855L1381.57 507.196L1099.59 404.802L1251.86 701.855ZM1300.31 371.976L1424.32 268.115L1468.57 571.5L1435.39 626.516L1332.6 495.748L1300.31 371.976ZM1031.07 121.5L1056.57 59.5L1082.9 91.9459L1031.07 121.5Z" stroke="#484858" stroke-width="0.001"/>
<path d="M1321.05 319.448L1415.52 228.205M1415.52 228.205L1482.07 128.374V111.198L1344.67 19.9549L1142.86 6L1052.69 58.5992L1028 119.786L899.186 162.724L914.214 259.335L949.638 319.448L1090.26 341.991L1034.44 446.115L508.449 480.466L378.561 543.8L227.205 528.771L112.345 463.291L5 372.047L72.6275 548.093L196.074 629.676L328.5 627L277.657 735.948L219.69 1032.22L129.52 1127.76L85.5089 1436.91L111.272 1450.87H248.674L202.515 1378.95H164.944L219.69 1183.58L488.053 942.05L507.376 900.186L529.918 1052.62L457.997 1158.89L541.726 1417.59H717.772L653.365 1340.3H609.354L569.636 1183.58L712.405 1018.27L743.535 866.909L945.344 960.299L992.576 1246.91L1001.16 1340.3L1053.76 1478.78H1214.78L1163.26 1399.34H1128.9L1096.7 1334.93L1105.5 986L1209.41 960.299L1237.32 1319.91L1292.07 1451.94H1462.75L1401.56 1381.09H1366.14L1332.86 1296.29L1370.43 910.92L1456.31 764.931L1469.19 566.342L1415.52 228.205Z" stroke="black" stroke-width="10"/>
</svg>
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/components.json ====
BEGIN_CONTENT
{
  "$schema": "https://ui.shadcn.com/schema.json",
  "style": "new-york",
  "rsc": true,
  "tsx": true,
  "tailwind": {
    "config": "",
    "css": "src/app/globals.css",
    "baseColor": "neutral",
    "cssVariables": true,
    "prefix": ""
  },
  "aliases": {
    "components": "@/components",
    "utils": "@/lib/utils",
    "ui": "@/components/ui",
    "lib": "@/lib",
    "hooks": "@/hooks"
  },
  "iconLibrary": "lucide"
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/eslint.config.mjs ====
BEGIN_CONTENT
import { dirname } from "path";
import { fileURLToPath } from "url";
import { FlatCompat } from "@eslint/eslintrc";

const __filename = fileURLToPath(import.meta.url);
const __dirname = dirname(__filename);

const compat = new FlatCompat({
  baseDirectory: __dirname,
});

const eslintConfig = [
  ...compat.extends("next/core-web-vitals", "next/typescript"),
];

export default eslintConfig;
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/next.config.ts ====
BEGIN_CONTENT
import type { NextConfig } from "next";

const nextConfig: NextConfig = {
  // Ensure Node.js runtime for server routes that use native Node modules
  // We also explicitly set runtime = "nodejs" inside the route handler.
  serverExternalPackages: ["@azure/msal-node", "jose", "lru-cache"],
};

export default nextConfig;
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/package.json ====
BEGIN_CONTENT
{
  "name": "curator",
  "version": "0.1.0",
  "private": true,
  "scripts": {
    "dev": "next dev",
    "dev:turbo": "next dev --turbopack",
    "build": "next build",
    "start": "next start",
    "lint": "next lint",
    "test": "vitest run",
    "test:watch": "vitest",
    "coverage": "vitest run --coverage"
  },
  "dependencies": {
    "@azure/msal-browser": "^4.20.0",
    "@azure/msal-node": "^3.7.1",
    "@azure/msal-react": "^3.0.18",
    "@heroicons/react": "^2.2.0",
    "@radix-ui/react-alert-dialog": "^1.1.15",
    "@radix-ui/react-checkbox": "^1.3.3",
    "@radix-ui/react-dialog": "^1.1.15",
    "@radix-ui/react-dropdown-menu": "^2.1.16",
    "@radix-ui/react-label": "^2.1.7",
    "@radix-ui/react-scroll-area": "^1.2.10",
    "@radix-ui/react-separator": "^1.1.7",
    "@radix-ui/react-slot": "^1.2.3",
    "@radix-ui/react-tabs": "^1.1.13",
    "@radix-ui/react-tooltip": "^1.2.8",
    "@tanstack/react-table": "^8.21.3",
    "class-variance-authority": "^0.7.1",
    "clsx": "^2.1.1",
    "cmdk": "^1.1.1",
    "jose": "^6.0.12",
    "lottie-react": "^2.4.1",
    "lru-cache": "^11.1.0",
    "lucide-react": "^0.540.0",
    "next": "15.4.6",
    "react": "19.1.0",
    "react-dom": "19.1.0",
    "tailwind-merge": "^3.3.1",
    "tailwindcss-animate": "^1.0.7",
    "zod": "^4.0.17"
  },
  "devDependencies": {
    "@eslint/eslintrc": "^3",
    "@tailwindcss/postcss": "^4",
    "@types/node": "^20",
    "@types/react": "^19",
    "@types/react-dom": "^19",
    "@vitest/coverage-v8": "^3.2.4",
    "eslint": "^9",
    "eslint-config-next": "15.4.6",
    "jsdom": "^26.1.0",
    "tailwindcss": "^4",
    "tw-animate-css": "^1.3.7",
    "typescript": "^5",
    "vitest": "^3.2.4"
  }
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/postcss.config.mjs ====
BEGIN_CONTENT
const config = {
  plugins: ["@tailwindcss/postcss"],
};

export default config;
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/public/file.svg ====
BEGIN_CONTENT
<svg fill="none" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M14.5 13.5V5.41a1 1 0 0 0-.3-.7L9.8.29A1 1 0 0 0 9.08 0H1.5v13.5A2.5 2.5 0 0 0 4 16h8a2.5 2.5 0 0 0 2.5-2.5m-1.5 0v-7H8v-5H3v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1M9.5 5V2.12L12.38 5zM5.13 5h-.62v1.25h2.12V5zm-.62 3h7.12v1.25H4.5zm.62 3h-.62v1.25h7.12V11z" clip-rule="evenodd" fill="#666" fill-rule="evenodd"/></svg>
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/public/globe.svg ====
BEGIN_CONTENT
<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.27 14.1a6.5 6.5 0 0 0 3.67-3.45q-1.24.21-2.7.34-.31 1.83-.97 3.1M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16m.48-1.52a7 7 0 0 1-.96 0H7.5a4 4 0 0 1-.84-1.32q-.38-.89-.63-2.08a40 40 0 0 0 3.92 0q-.25 1.2-.63 2.08a4 4 0 0 1-.84 1.31zm2.94-4.76q1.66-.15 2.95-.43a7 7 0 0 0 0-2.58q-1.3-.27-2.95-.43a18 18 0 0 1 0 3.44m-1.27-3.54a17 17 0 0 1 0 3.64 39 39 0 0 1-4.3 0 17 17 0 0 1 0-3.64 39 39 0 0 1 4.3 0m1.1-1.17q1.45.13 2.69.34a6.5 6.5 0 0 0-3.67-3.44q.65 1.26.98 3.1M8.48 1.5l.01.02q.41.37.84 1.31.38.89.63 2.08a40 40 0 0 0-3.92 0q.25-1.2.63-2.08a4 4 0 0 1 .85-1.32 7 7 0 0 1 .96 0m-2.75.4a6.5 6.5 0 0 0-3.67 3.44 29 29 0 0 1 2.7-.34q.31-1.83.97-3.1M4.58 6.28q-1.66.16-2.95.43a7 7 0 0 0 0 2.58q1.3.27 2.95.43a18 18 0 0 1 0-3.44m.17 4.71q-1.45-.12-2.69-.34a6.5 6.5 0 0 0 3.67 3.44q-.65-1.27-.98-3.1" fill="#666"/></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h16v16H0z"/></clipPath></defs></svg>
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/public/next.svg ====
BEGIN_CONTENT
<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 394 80"><path fill="#000" d="M262 0h68.5v12.7h-27.2v66.6h-13.6V12.7H262V0ZM149 0v12.7H94v20.4h44.3v12.6H94v21h55v12.6H80.5V0h68.7zm34.3 0h-17.8l63.8 79.4h17.9l-32-39.7 32-39.6h-17.9l-23 28.6-23-28.6zm18.3 56.7-9-11-27.1 33.7h17.8l18.3-22.7z"/><path fill="#000" d="M81 79.3 17 0H0v79.3h13.6V17l50.2 62.3H81Zm252.6-.4c-1 0-1.8-.4-2.5-1s-1.1-1.6-1.1-2.6.3-1.8 1-2.5 1.6-1 2.6-1 1.8.3 2.5 1a3.4 3.4 0 0 1 .6 4.3 3.7 3.7 0 0 1-3 1.8zm23.2-33.5h6v23.3c0 2.1-.4 4-1.3 5.5a9.1 9.1 0 0 1-3.8 3.5c-1.6.8-3.5 1.3-5.7 1.3-2 0-3.7-.4-5.3-1s-2.8-1.8-3.7-3.2c-.9-1.3-1.4-3-1.4-5h6c.1.8.3 1.6.7 2.2s1 1.2 1.6 1.5c.7.4 1.5.5 2.4.5 1 0 1.8-.2 2.4-.6a4 4 0 0 0 1.6-1.8c.3-.8.5-1.8.5-3V45.5zm30.9 9.1a4.4 4.4 0 0 0-2-3.3 7.5 7.5 0 0 0-4.3-1.1c-1.3 0-2.4.2-3.3.5-.9.4-1.6 1-2 1.6a3.5 3.5 0 0 0-.3 4c.3.5.7.9 1.3 1.2l1.8 1 2 .5 3.2.8c1.3.3 2.5.7 3.7 1.2a13 13 0 0 1 3.2 1.8 8.1 8.1 0 0 1 3 6.5c0 2-.5 3.7-1.5 5.1a10 10 0 0 1-4.4 3.5c-1.8.8-4.1 1.2-6.8 1.2-2.6 0-4.9-.4-6.8-1.2-2-.8-3.4-2-4.5-3.5a10 10 0 0 1-1.7-5.6h6a5 5 0 0 0 3.5 4.6c1 .4 2.2.6 3.4.6 1.3 0 2.5-.2 3.5-.6 1-.4 1.8-1 2.4-1.7a4 4 0 0 0 .8-2.4c0-.9-.2-1.6-.7-2.2a11 11 0 0 0-2.1-1.4l-3.2-1-3.8-1c-2.8-.7-5-1.7-6.6-3.2a7.2 7.2 0 0 1-2.4-5.7 8 8 0 0 1 1.7-5 10 10 0 0 1 4.3-3.5c2-.8 4-1.2 6.4-1.2 2.3 0 4.4.4 6.2 1.2 1.8.8 3.2 2 4.3 3.4 1 1.4 1.5 3 1.5 5h-5.8z"/></svg>
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/public/vercel.svg ====
BEGIN_CONTENT
<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1155 1000"><path d="m577.3 0 577.4 1000H0z" fill="#fff"/></svg>
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/public/window.svg ====
BEGIN_CONTENT
<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.5 2.5h13v10a1 1 0 0 1-1 1h-11a1 1 0 0 1-1-1zM0 1h16v11.5a2.5 2.5 0 0 1-2.5 2.5h-11A2.5 2.5 0 0 1 0 12.5zm3.75 4.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5M7 4.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0m1.75.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5" fill="#666"/></svg>
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/README.md ====
BEGIN_CONTENT
This is a [Next.js](https://nextjs.org) project bootstrapped with [`create-next-app`](https://nextjs.org/docs/app/api-reference/cli/create-next-app).

## Getting Started

First, run the development server:

```bash
npm run dev
# or
yarn dev
# or
pnpm dev
# or
bun dev
```

Open [http://localhost:3000](http://localhost:3000) with your browser to see the result.

You can start editing the page by modifying `app/page.tsx`. The page auto-updates as you edit the file.

This project uses [`next/font`](https://nextjs.org/docs/app/building-your-application/optimizing/fonts) to automatically optimize and load [Geist](https://vercel.com/font), a new font family for Vercel.

## Learn More

To learn more about Next.js, take a look at the following resources:

- [Next.js Documentation](https://nextjs.org/docs) - learn about Next.js features and API.
- [Learn Next.js](https://nextjs.org/learn) - an interactive Next.js tutorial.

You can check out [the Next.js GitHub repository](https://github.com/vercel/next.js) - your feedback and contributions are welcome!

## Deploy on Vercel

The easiest way to deploy your Next.js app is to use the [Vercel Platform](https://vercel.com/new?utm_medium=default-template&filter=next.js&utm_source=create-next-app&utm_campaign=create-next-app-readme) from the creators of Next.js.

Check out our [Next.js deployment documentation](https://nextjs.org/docs/app/building-your-building) for more details.

## Inventory Options Endpoints

These backend endpoints power the dropdowns in the Asset Page Edit Menu.

- GET /api/inventory/options/models
  - Returns distinct model strings from the SharePoint List: { models: string[] }
  - Query: search? (substring filter), top? (default 50, max 200)
  - Implementation: scans list items for the free‑text Model field and caches results for a short TTL.
  - Cache: MODELS_CACHE_TTL_SECONDS (default 900s). Cache automatically invalidated after item PATCH/POST that sets a model.

- GET /api/inventory/options/users
  - Directory search via Microsoft Graph /users with $search (ConsistencyLevel: eventual).
  - Returns: { users: Array<{ id, displayName?, mail?, userPrincipalName? }> }
  - Query: search (required, min 2 chars), top? (default 20, max 50)
  - Requires delegated scope: User.ReadBasic.All (admin consent). Client should debounce (e.g., 250ms).

- GET /api/inventory/options/locations
  - Static list provided by the business: { locations: string[] }
  - Query: search? (substring filter), top? (optional)
  - Order preserved to match the provided list.

Mock mode: when USE_MOCK_INVENTORY=true, endpoints return data without auth and derive models/users from mock data.

### Example (mock mode)
```bash
curl 'http://localhost:3000/api/inventory/options/models?search=Dell&top=5'
curl 'http://localhost:3000/api/inventory/options/users?search=Alex&top=5'
curl 'http://localhost:3000/api/inventory/options/locations?search=hou'
```

### Example (live)
```bash
# Replace $TOKEN with a valid user bearer token
curl -H "Authorization: Bearer $TOKEN" 'http://localhost:3000/api/inventory/options/models?top=50'
curl -H "Authorization: Bearer $TOKEN" 'http://localhost:3000/api/inventory/options/users?search=jane&top=10'
curl -H "Authorization: Bearer $TOKEN" 'http://localhost:3000/api/inventory/options/locations'
```

## Auth and Permissions

- Live mode requires Authorization: Bearer <token> on all endpoints.
- Optional server-side JWT verification when AZURE_VERIFY_JWT=true.
- Azure App Registration (delegated permissions):
  - Sites.ReadWrite.All (items CRUD already used by create/update/delete)
  - User.ReadBasic.All (needed for /users search)
  - Note: Columns management (Sites.Manage.All) is out of scope here and can be added later if needed.

GRAPH_SCOPES defaults to https://graph.microsoft.com/.default; ensure your app registration has the above delegated permissions and admin consent.

## Environment Variables

- SP_HOSTNAME: SharePoint hostname, e.g. contoso.sharepoint.com
- SP_SITE_PATH: Site path, e.g. /sites/Inventory
- SP_LIST_ID_OR_NAME: Target list id or name
- USE_MOCK_INVENTORY: "true" to serve mock data without auth (test/dev)
- USE_MOCK_INVENTORY_WRITE: "true" to simulate writes without Graph
- GRAPH_MAX_RETRIES: Optional retry count for Graph calls (default 3)
- MODELS_CACHE_TTL_SECONDS: TTL for models options cache (default 900)
- AZURE_VERIFY_JWT: "true" to enforce JWT verification for API tokens
- GRAPH_SCOPES: Space/comma separated scopes to request via OBO (default .default)

## Testing

Run the full test suite:
```bash
npm run test
```

Key tests for these endpoints:
- tests/api-options-endpoints.spec.ts (models/users/locations)
- tests/api-inventory-route.spec.ts (items list/create)
- Other component and service tests are included; mock mode is enforced during tests.

---

## Lottie-React Foundation (Prepared for future animations)

This codebase is prepared to render Lottie animations using [lottiereact.com](https://lottiereact.com) guidance. No animations are currently wired into the UI; only foundational support is added.

What’s included
- Dependency installed: `lottie-react` (see package.json)
- Client-safe reusable wrapper: `src/components/lottie/lottie-player.tsx`
  - Marked `"use client"` for Next.js App Router compatibility
  - Forwards the internal Lottie instance via `ref` for imperative controls (`play`, `pause`, `stop`, `setSpeed`, `setDirection`, etc.)
  - No animation JSON bundled/imported here

TypeScript support
- `tsconfig.json` already includes `"resolveJsonModule": true` and `"esModuleInterop": true`
- This allows importing animation JSON files like:
  ```ts
  import success from "@/assets/animations/success.json";
  ```
  or loading from `public/animations/*.json` via `fetch` at runtime.

How to add an animation later (example usage, not currently wired)
- In a client component:
  ```tsx
  "use client";

  import React, { useRef } from "react";
  import LottiePlayer, { LottiePlayerRef } from "@/components/lottie/lottie-player";
  import success from "@/assets/animations/success.json"; // or fetch from /animations/success.json

  export function SuccessBadge() {
    const ref = useRef<LottiePlayerRef>(null);
    return (
      <LottiePlayer
        ref={ref}
        animationData={success}
        loop={false}
        autoplay
        className="h-24 w-24"
      />
    );
  }
  ```
- Alternative (large files): place JSON in `public/animations/...` and load dynamically:
  ```tsx
  "use client";
  import React from "react";
  import LottiePlayer from "@/components/lottie/lottie-player";

  export function BigAnimation() {
    const [data, setData] = React.useState<object | null>(null);

    React.useEffect(() => {
      let mounted = true;
      fetch("/animations/big.json")
        .then((r) => r.json())
        .then((json) => { if (mounted) setData(json); });
      return () => { mounted = false; };
    }, []);

    if (!data) return null; // or a fallback
    return <LottiePlayer animationData={data} loop autoplay className="h-40 w-40" />;
  }
  ```

SSR guidance (Next.js App Router)
- Always render Lottie from a client component. The included wrapper is already client-safe.
- If you must use `lottie-react` directly, dynamically import with `ssr: false`:
  ```tsx
  import dynamic from "next/dynamic";
  const LottieNoSSR = dynamic(() => import("lottie-react"), { ssr: false });
  ```
  Prefer the shared `LottiePlayer` wrapper for consistency.

Reduced motion and accessibility
- For decorative animations, pass `role="img"` (default) and consider `aria-hidden` if purely decorative.
- Respect user motion preferences by disabling autoplay/loop based on `prefers-reduced-motion`:
  ```tsx
  const prefersReduced = typeof window !== "undefined" &&
    window.matchMedia("(prefers-reduced-motion: reduce)").matches;
  <LottiePlayer animationData={...} autoplay={!prefersReduced} loop={!prefersReduced} />;
  ```

Interactivity (optional for future)
- `lottie-react` provides `useLottie` and `useLottieInteractivity` for scroll/hover driven animations.
- You can build a specialized component later that maps scroll/visibility to frames without changing the wrapper.

Testing approach
- Wrapper tests live in `tests/lottie-player.spec.tsx`
- We mock `lottie-react` and assert that the wrapper:
  - Renders without throwing
  - Exposes imperative methods via the forwarded ref
  - Applies `speed` and `direction` via the ref

Migration checklist for adding real animations later
- Choose asset location:
  - Small/medium: `src/assets/animations/*` (import with bundling)
  - Large/shared: `public/animations/*` (fetch at runtime)
- Import/load JSON and pass as `animationData` to `LottiePlayer`
- Consider `loop`, `autoplay`, and `onComplete` to control lifecycle
- Gate heavy/looping animations with IntersectionObserver or conditional rendering
- Respect reduced motion preferences and add accessible labels where needed
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/app/api/inventory/[asset]/history/route.ts ====
BEGIN_CONTENT
import { NextRequest, NextResponse } from "next/server";
import { captureGraphMetrics, findListItemIdByAssetWithUserToken, fetchListItemVersions } from "@/lib/graph/sharepoint";
import { verifyApiAccessToken } from "@/lib/auth/msal-server";
import { computeAssetHistoryEvents } from "@/lib/history";
import { acquireOboToken } from "@/lib/auth/msal-server";

export const runtime = "nodejs";
export const dynamic = "force-dynamic";

function json(data: unknown, init?: ResponseInit) {
  return NextResponse.json(data, init);
}

function getBearerToken(req: NextRequest): string | null {
  const auth = req.headers.get("authorization") || req.headers.get("Authorization");
  if (!auth) return null;
  const match = auth.match(/^Bearer\s+(.+)$/i);
  return match ? match[1] : null;
}

export async function GET(
  req: NextRequest,
  context: { params: Promise<{ asset?: string }> }
) {
  try {
    const { asset } = await context.params;
    const assetParam = (asset || "").trim();
    const assetNum = Number.parseInt(assetParam, 10);
    if (!assetParam || !Number.isFinite(assetNum)) {
      return json({ error: "Invalid asset id" }, { status: 400 });
    }

    // In mock mode we do not have versions; return empty history (stable contract)
    if (process.env.USE_MOCK_INVENTORY === "true") {
      return json([], {
        status: 200,
        headers: { "Cache-Control": "no-store" },
      });
    }

    const token = getBearerToken(req);
    if (!token) {
      return json({ error: "Missing Authorization: Bearer <token>" }, { status: 401 });
    }

    if (process.env.AZURE_VERIFY_JWT === "true") {
      try {
        await verifyApiAccessToken(token);
      } catch {
        return json({ error: "Invalid or unauthorized token" }, { status: 401 });
      }
    }

    // page size for versions to inspect (upper bounded)
    const topParam = req.nextUrl.searchParams.get("top");
    const topRaw = topParam ? Number.parseInt(topParam, 10) : 50;
    const top = Number.isFinite(topRaw) ? Math.min(Math.max(topRaw, 1), 200) : 50;

    const { result, metrics } = await captureGraphMetrics(async () => {
      // Find the underlying list item id for this asset
      const ids = await findListItemIdByAssetWithUserToken(token, assetNum);
      if (!ids) {
        return { versions: null };
      }

      // Acquire Graph token and fetch versions for the item
      const scopes = (process.env.GRAPH_SCOPES || "https://graph.microsoft.com/.default")
        .split(/[,\s]+/)
        .filter(Boolean);
      const graphToken = await acquireOboToken(token, scopes);
      const versions = await fetchListItemVersions(graphToken, ids.siteId, ids.listId, ids.itemId, top);
      return { versions };
    });

    const headers: HeadersInit = { "Cache-Control": "no-store" };
    if (process.env.DEBUG_GRAPH === "true" && metrics.length) {
      const totalRetries = metrics.reduce((acc, m) => acc + (m.retryCount || 0), 0);
      const totalDuration = metrics.reduce((acc, m) => acc + (m.durationMs || 0), 0);
      (headers as Record<string, string>)["X-Graph-Retries"] = String(totalRetries);
      (headers as Record<string, string>)["X-Graph-Duration"] = String(totalDuration);
    }

    if (!result?.versions) {
      return json({ error: "Asset not found" }, { status: 404, headers });
    }

    const events = computeAssetHistoryEvents(result.versions);
    return json(events, { status: 200, headers });
  } catch (err) {
    const message = err instanceof Error ? err.message : "Unknown error";
    return json({ error: "Failed to fetch asset history", detail: message }, { status: 500 });
  }
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/app/api/inventory/[asset]/route.ts ====
BEGIN_CONTENT
import { NextRequest, NextResponse } from "next/server";
import {
  fetchInventoryItemByAssetWithUserToken,
  captureGraphMetrics,
  updateInventoryItemFieldsWithUserToken,
  deleteInventoryItemWithUserToken,
  GraphHttpError,
  findListItemIdByAssetWithUserToken,
  getListItemETag,
  invalidateModelsCache,
} from "@/lib/graph/sharepoint";
import { verifyApiAccessToken, acquireOboToken } from "@/lib/auth/msal-server";
import { ZInventoryPatchPayload } from "@/lib/validation/inventory";
import { FIELD_MAP } from "@/lib/mappers/inventory";

export const runtime = "nodejs";
export const dynamic = "force-dynamic";

function json(data: unknown, init?: ResponseInit) {
  return NextResponse.json(data, init);
}

function getBearerToken(req: NextRequest): string | null {
  const auth = req.headers.get("authorization") || req.headers.get("Authorization");
  if (!auth) return null;
  const match = auth.match(/^Bearer\s+(.+)$/i);
  return match ? match[1] : null;
}

function toSpFieldPatch(domain: Record<string, unknown>): Record<string, unknown> {
  const out: Record<string, unknown> = {};
  for (const [k, v] of Object.entries(domain)) {
    const spKey = (FIELD_MAP as Record<string, string>)[k as keyof typeof FIELD_MAP];
    if (spKey && v !== undefined) out[spKey] = v;
  }
  return out;
}

export async function GET(
  req: NextRequest,
  context: { params: Promise<{ asset?: string }> }
) {
  try {
    const { asset } = await context.params;
    const assetParam = (asset || "").trim();
    const assetNum = Number.parseInt(assetParam, 10);
    if (!assetParam || !Number.isFinite(assetNum)) {
      return json({ error: "Invalid asset id" }, { status: 400 });
    }

    // Mock mode short-circuit
    if (process.env.USE_MOCK_INVENTORY === "true") {
      const { mockInventory } = await import("@/data/inventory");
      const found = mockInventory.find((i) => i.asset === assetNum);
      if (!found) {
        return json({ error: "Asset not found" }, {
          status: 404,
          headers: { "Cache-Control": "no-store" },
        });
      }
      return json(found, {
        status: 200,
        headers: { "Cache-Control": "no-store" },
      });
    }

    const token = getBearerToken(req);
    if (!token) {
      return json({ error: "Missing Authorization: Bearer <token>" }, { status: 401 });
    }

    if (process.env.AZURE_VERIFY_JWT === "true") {
      try {
        await verifyApiAccessToken(token);
      } catch {
        return json({ error: "Invalid or unauthorized token" }, { status: 401 });
      }
    }

    const { result: found, metrics } = await captureGraphMetrics(() =>
      fetchInventoryItemByAssetWithUserToken(token, assetNum)
    );

    const headers: HeadersInit = { "Cache-Control": "no-store" };
    // Best-effort: resolve and attach current ETag for concurrency on first load
    try {
      const ids = await findListItemIdByAssetWithUserToken(token, assetNum);
      if (ids) {
        const scopes = (process.env.GRAPH_SCOPES || "https://graph.microsoft.com/.default")
          .split(/[,\s]+/)
          .filter(Boolean);
        const graphToken = await acquireOboToken(token, scopes);
        const { eTag } = await getListItemETag(graphToken, ids.siteId, ids.listId, ids.itemId);
        if (eTag) (headers as Record<string, string>)["ETag"] = eTag;
      }
    } catch {
      // ignore etag failure; response remains valid without it
    }
    if (process.env.DEBUG_GRAPH === "true" && metrics.length) {
      const totalRetries = metrics.reduce((acc, m) => acc + (m.retryCount || 0), 0);
      const totalDuration = metrics.reduce((acc, m) => acc + (m.durationMs || 0), 0);
      (headers as Record<string, string>)["X-Graph-Retries"] = String(totalRetries);
      (headers as Record<string, string>)["X-Graph-Duration"] = String(totalDuration);
    }

    if (!found) {
      return json({ error: "Asset not found" }, { status: 404, headers });
    }

    return json(found, { status: 200, headers });
  } catch (err) {
    const message = err instanceof Error ? err.message : "Unknown error";
    return json({ error: "Failed to fetch asset", detail: message }, { status: 500 });
  }
}

/**
 * PATCH /api/inventory/[asset]
 * Body: { fields: Partial<domain>, etag?: string }
 * - Maps domain keys to SharePoint internal keys and updates fields with If-Match.
 * - Returns { item, eTag } and sets ETag response header when available.
 */
export async function PATCH(
  req: NextRequest,
  context: { params: Promise<{ asset?: string }> }
) {
  try {
    const { asset } = await context.params;
    const assetParam = (asset || "").trim();
    const assetNum = Number.parseInt(assetParam, 10);
    if (!assetParam || !Number.isFinite(assetNum)) {
      return json({ error: "Invalid asset id" }, { status: 400 });
    }

    // Parse payload
    let body: unknown = null;
    try {
      body = await req.json();
    } catch {
      // no body
    }
    const parsed = ZInventoryPatchPayload.safeParse(body);
    if (!parsed.success) {
      const msg = parsed.error.issues.map((i) => `${i.path.join(".") || "(root)"}: ${i.message}`).join("; ");
      return json({ error: "Invalid payload", detail: msg }, { status: 400 });
    }
    const { fields, etag } = parsed.data;

    // Mock mode short-circuit
    if (process.env.USE_MOCK_INVENTORY === "true" || process.env.USE_MOCK_INVENTORY_WRITE === "true") {
      const { mockInventory } = await import("@/data/inventory");
      const idx = mockInventory.findIndex((i) => i.asset === assetNum);
      if (idx === -1) {
        return json({ error: "Asset not found" }, {
          status: 404,
          headers: { "Cache-Control": "no-store" },
        });
      }
      const current = mockInventory[idx];
      const updated = { ...current, ...fields };
      mockInventory[idx] = updated;
      try { invalidateModelsCache(); } catch {}
      return json({ item: updated, eTag: 'W/"mock"' }, {
        status: 200,
        headers: { "Cache-Control": "no-store", ETag: 'W/"mock"' },
      });
    }

    const token = getBearerToken(req);
    if (!token) {
      return json({ error: "Missing Authorization: Bearer <token>" }, { status: 401 });
    }

    if (process.env.AZURE_VERIFY_JWT === "true") {
      try {
        await verifyApiAccessToken(token);
      } catch {
        return json({ error: "Invalid or unauthorized token" }, { status: 401 });
      }
    }

    // Update fields with If-Match
    const spPatch = toSpFieldPatch(fields as Record<string, unknown>);
    try {
      const { eTag } = await updateInventoryItemFieldsWithUserToken(token, assetNum, spPatch, etag);
      // Invalidate model options cache if model was part of the update
      if (Object.prototype.hasOwnProperty.call(fields, "model")) {
        try {
          invalidateModelsCache();
        } catch {}
      }
      // Fetch updated item to return normalized domain object + latest eTag
      const found = await fetchInventoryItemByAssetWithUserToken(token, assetNum);
      if (!found) {
        return json({ error: "Asset not found after update" }, { status: 404, headers: { "Cache-Control": "no-store" } });
      }
      const headers: HeadersInit = { "Cache-Control": "no-store" };
      if (eTag) (headers as Record<string, string>)["ETag"] = eTag;
      return json({ item: found, eTag }, { status: 200, headers });
    } catch (e) {
      if (e instanceof GraphHttpError) {
        if (e.status === 412) {
          return json({ error: "Precondition Failed", detail: "ETag mismatch" }, { status: 412 });
        }
        return json({ error: `Graph error ${e.status}`, detail: e.body || "" }, { status: e.status });
      }
      if (e instanceof Error && /Asset not found/.test(e.message)) {
        return json({ error: "Asset not found" }, { status: 404 });
      }
      const detail = e instanceof Error ? e.message : "Unknown error";
      return json({ error: "Failed to update asset", detail }, { status: 500 });
    }
  } catch (err) {
    const message = err instanceof Error ? err.message : "Unknown error";
    return json({ error: "Failed to update asset", detail: message }, { status: 500 });
  }
}

/**
 * DELETE /api/inventory/[asset]
 * Body (optional): { etag?: string } or use If-Match header
 */
export async function DELETE(
  req: NextRequest,
  context: { params: Promise<{ asset?: string }> }
) {
  try {
    const { asset } = await context.params;
    const assetParam = (asset || "").trim();
    const assetNum = Number.parseInt(assetParam, 10);
    if (!assetParam || !Number.isFinite(assetNum)) {
      return json({ error: "Invalid asset id" }, { status: 400 });
    }

    // Read etag from header or body
    let etag: string | undefined =
      req.headers.get("if-match") || req.headers.get("If-Match") || undefined;

    if (!etag) {
      try {
        const b = (await req.json()) as { etag?: string } | null;
        if (b?.etag) etag = b.etag;
      } catch {
        // ignore
      }
    }

    // Mock mode
    if (process.env.USE_MOCK_INVENTORY === "true" || process.env.USE_MOCK_INVENTORY_WRITE === "true") {
      const { mockInventory } = await import("@/data/inventory");
      const idx = mockInventory.findIndex((i) => i.asset === assetNum);
      if (idx === -1) {
        return json({ error: "Asset not found" }, {
          status: 404,
          headers: { "Cache-Control": "no-store" },
        });
      }
      mockInventory.splice(idx, 1);
      return new Response(null, { status: 204, headers: { "Cache-Control": "no-store" } });
    }

    const token = getBearerToken(req);
    if (!token) {
      return json({ error: "Missing Authorization: Bearer <token>" }, { status: 401 });
    }

    if (process.env.AZURE_VERIFY_JWT === "true") {
      try {
        await verifyApiAccessToken(token);
      } catch {
        return json({ error: "Invalid or unauthorized token" }, { status: 401 });
      }
    }

    try {
      await deleteInventoryItemWithUserToken(token, assetNum, etag);
      return new Response(null, { status: 204, headers: { "Cache-Control": "no-store" } });
    } catch (e) {
      if (e instanceof GraphHttpError) {
        if (e.status === 412) {
          return json({ error: "Precondition Failed", detail: "ETag mismatch" }, { status: 412 });
        }
        return json({ error: `Graph error ${e.status}`, detail: e.body || "" }, { status: e.status });
      }
      if (e instanceof Error && /Asset not found/.test(e.message)) {
        return json({ error: "Asset not found" }, { status: 404 });
      }
      const detail = e instanceof Error ? e.message : "Unknown error";
      return json({ error: "Failed to delete asset", detail }, { status: 500 });
    }
  } catch (err) {
    const message = err instanceof Error ? err.message : "Unknown error";
    return json({ error: "Failed to delete asset", detail: message }, { status: 500 });
  }
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/app/api/inventory/next-asset/route.ts ====
BEGIN_CONTENT
import { NextRequest, NextResponse } from "next/server";
import { getNextAssetWithUserToken } from "@/lib/graph/sharepoint";
import { verifyApiAccessToken } from "@/lib/auth/msal-server";

export const runtime = "nodejs";
export const dynamic = "force-dynamic";

function json(data: unknown, init?: ResponseInit) {
  return NextResponse.json(data, init);
}

function getBearerToken(req: NextRequest): string | null {
  const auth = req.headers.get("authorization") || req.headers.get("Authorization");
  if (!auth) return null;
  const m = auth.match(/^Bearer\s+(.+)$/i);
  return m ? m[1] : null;
}

/**
 * GET /api/inventory/next-asset
 * Returns { nextAsset: number }
 * - Mock mode: computes from mockInventory in-memory data
 * - Live mode: requires Authorization: Bearer & queries SharePoint field_1 (numeric) for highest, then +1
 */
export async function GET(req: NextRequest) {
  try {
    // Mock/dev mode: compute from mock dataset
    if (process.env.USE_MOCK_INVENTORY === "true" || process.env.NEXT_PUBLIC_USE_MOCK_INVENTORY === "true") {
      const { mockInventory } = await import("@/data/inventory");
      const nums = mockInventory.map((i) => Number(i.asset)).filter((n) => Number.isFinite(n));
      const max = nums.length ? Math.max(...nums) : 0;
      return json({ nextAsset: max + 1 }, { status: 200, headers: { "Cache-Control": "no-store" } });
    }

    // Live mode: require bearer token
    const token = getBearerToken(req);
    if (!token) {
      return json({ error: "Missing Authorization: Bearer <token>" }, { status: 401 });
    }

    if (process.env.AZURE_VERIFY_JWT === "true") {
      try {
        await verifyApiAccessToken(token);
      } catch {
        return json({ error: "Invalid or unauthorized token" }, { status: 401 });
      }
    }

    const nextAsset = await getNextAssetWithUserToken(token);
    return json({ nextAsset }, { status: 200, headers: { "Cache-Control": "no-store" } });
  } catch (err) {
    const message = err instanceof Error ? err.message : "Unknown error";
    return json({ error: "Failed to compute next asset", detail: message }, { status: 500 });
  }
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/app/api/inventory/options/locations/route.ts ====
BEGIN_CONTENT
import { NextRequest, NextResponse } from "next/server";
import { verifyApiAccessToken } from "@/lib/auth/msal-server";

export const runtime = "nodejs";
export const dynamic = "force-dynamic";

function json(data: unknown, init?: ResponseInit) {
  return NextResponse.json(data, init);
}

function getBearerToken(req: NextRequest): string | null {
  const auth = req.headers.get("authorization") || req.headers.get("Authorization");
  if (!auth) return null;
  const match = auth.match(/^Bearer\s+(.+)$/i);
  return match ? match[1] : null;
}

/**
 * Mock mode is enabled if either server or client mock env var is set.
 */
function isMockEnabled(): boolean {
  return (
    process.env.USE_MOCK_INVENTORY === "true" ||
    process.env.NEXT_PUBLIC_USE_MOCK_INVENTORY === "true"
  );
}

// Static locations list provided by the user (order preserved)
const LOCATIONS = [
  "Agency",
  "Billing",
  "Finance",
  "CTS/BLS Inventory",
  "CDS",
  "Austin",
  "Beaumont",
  "Dallas",
  "El Paso",
  "Fort Worth",
  "Henderson",
  "Houston",
  "Longview",
  "Odessa",
  "Temple",
] as const;

/**
 * GET /api/inventory/options/locations
 * Query:
 *  - search?: string (optional, case-insensitive substring filter)
 *  - top?: number (default all, max 200)
 * Response: { locations: string[] }
 */
export async function GET(req: NextRequest) {
  try {
    const search = (req.nextUrl.searchParams.get("search") || "").trim();
    const topParam = Number.parseInt(req.nextUrl.searchParams.get("top") || "0", 10);
    const hasTop = Number.isFinite(topParam) && topParam > 0;
    const top = Math.max(1, Math.min(hasTop ? topParam : LOCATIONS.length, 200));

    // For consistency with other endpoints, require auth unless mock mode is enabled
    if (!isMockEnabled()) {
      const token = getBearerToken(req);
      if (!token) {
        return json({ error: "Missing Authorization: Bearer <token>" }, { status: 401 });
      }
      if (process.env.AZURE_VERIFY_JWT === "true") {
        try {
          await verifyApiAccessToken(token);
        } catch {
          return json({ error: "Invalid or unauthorized token" }, { status: 401 });
        }
      }
    }

    let list = Array.from(LOCATIONS);
    if (search) {
      const s = search.toLowerCase();
      list = list.filter((loc) => loc.toLowerCase().includes(s));
    }
    if (hasTop) {
      list = list.slice(0, top);
    }
    return json({ locations: list }, { status: 200, headers: { "Cache-Control": "no-store" } });
  } catch (err) {
    const message = err instanceof Error ? err.message : "Unknown error";
    return json({ error: "Failed to fetch locations", detail: message }, { status: 500 });
  }
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/app/api/inventory/options/models/route.ts ====
BEGIN_CONTENT
import { NextRequest, NextResponse } from "next/server";
import { verifyApiAccessToken } from "@/lib/auth/msal-server";
import { listDistinctModelsViaScanWithUserToken } from "@/lib/graph/sharepoint";

export const runtime = "nodejs";
export const dynamic = "force-dynamic";

function json(data: unknown, init?: ResponseInit) {
  return NextResponse.json(data, init);
}

function getBearerToken(req: NextRequest): string | null {
  const auth = req.headers.get("authorization") || req.headers.get("Authorization");
  if (!auth) return null;
  const match = auth.match(/^Bearer\s+(.+)$/i);
  return match ? match[1] : null;
}

/**
 * Mock mode is enabled if either server or client mock env var is set.
 */
function isMockEnabled(): boolean {
  return (
    process.env.USE_MOCK_INVENTORY === "true" ||
    process.env.NEXT_PUBLIC_USE_MOCK_INVENTORY === "true"
  );
}

/**
 * GET /api/inventory/options/models
 * Query:
 *  - search?: string (optional client-side filter)
 *  - top?: number (default 50, max 200)
 * Response: { models: string[] }
 */
export async function GET(req: NextRequest) {
  try {
    const search = (req.nextUrl.searchParams.get("search") || "").trim();
    const topParam = Number.parseInt(req.nextUrl.searchParams.get("top") || "50", 10);
    const top = Math.max(1, Math.min(Number.isFinite(topParam) ? topParam : 50, 200));

    // Mock mode: derive distinct models from mock inventory dataset.
    if (isMockEnabled()) {
      const { mockInventory } = await import("@/data/inventory");
      const set = new Set<string>();
      for (const i of mockInventory) {
        const m = (i.model || "").trim();
        if (m) set.add(m);
      }
      let models = Array.from(set).sort((a, b) => a.localeCompare(b));
      if (search) {
        const s = search.toLowerCase();
        models = models.filter((m) => m.toLowerCase().includes(s));
      }
      models = models.slice(0, top);
      return json({ models }, { status: 200, headers: { "Cache-Control": "no-store" } });
    }

    const token = getBearerToken(req);
    if (!token) {
      return json({ error: "Missing Authorization: Bearer <token>" }, { status: 401 });
    }

    if (process.env.AZURE_VERIFY_JWT === "true") {
      try {
        await verifyApiAccessToken(token);
      } catch {
        return json({ error: "Invalid or unauthorized token" }, { status: 401 });
      }
    }

    let models = await listDistinctModelsViaScanWithUserToken(token);
    if (search) {
      const s = search.toLowerCase();
      models = models.filter((m) => m.toLowerCase().includes(s));
    }
    models = models.slice(0, top);
    return json({ models }, { status: 200, headers: { "Cache-Control": "no-store" } });
  } catch (err) {
    const message = err instanceof Error ? err.message : "Unknown error";
    return json({ error: "Failed to fetch model options", detail: message }, { status: 500 });
  }
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/app/api/inventory/options/users/route.ts ====
BEGIN_CONTENT
import { NextRequest, NextResponse } from "next/server";
import { verifyApiAccessToken } from "@/lib/auth/msal-server";
import { searchUsersWithUserToken, listDistinctUsersViaScanWithUserToken } from "@/lib/graph/sharepoint";

export const runtime = "nodejs";
export const dynamic = "force-dynamic";

function json(data: unknown, init?: ResponseInit) {
  return NextResponse.json(data, init);
}

function getBearerToken(req: NextRequest): string | null {
  const auth = req.headers.get("authorization") || req.headers.get("Authorization");
  if (!auth) return null;
  const match = auth.match(/^Bearer\s+(.+)$/i);
  return match ? match[1] : null;
}

/**
 * Mock mode is enabled if either server or client mock env var is set.
 */
function isMockEnabled(): boolean {
  return (
    process.env.USE_MOCK_INVENTORY === "true" ||
    process.env.NEXT_PUBLIC_USE_MOCK_INVENTORY === "true"
  );
}

/**
 * GET /api/inventory/options/users
 * Query:
 *  - search?: string (optional; when provided must be ≥ 2 chars; when omitted returns suggestions)
 *  - top?: number (default 20, max 50)
 * Response: { users: Array<{ id, displayName?, mail?, userPrincipalName? }> }
 */
export async function GET(req: NextRequest) {
  try {
    const search = (req.nextUrl.searchParams.get("search") || "").trim();
    const topParam = Number.parseInt(req.nextUrl.searchParams.get("top") || "20", 10);
    const top = Math.max(1, Math.min(Number.isFinite(topParam) ? topParam : 20, 50));
    const hasSearch = req.nextUrl.searchParams.has("search");

    if (hasSearch && search.length < 2) {
      return json({ error: "Query parameter 'search' must be at least 2 characters" }, { status: 400 });
    }

    // Mock mode: synthesize user options from mock inventory fields
    if (isMockEnabled()) {
      const { mockInventory } = await import("@/data/inventory");
      const set = new Set<string>();

      // Collect names from createdBy/modifiedBy and userLocation prefixes
      for (const i of mockInventory) {
        if (i.createdBy) set.add(i.createdBy.trim());
        if (i.modifiedBy) set.add(i.modifiedBy.trim());
        if (i.userLocation) {
          const parts = i.userLocation.split(/[\/–-]/); // split on "/", en dash, hyphen
          const candidate = (parts[0] || "").trim();
          if (candidate && candidate.length > 1) set.add(candidate);
        }
      }
      let names = Array.from(set).filter(Boolean);
      const s = search.toLowerCase();
      names = names.filter((n) => n.toLowerCase().includes(s)).slice(0, top);
      const users = names.map((n, idx) => ({
        id: `mock-${idx}-${n.toLowerCase().replace(/\s+/g, "-")}`,
        displayName: n,
        mail: null as string | null,
        userPrincipalName: null as string | null,
      }));
      return json({ users }, { status: 200, headers: { "Cache-Control": "no-store" } });
    }

    const token = getBearerToken(req);
    if (!token) {
      return json({ error: "Missing Authorization: Bearer <token>" }, { status: 401 });
    }

    if (process.env.AZURE_VERIFY_JWT === "true") {
      try {
        await verifyApiAccessToken(token);
      } catch {
        return json({ error: "Invalid or unauthorized token" }, { status: 401 });
      }
    }

    let users;
    if (hasSearch && search.length >= 2) {
      try {
        users = await searchUsersWithUserToken(token, search, top);
      } catch {
        // Fallback to list scan suggestions filtered by search
        const names = await listDistinctUsersViaScanWithUserToken(token);
        const s = search.toLowerCase();
        users = names
          .filter((n) => n.toLowerCase().includes(s))
          .slice(0, top)
          .map((n, idx) => ({
            id: `suggestion-${idx}-${n.toLowerCase().replace(/\s+/g, "-")}`,
            displayName: n,
            mail: null as string | null,
            userPrincipalName: null as string | null,
          }));
      }
    } else {
      // Initial suggestions when no search provided
      const names = await listDistinctUsersViaScanWithUserToken(token);
      users = names.slice(0, top).map((n, idx) => ({
        id: `suggestion-${idx}-${n.toLowerCase().replace(/\s+/g, "-")}`,
        displayName: n,
        mail: null as string | null,
        userPrincipalName: null as string | null,
      }));
    }
    return json({ users }, { status: 200, headers: { "Cache-Control": "no-store" } });
  } catch (err) {
    const message = err instanceof Error ? err.message : "Unknown error";
    return json({ error: "Failed to search users", detail: message }, { status: 500 });
  }
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/app/api/inventory/route.ts ====
BEGIN_CONTENT
import { NextRequest, NextResponse } from "next/server";
import {
  fetchInventoryItemsWithUserToken,
  fetchRecentInventoryActivityWithUserToken,
  fetchDeployedSinceWithUserToken,
  captureGraphMetrics,
  createInventoryItemWithUserToken,
  GraphHttpError,
  invalidateModelsCache,
} from "@/lib/graph/sharepoint";
import { verifyApiAccessToken } from "@/lib/auth/msal-server";
import { ZInventoryCreatePayload } from "@/lib/validation/inventory";
import { FIELD_MAP } from "@/lib/mappers/inventory";
import { startOfUtcDay, startOfUtcIsoWeek, startOfUtcMonth } from "@/lib/date-utc";

export const runtime = "nodejs";
export const dynamic = "force-dynamic";

function json(data: unknown, init?: ResponseInit) {
  return NextResponse.json(data, init);
}

function getBearerToken(req: NextRequest): string | null {
  const auth = req.headers.get("authorization") || req.headers.get("Authorization");
  if (!auth) return null;
  const match = auth.match(/^Bearer\s+(.+)$/i);
  return match ? match[1] : null;
}




function toSpFieldCreate(domain: Record<string, unknown>): Record<string, unknown> {
  // Map domain keys to SharePoint internal field names using FIELD_MAP.
  const out: Record<string, unknown> = {};
  for (const [k, v] of Object.entries(domain)) {
    const spKey = (FIELD_MAP as Record<string, string>)[k as keyof typeof FIELD_MAP];
    if (!spKey || v === undefined) continue;
    // SharePoint Title is string; coerce asset to string
    if (spKey === "Title") {
      out[spKey] = String(v);
    } else {
      out[spKey] = v;
    }
  }
  return out;
}

export async function GET(req: NextRequest) {
  try {
    const recentParam = req.nextUrl.searchParams.get("recent");
    const recent = recentParam ? Number.parseInt(recentParam, 10) : NaN;
    const deployedSinceKey = (req.nextUrl.searchParams.get("deployedSince") || "").toLowerCase();

    // Dev fallback: allow serving mock data without auth when explicitly enabled
    if (process.env.USE_MOCK_INVENTORY === "true") {
      const { mockInventory } = await import("@/data/inventory");

      if (deployedSinceKey === "week" || deployedSinceKey === "month" || deployedSinceKey === "today") {
        const now = new Date();
        const since =
          deployedSinceKey === "week"
            ? startOfUtcIsoWeek(now)
            : deployedSinceKey === "month"
            ? startOfUtcMonth(now)
            : startOfUtcDay(now);
        const sinceMs = since.getTime();
        const filtered = [...mockInventory]
          .filter((i) => i.status === "deployed")
          .filter((i) => new Date(i.modified || i.created).getTime() >= sinceMs)
          .sort((a, b) => {
            const ad = new Date(a.modified || a.created).getTime();
            const bd = new Date(b.modified || b.created).getTime();
            return bd - ad;
          });
        return json(filtered, {
          status: 200,
          headers: { "Cache-Control": "no-store" },
        });
      }

      if (Number.isFinite(recent) && recent > 0) {
        const sorted = [...mockInventory].sort((a, b) => {
          const ad = new Date(a.modified || a.created).getTime();
          const bd = new Date(b.modified || b.created).getTime();
          return bd - ad;
        });
        return json(sorted.slice(0, recent), {
          status: 200,
          headers: { "Cache-Control": "no-store" },
        });
      }

      return json(mockInventory, {
        status: 200,
        headers: { "Cache-Control": "no-store" },
      });
    }

    const token = getBearerToken(req);
    if (!token) {
      return json({ error: "Missing Authorization: Bearer <token>" }, { status: 401 });
    }

    // Optional JWT verification against tenant JWKS and expected audience
    if (process.env.AZURE_VERIFY_JWT === "true") {
      try {
        await verifyApiAccessToken(token);
      } catch (e) {
        return json({ error: "Invalid or unauthorized token" }, { status: 401 });
      }
    }

    if (deployedSinceKey === "week" || deployedSinceKey === "month" || deployedSinceKey === "today") {
      const now = new Date();
      const since =
        deployedSinceKey === "week"
          ? startOfUtcIsoWeek(now)
          : deployedSinceKey === "month"
          ? startOfUtcMonth(now)
          : startOfUtcDay(now);
      const { result: items, metrics } = await captureGraphMetrics(() =>
        fetchDeployedSinceWithUserToken(token, since)
      );
      const headers: HeadersInit = { "Cache-Control": "no-store" };
      if (process.env.DEBUG_GRAPH === "true" && metrics.length) {
        const totalRetries = metrics.reduce((acc, m) => acc + (m.retryCount || 0), 0);
        const totalDuration = metrics.reduce((acc, m) => acc + (m.durationMs || 0), 0);
        (headers as Record<string, string>)["X-Graph-Retries"] = String(totalRetries);
        (headers as Record<string, string>)["X-Graph-Duration"] = String(totalDuration);
      }
      return json(items, {
        status: 200,
        headers,
      });
    } else if (Number.isFinite(recent) && recent > 0) {
      const { result: items, metrics } = await captureGraphMetrics(() =>
        fetchRecentInventoryActivityWithUserToken(token, recent)
      );
      const headers: HeadersInit = { "Cache-Control": "no-store" };
      if (process.env.DEBUG_GRAPH === "true" && metrics.length) {
        const totalRetries = metrics.reduce((acc, m) => acc + (m.retryCount || 0), 0);
        const totalDuration = metrics.reduce((acc, m) => acc + (m.durationMs || 0), 0);
        (headers as Record<string, string>)["X-Graph-Retries"] = String(totalRetries);
        (headers as Record<string, string>)["X-Graph-Duration"] = String(totalDuration);
      }
      return json(items, {
        status: 200,
        headers,
      });
    } else {
      const { result: items, metrics } = await captureGraphMetrics(() =>
        fetchInventoryItemsWithUserToken(token)
      );
      const headers: HeadersInit = { "Cache-Control": "no-store" };
      if (process.env.DEBUG_GRAPH === "true" && metrics.length) {
        const totalRetries = metrics.reduce((acc, m) => acc + (m.retryCount || 0), 0);
        const totalDuration = metrics.reduce((acc, m) => acc + (m.durationMs || 0), 0);
        (headers as Record<string, string>)["X-Graph-Retries"] = String(totalRetries);
        (headers as Record<string, string>)["X-Graph-Duration"] = String(totalDuration);
      }
      return json(items, {
        status: 200,
        headers,
      });
    }
  } catch (err) {
    const message = err instanceof Error ? err.message : "Unknown error";
    return json({ error: "Failed to fetch inventory", detail: message }, { status: 500 });
  }
}

/**
 * POST /api/inventory
 * Body: { fields: { asset, userLocation, status, serial, model, assetImage?, notes? } }
 * Creates a new SharePoint list item (as the user) and returns minimal info.
 */
export async function POST(req: NextRequest) {
  try {
    // Parse and validate
    let body: unknown = null;
    try {
      body = await req.json();
    } catch {
      // no body
    }
    const parsed = ZInventoryCreatePayload.safeParse(body);
    if (!parsed.success) {
      const msg = parsed.error.issues.map((i) => `${i.path.join(".") || "(root)"}: ${i.message}`).join("; ");
      return json({ error: "Invalid payload", detail: msg }, { status: 400 });
    }
    const { fields } = parsed.data;

    // Mock mode create
    if (process.env.USE_MOCK_INVENTORY === "true" || process.env.USE_MOCK_INVENTORY_WRITE === "true") {
      const { mockInventory } = await import("@/data/inventory");
      const exists = mockInventory.some((i) => i.asset === fields.asset);
      if (exists) {
        return json({ error: "Asset already exists" }, { status: 409 });
      }
      const now = new Date().toISOString().slice(0, 10);
      const created = {
        asset: fields.asset,
        userLocation: fields.userLocation,
        status: fields.status,
        serial: fields.serial,
        model: fields.model,
        assetImage: fields.assetImage || "",
        notes: fields.notes || "",
        modified: now,
        modifiedBy: "Mock User",
        created: now,
        createdBy: "Mock User",
      };
      mockInventory.push(created);
      try { invalidateModelsCache(); } catch {}
      return json({ item: created, eTag: 'W/"mock"' }, {
        status: 201,
        headers: { "Cache-Control": "no-store", ETag: 'W/"mock"' },
      });
    }

    // Live mode: require bearer token
    const token = (req.headers.get("authorization") || req.headers.get("Authorization") || "").replace(/^Bearer\s+/i, "");
    if (!token) {
      return json({ error: "Missing Authorization: Bearer <token>" }, { status: 401 });
    }

    if (process.env.AZURE_VERIFY_JWT === "true") {
      try {
        await verifyApiAccessToken(token);
      } catch {
        return json({ error: "Invalid or unauthorized token" }, { status: 401 });
      }
    }

    const spFields = toSpFieldCreate(fields as Record<string, unknown>);
    try {
      const { id, eTag } = await createInventoryItemWithUserToken(token, spFields);
      // Invalidate model options cache if a model was provided on create
      try {
        if (fields.model) {
          invalidateModelsCache();
        }
      } catch {}
      // Optionally fetch the full item to return the normalized domain shape
      // For now, respond with minimal ack; caller can refetch list or item by asset number.
      const headers: HeadersInit = { "Cache-Control": "no-store" };
      if (eTag) (headers as Record<string, string>)["ETag"] = eTag;
      return json({ id, eTag }, { status: 201, headers });
    } catch (e) {
      if (e instanceof GraphHttpError) {
        return json({ error: `Graph error ${e.status}`, detail: e.body || "" }, { status: e.status });
      }
      const detail = e instanceof Error ? e.message : "Unknown error";
      return json({ error: "Failed to create item", detail }, { status: 500 });
    }
  } catch (err) {
    const message = err instanceof Error ? err.message : "Unknown error";
    return json({ error: "Failed to create item", detail: message }, { status: 500 });
  }
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/app/api/inventory/search/route.ts ====
BEGIN_CONTENT
import { NextRequest, NextResponse } from "next/server";
import {
  captureGraphMetrics,
  searchInventoryByAssetPrefixWithUserToken,
} from "@/lib/graph/sharepoint";
import { verifyApiAccessToken } from "@/lib/auth/msal-server";
import type { InventoryItem } from "@/types/inventory";

export const runtime = "nodejs";
export const dynamic = "force-dynamic";

function json(data: unknown, init?: ResponseInit) {
  return NextResponse.json(data, init);
}

function getBearerToken(req: NextRequest): string | null {
  const auth = req.headers.get("authorization") || req.headers.get("Authorization");
  if (!auth) return null;
  const match = auth.match(/^Bearer\s+(.+)$/i);
  return match ? match[1] : null;
}

function sanitizePrefix(q: string | null): string {
  return String(q || "").trim().replace(/[^0-9]/g, "");
}

export async function GET(req: NextRequest) {
  try {
    const q = req.nextUrl.searchParams.get("q");
    const prefix = sanitizePrefix(q);
    const topParam = req.nextUrl.searchParams.get("top");
    const top = Math.max(1, Math.min(Number.parseInt(topParam || "10", 10) || 10, 50));

    if (!prefix) {
      return json([], {
        status: 200,
        headers: { "Cache-Control": "no-store" },
      });
    }

    // Mock mode short-circuit
    if (process.env.USE_MOCK_INVENTORY === "true") {
      const { mockInventory } = await import("@/data/inventory");
      const filtered = mockInventory
        .filter((i: InventoryItem) => String(i.asset).startsWith(prefix))
        .slice(0, top);
      return json(filtered, {
        status: 200,
        headers: { "Cache-Control": "no-store" },
      });
    }

    const token = getBearerToken(req);
    if (!token) {
      return json({ error: "Missing Authorization: Bearer <token>" }, { status: 401 });
    }

    if (process.env.AZURE_VERIFY_JWT === "true") {
      try {
        await verifyApiAccessToken(token);
      } catch {
        return json({ error: "Invalid or unauthorized token" }, { status: 401 });
      }
    }

    const { result: items, metrics } = await captureGraphMetrics(() =>
      searchInventoryByAssetPrefixWithUserToken(token, prefix, top)
    );

    const headers: HeadersInit = { "Cache-Control": "no-store" };
    if (process.env.DEBUG_GRAPH === "true" && metrics.length) {
      const totalRetries = metrics.reduce((acc, m) => acc + (m.retryCount || 0), 0);
      const totalDuration = metrics.reduce((acc, m) => acc + (m.durationMs || 0), 0);
      (headers as Record<string, string>)["X-Graph-Retries"] = String(totalRetries);
      (headers as Record<string, string>)["X-Graph-Duration"] = String(totalDuration);
    }

    return json(items, {
      status: 200,
      headers,
    });
  } catch (err) {
    const message = err instanceof Error ? err.message : "Unknown error";
    return json({ error: "Failed to search inventory", detail: message }, { status: 500 });
  }
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/app/asset/[asset]/loading.tsx ====
BEGIN_CONTENT
import { InlineLoader } from "@/components/ui/inline-loader";

export default function Loading() {
  return (
    <div className="flex min-h-48 items-center justify-center py-8" aria-live="polite">
      <InlineLoader label="Loading asset…" size="md" />
    </div>
  );
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/app/asset/[asset]/page.tsx ====
BEGIN_CONTENT
import { AssetView } from "@/components/asset/asset-view";
import PageHeader from "@/components/page-header";

export default async function AssetPage({
  params,
}: {
  params: Promise<{ asset: string }>;
}) {
  const { asset } = await params;
  return (
    <div className="grid gap-6 md:grid-cols-3">
      {/* Header */}
      <PageHeader className="md:col-span-3" />


      {/* Asset content */}
      <div className="md:col-span-3">
        <AssetView asset={asset} />
      </div>
    </div>
  );
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/app/assets/loading.tsx ====
BEGIN_CONTENT
import { InlineLoader } from "@/components/ui/inline-loader";

export default function Loading() {
  return (
    <div className="flex min-h-48 items-center justify-center py-8" aria-live="polite">
      <InlineLoader label="Loading assets…" size="md" />
    </div>
  );
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/app/assets/page.tsx ====
BEGIN_CONTENT
"use client";

import * as React from "react";
import { useMsal } from "@azure/msal-react";
import type { AuthenticationResult, AccountInfo } from "@azure/msal-browser";
import type { InventoryItem } from "@/types/inventory";
import { DataTable } from "@/components/data-table/data-table";
import { ColumnDef } from "@tanstack/react-table";
import { Badge } from "@/components/ui/badge";
import { ArrowUpDown } from "lucide-react";
import Link from "next/link";
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
import { Button } from "@/components/ui/button";
import { Skeleton } from "@/components/ui/skeleton";
import { Input } from "@/components/ui/input";
import AssetViewOverlay from "@/components/asset/asset-view-overlay";
import PageHeader from "@/components/page-header";

const isMock =
  process.env.NEXT_PUBLIC_USE_MOCK_INVENTORY === "true" ||
  process.env.USE_MOCK_INVENTORY === "true";

const API_SCOPE =
  process.env.NEXT_PUBLIC_AZURE_API_SCOPE ||
  process.env.AZURE_API_SCOPE ||
  "";

/**
 * Assets page: shows a single table with EVERY inventory row (from SharePoint),
 * ordered from least to greatest Asset number. Layout mirrors the provided mock:
 * - Page title top-left
 * - Search input affordance top-right
 * - A single rounded table card below
 */
function escapeRegExp(s: string) {
  return s.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
}

function Highlight({ text, tokens }: { text: string | number; tokens: string[] }) {
  const str = String(text ?? "");
  if (!tokens.length || !str) return <>{str}</>;
  const escaped = tokens.filter(Boolean).map(escapeRegExp);
  if (!escaped.length) return <>{str}</>;
  const regex = new RegExp(`(${escaped.join("|")})`, "ig");
  const parts = str.split(regex);
  return (
    <>
      {parts.map((part, i) => {
        const isMatch = tokens.some((t) => part.toLowerCase() === t.toLowerCase());
        return isMatch ? (
          <span key={i} className="font-semibold bg-yellow-200 dark:bg-yellow-800/40 rounded-sm px-0.5">
            {part}
          </span>
        ) : (
          <React.Fragment key={i}>{part}</React.Fragment>
        );
      })}
    </>
  );
}

function buildInventoryColumnsWithHighlight(
  tokens: string[],
  onAssetClick?: (asset: number) => void,
  selectedModel?: string,
  selectedUserLocation?: string,
  selectedStatus?: string
): ColumnDef<InventoryItem>[] {
  return [
    {
      id: "asset",
      accessorKey: "asset",
      header: ({ column }) => (
        <Button
          variant="ghost"
          size="sm"
          onClick={() => column.toggleSorting(column.getIsSorted() === "asc")}
        >
          Asset
          <ArrowUpDown className="ml-2 size-4" />
        </Button>
      ),
      cell: ({ row, column }) => {
        const asset = row.original.asset;
        if (!asset) return <span className={column.getIsSorted() ? "font-bold" : undefined}>—</span>;
        return (
            <Link
              href={`/asset/${asset}`}
              className={`no-underline underline-offset-2 hover:underline focus:underline focus:outline-none focus:ring-2 focus:ring-ring rounded-sm ${column.getIsSorted() ? "font-bold" : ""}`}
              aria-label={`View Asset ${asset}`}
            onClick={(e) => {
              if (
                onAssetClick &&
                !e.defaultPrevented &&
                !e.metaKey &&
                !e.ctrlKey &&
                !e.shiftKey &&
                !e.altKey &&
                e.button === 0
              ) {
                e.preventDefault();
                onAssetClick(asset);
              }
            }}
          >
            <Highlight text={String(asset)} tokens={tokens} />
          </Link>
        );
      },
    },
    {
      id: "model",
      accessorKey: "model",
      header: ({ column }) => (
        <Button
          variant="ghost"
          size="sm"
          onClick={() => column.toggleSorting(column.getIsSorted() === "asc")}
        >
          Model
          <ArrowUpDown className="ml-2 size-4" />
        </Button>
      ),
      cell: ({ row, column }) => (
        <span className={column.getIsSorted() || !!selectedModel ? "font-bold" : undefined}>
          <Highlight text={row.original.model} tokens={tokens} />
        </span>
      ),
    },
    {
      id: "serial",
      accessorKey: "serial",
      header: ({ column }) => (
        <Button
          variant="ghost"
          size="sm"
          onClick={() => column.toggleSorting(column.getIsSorted() === "asc")}
        >
          Serial
          <ArrowUpDown className="ml-2 size-4" />
        </Button>
      ),
      cell: ({ row, column }) => (
        <span className={column.getIsSorted() ? "font-bold" : undefined}>
          <Highlight text={row.original.serial} tokens={tokens} />
        </span>
      ),
    },
    {
      id: "userLocation",
      accessorKey: "userLocation",
      header: ({ column }) => (
        <Button
          variant="ghost"
          size="sm"
          onClick={() => column.toggleSorting(column.getIsSorted() === "asc")}
        >
          User/Location
          <ArrowUpDown className="ml-2 size-4" />
        </Button>
      ),
      cell: ({ row, column }) => (
        <span className={column.getIsSorted() || !!selectedUserLocation ? "font-bold text-foreground" : "text-muted-foreground"}>
          <Highlight text={row.original.userLocation} tokens={tokens} />
        </span>
      ),
    },
    {
      id: "status",
      accessorKey: "status",
      header: "Status",
      cell: ({ row, column }) => {
        const st = row.original.status;
        const variant =
          st === "deployed" ? "checkout" : st === "ready_to_deploy" ? "checkin" : "destructive";
        const label =
          st === "deployed" ? "Deployed" : st === "ready_to_deploy" ? "Ready to Deploy" : "Retired";
        return (
          <Badge
            className={column.getIsSorted() || !!selectedStatus ? "font-bold" : undefined}
            variant={variant as "checkin" | "checkout" | "destructive"}
          >
            <Highlight text={label} tokens={tokens} />
          </Badge>
        );
      },
    },
    {
      id: "modified",
      accessorKey: "modified",
      header: ({ column }) => (
        <Button
          variant="ghost"
          size="sm"
          onClick={() => column.toggleSorting(column.getIsSorted() === "asc")}
        >
          Modified
          <ArrowUpDown className="ml-2 size-4" />
        </Button>
      ),
      cell: ({ row, column }) => (
        <span className={column.getIsSorted() ? "font-bold" : undefined}>
          <Highlight text={row.original.modified} tokens={tokens} />
        </span>
      ),
    },
  ];
}

export default function AssetsPage() {
  const { instance, accounts } = useMsal();
  const [msalReady, setMsalReady] = React.useState(false);

  const activeAccount = React.useMemo<AccountInfo | null>(() => {
    return instance.getActiveAccount() || accounts[0] || null;
  }, [instance, accounts]);

  React.useEffect(() => {
    let cancelled = false;
    let timer: ReturnType<typeof setTimeout> | null = null;

    (async () => {
      try {
        await instance.initialize();
      } catch {
        // ignore; sign-in prompt handles errors
      } finally {
        if (!cancelled) setMsalReady(true);
      }
    })();

    timer = setTimeout(() => {
      if (!cancelled) setMsalReady(true);
    }, 2000);

    return () => {
      cancelled = true;
      if (timer) clearTimeout(timer);
    };
  }, [instance]);

  const [items, setItems] = React.useState<InventoryItem[]>([]);
  const [loading, setLoading] = React.useState(true);
  const [needsLogin, setNeedsLogin] = React.useState(false);
  const [error, setError] = React.useState<string | null>(null);
  const [query, setQuery] = React.useState("");
  const [selectedModel, setSelectedModel] = React.useState("");
  const modelOptions = React.useMemo(() => {
    const set = new Set<string>();
    for (const i of items) {
      if (i.model) set.add(i.model);
    }
    return Array.from(set).sort((a, b) => a.localeCompare(b));
  }, [items]);

  const [selectedUserLocation, setSelectedUserLocation] = React.useState("");
  const userLocationOptions = React.useMemo(() => {
    const set = new Set<string>();
    for (const i of items) {
      if (i.userLocation) set.add(i.userLocation);
    }
    return Array.from(set).sort((a, b) => a.localeCompare(b));
  }, [items]);

  const [selectedStatus, setSelectedStatus] = React.useState("");
  const statusOptions = React.useMemo(() => {
    const set = new Set<string>();
    for (const i of items) {
      if (i.status) set.add(i.status);
    }
    return Array.from(set).sort((a, b) => a.localeCompare(b));
  }, [items]);


  const [debouncedQuery, setDebouncedQuery] = React.useState("");
  const [assetOverlayOpen, setAssetOverlayOpen] = React.useState(false);
  const [assetOverlayId, setAssetOverlayId] = React.useState<number | null>(null);
  // Auto sign-in helper to ensure SharePoint (Graph) access via API token
  const attemptedLoginRef = React.useRef(false);
  const triggerLogin = React.useCallback(async () => {
    if (attemptedLoginRef.current) return;
    attemptedLoginRef.current = true;
    if (!API_SCOPE) {
      setError("Missing API scope. Set NEXT_PUBLIC_AZURE_API_SCOPE or AZURE_API_SCOPE.");
      return;
    }
    try {
      await instance.initialize();
    } catch {
      // ignore init error; MSAL will surface if needed
    }
    await instance.loginRedirect({ scopes: [API_SCOPE] });
  }, [instance]);

  const loadAll = React.useCallback(async () => {
    setLoading(true);
    setError(null);

    try {
      // Ensure MSAL is initialized before attempting token acquisition
      if (!isMock && !msalReady) {
        try {
          await instance.initialize();
        } catch {
          // ignore here
        }
      }

      let headers: HeadersInit = {};
      if (!isMock) {
        if (!API_SCOPE) {
          throw new Error("Missing API scope. Set NEXT_PUBLIC_AZURE_API_SCOPE or AZURE_API_SCOPE.");
        }
        if (!activeAccount) {
          void triggerLogin();
          return;
        }
        const acquireSilentWithTimeout = async (timeoutMs = 10000): Promise<AuthenticationResult> => {
          const p = instance.acquireTokenSilent({
            scopes: [API_SCOPE],
            account: activeAccount,
          });
          const timeout = new Promise<never>((_, reject) =>
            setTimeout(() => reject(new Error("acquireTokenSilent timeout")), timeoutMs)
          );
          return (await Promise.race([p, timeout])) as AuthenticationResult;
        };

        try {
          const result = await acquireSilentWithTimeout(10000);
          headers = { Authorization: `Bearer ${result.accessToken}` };
        } catch {
          void triggerLogin();
          return;
        }
      }

      const res = await fetch("/api/inventory", { method: "GET", headers });
      if (!res.ok) {
        const text = await res.text();
        throw new Error(`API ${res.status}: ${text}`);
      }
      const data = (await res.json()) as InventoryItem[];
      // Sort ascending by asset number
      data.sort((a, b) => (a.asset || 0) - (b.asset || 0));
      setItems(data);
    } catch (e) {
      setError(e instanceof Error ? e.message : "Unknown error");
    } finally {
      setLoading(false);
    }
  }, [activeAccount, instance, msalReady]);

  React.useEffect(() => {
    void loadAll();
  }, [loadAll]);

  // If MSAL is ready but there is no active account, show sign-in card immediately
  React.useEffect(() => {
    if (!isMock && msalReady && !activeAccount) {
      void triggerLogin();
    }
  }, [isMock, msalReady, activeAccount, triggerLogin]);

  const handleSignIn = async () => {
    if (!API_SCOPE) {
      setError("Missing API scope. Set NEXT_PUBLIC_AZURE_API_SCOPE or AZURE_API_SCOPE.");
      return;
    }
    await instance.initialize();
    await instance.loginRedirect({ scopes: [API_SCOPE] });
  };

  // Debounce query to avoid filtering on every keystroke
  React.useEffect(() => {
    const t = setTimeout(() => setDebouncedQuery(query), 200);
    return () => clearTimeout(t);
  }, [query]);

  // Compute filtered items based on debounced query
  const filteredItems = React.useMemo(() => {
    const q = debouncedQuery.trim().toLowerCase();
    const tokens = q ? q.split(/\s+/) : [];

    const toHay = (i: InventoryItem) => {
      const statusLabel = i.status === "ready_to_deploy" ? "ready to deploy" : i.status;
      return [String(i.asset), i.model, i.serial, i.userLocation, statusLabel]
        .join(" ")
        .toLowerCase();
    };

    return items
      .filter((i) => (selectedModel ? i.model === selectedModel : true))
      .filter((i) => (selectedUserLocation ? i.userLocation === selectedUserLocation : true))
      .filter((i) => (selectedStatus ? i.status === selectedStatus : true))
      .filter((i) => {
        if (!tokens.length) return true;
        const hay = toHay(i);
        return tokens.every((t) => hay.includes(t));
      });
  }, [items, debouncedQuery, selectedModel, selectedUserLocation, selectedStatus]);

  const highlightTokens = React.useMemo(() => {
    const q = debouncedQuery.trim();
    return q ? q.split(/\s+/) : [];
  }, [debouncedQuery]);

  const onAssetClick = React.useCallback((asset: number) => {
    setAssetOverlayId(asset);
    setAssetOverlayOpen(true);
  }, []);

  const columns = React.useMemo(
    () =>
      buildInventoryColumnsWithHighlight(
        highlightTokens,
        onAssetClick,
        selectedModel,
        selectedUserLocation,
        selectedStatus
      ),
    [highlightTokens, onAssetClick, selectedModel, selectedUserLocation, selectedStatus]
  );

  return (
    <div className="flex flex-col gap-[1.875rem]">
      {/* Header row: title */}
      <PageHeader />

      {/* Content: single rounded card containing the full inventory table */}
      {needsLogin && !isMock ? (
        <Card className="rounded-2xl">
          <CardHeader>
            <CardTitle className="text-base">Authentication Required</CardTitle>
          </CardHeader>
          <CardContent className="flex items-center justify-between">
            <p className="text-sm text-muted-foreground">
              Sign in to view inventory from SharePoint.
            </p>
            <Button size="sm" onClick={handleSignIn}>Sign in</Button>
          </CardContent>
        </Card>
      ) : loading ? (
        <Card className="rounded-2xl">
          <CardContent className="py-6 space-y-2">
            {Array.from({ length: 10 }).map((_, i) => (
              <Skeleton key={i} className="h-5 w-full" />
            ))}
          </CardContent>
        </Card>
      ) : error ? (
        <Card className="rounded-2xl">
          <CardHeader>
            <CardTitle className="text-base">Failed to load inventory</CardTitle>
          </CardHeader>
          <CardContent className="flex items-center justify-between">
            <p className="text-sm text-destructive">{error}</p>
            {!isMock && (
              <Button size="sm" variant="outline" onClick={handleSignIn}>Try Sign In</Button>
            )}
          </CardContent>
        </Card>
      ) : (
        <>
          <Card className="rounded-2xl">
            <CardContent className="pt-4">
              <div className="flex items-center gap-2 pb-3">
                <Input
                  className="w-1/4"
                  value={query}
                  onChange={(e) => setQuery(e.target.value)}
                  placeholder="Search..."
                  aria-label="Search"
                  disabled={loading}
                />
                <select
                  id="model-filter"
                  aria-label="Filter by model"
                  className="h-9 w-1/4 rounded-md border border-input bg-transparent px-3 py-1 md:text-sm ml-4"
                  value={selectedModel}
                  onChange={(e) => setSelectedModel(e.target.value)}
                  disabled={loading}
                >
                  <option value="">All Models</option>
                  {modelOptions.map((m) => (
                    <option key={m} value={m}>
                      {m}
                    </option>
                  ))}
                </select>
                <select
                  id="userloc-filter"
                  aria-label="Filter by user/location"
                  className="h-9 w-[18.75%] rounded-md border border-input bg-transparent px-3 py-1 md:text-sm"
                  value={selectedUserLocation}
                  onChange={(e) => setSelectedUserLocation(e.target.value)}
                  disabled={loading}
                >
                  <option value="">All Locations</option>
                  {userLocationOptions.map((u) => (
                    <option key={u} value={u}>
                      {u}
                    </option>
                  ))}
                </select>
                <select
                  id="status-filter"
                  aria-label="Filter by status"
                  className="h-9 w-[12.5%] rounded-md border border-input bg-transparent px-3 py-1 md:text-sm"
                  value={selectedStatus}
                  onChange={(e) => setSelectedStatus(e.target.value)}
                  disabled={loading}
                >
                  <option value="">All Statuses</option>
                  {statusOptions.map((s) => (
                    <option key={s} value={s}>
                      {s}
                    </option>
                  ))}
                </select>
                {query ? (
                  <Button variant="outline" size="sm" onClick={() => setQuery("")}>
                    Clear
                  </Button>
                ) : null}
              </div>
              <DataTable
                key={`table-${filteredItems.length}-${debouncedQuery}-${selectedModel}-${selectedUserLocation}-${selectedStatus}`}
                columns={columns}
                data={filteredItems}
                pageSize={25}
                showPagination={true}
                tableClassName="table-fixed [&_th:first-child]:pl-3 [&_td:first-child]:pl-3 [&_th:last-child]:pr-3 [&_td:last-child]:pr-3"
              />
            </CardContent>
          </Card>

          <AssetViewOverlay
            open={assetOverlayOpen}
            onOpenChange={setAssetOverlayOpen}
            asset={assetOverlayId ?? undefined}
          />
        </>
      )}
    </div>
  );
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/app/auth/callback/page.tsx ====
BEGIN_CONTENT
"use client";

import * as React from "react";
import { useMsal } from "@azure/msal-react";
import { useRouter } from "next/navigation";
import type { AuthenticationResult } from "@azure/msal-browser";

export default function AuthCallbackPage() {
  const { instance } = useMsal();
  const router = useRouter();
  const [error, setError] = React.useState<string | null>(null);

  React.useEffect(() => {
    let cancelled = false;

    async function handle() {
      try {
        // Ensure MSAL is initialized before calling any API, then complete redirect flow
        await instance.initialize();
        const result = (await instance.handleRedirectPromise()) as AuthenticationResult | null;
        if (!cancelled) {
          if (result?.account) {
            const current = instance.getActiveAccount();
            if (!current) {
              instance.setActiveAccount(result.account);
            }
          }
          // Redirect to preserved deep link if available; fallback to dashboard
          let redirectTo = "/dashboard";
          try {
            if (typeof window !== "undefined") {
              const saved = sessionStorage.getItem("postLoginRedirect");
              if (saved && !saved.startsWith("/auth")) {
                redirectTo = saved;
              }
              sessionStorage.removeItem("postLoginRedirect");
            }
          } catch {
            // ignore storage errors
          }
          try {
            if (typeof window !== "undefined") {
              sessionStorage.setItem("justLoggedIn", "true");
            }
          } catch {
            // ignore storage errors
          }
          router.replace(redirectTo);
        }
      } catch (e) {
        if (!cancelled) {
          setError(e instanceof Error ? e.message : "Authentication error");
        }
      }
    }

    void handle();
    return () => {
      cancelled = true;
    };
  }, [instance, router]);

  return (
    <main className="flex min-h-[60vh] items-center justify-center">
      <div className="text-center">
        <p className="text-sm text-muted-foreground">Completing sign-in…</p>
        {error && <p className="mt-2 text-sm text-destructive">{error}</p>}
      </div>
    </main>
  );
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/app/check-in-out/loading.tsx ====
BEGIN_CONTENT
import { InlineLoader } from "@/components/ui/inline-loader";

export default function Loading() {
  return (
    <div className="flex min-h-48 items-center justify-center py-8" aria-live="polite">
      <InlineLoader label="Loading check in/out…" size="md" />
    </div>
  );
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/app/check-in-out/page.tsx ====
BEGIN_CONTENT
"use client";

import * as React from "react";
import { useMsal } from "@azure/msal-react";
import type { AuthenticationResult, AccountInfo } from "@azure/msal-browser";
import type { InventoryItem } from "@/types/inventory";
import { Card, CardContent } from "@/components/ui/card";
import { Label } from "@/components/ui/label";
import { Input } from "@/components/ui/input";
import { Button } from "@/components/ui/button";
import { AssetDetailsTable } from "@/components/asset/asset-details-table";
import UserLocationSelect from "@/components/user-location-select";
import FinalizePanelCard from "@/components/checkinout/finalize-panel-card";
import CheckInOutTabs from "@/components/checkinout/checkinout-tabs";
import { Table, TableBody, TableCell, TableRow } from "@/components/ui/table";
import { Spinner } from "@/components/ui/spinner";
import { Skeleton } from "@/components/ui/skeleton";
import { useToast } from "@/components/ui/toast-provider";
import { useLottieOverlay } from "@/components/lottie/overlay-provider";
import { Tooltip, TooltipTrigger, TooltipContent } from "@/components/ui/tooltip";
import { useGlobalLoading } from "@/components/loading/loading-provider";
import PageHeader from "@/components/page-header";

const isMock =
  process.env.NEXT_PUBLIC_USE_MOCK_INVENTORY === "true" ||
  process.env.USE_MOCK_INVENTORY === "true";

const API_SCOPE =
  process.env.NEXT_PUBLIC_AZURE_API_SCOPE ||
  process.env.AZURE_API_SCOPE ||
  "";

/**
 * New page: /check-in-out
 * Layout mirrors provided mock with a single staging card.
 * - Title h3 "Stage"
 * - Paragraph "Enter Assets to Check In/Out"
 * - Asset input; validates against SharePoint via /api/inventory/[asset]
 * - Table (reused AssetDetailsTable) fills after valid lookup
 * - User/Location selector (reused behavior from Create)
 * - Switch "Check In" / "Check Out" (function pending)
 * - "Stage" button (function pending)
 */
export default function CheckInOutPage() {
  const { instance, accounts } = useMsal();
  const { toast } = useToast();
  const { open } = useLottieOverlay();
  const activeAccount = React.useMemo<AccountInfo | null>(() => {
    return instance.getActiveAccount() || accounts[0] || null;
  }, [instance, accounts]);
  const { withGlobalLoading } = useGlobalLoading();

  const stageRef = React.useRef<HTMLDivElement>(null);
  const [finalizeHeight, setFinalizeHeight] = React.useState<number | null>(null);

  React.useEffect(() => {
    const el = stageRef.current;
    if (!el) return;
    const update = () => setFinalizeHeight(el.offsetHeight);
    update();
    const ro = new ResizeObserver(() => update());
    ro.observe(el);
    return () => {
      ro.disconnect();
    };
  }, []);


  const [assetInput, setAssetInput] = React.useState("");
  const [assetError, setAssetError] = React.useState<string | null>(null);
  const [loading, setLoading] = React.useState(false);
  const [item, setItem] = React.useState<InventoryItem | null>(null);

  const [userLocation, setUserLocation] = React.useState("");
  const [isCheckout, setIsCheckout] = React.useState(true); // default to "Check Out" as in mock



  // Measure the height of the action box (User/Location + Stage) in Check Out state
  const actionBoxRef = React.useRef<HTMLDivElement>(null);
  const [checkoutBoxHeight, setCheckoutBoxHeight] = React.useState<number | null>(null);
  React.useEffect(() => {
    const el = actionBoxRef.current;
    if (!el) return;
    const update = () => {
      if (isCheckout) setCheckoutBoxHeight(el.offsetHeight);
    };
    update();
    const ro = new ResizeObserver(() => update());
    ro.observe(el);
    return () => ro.disconnect();
  }, [isCheckout]);

  // Finalize counts and staged items (Check In)
  const [inCount, setInCount] = React.useState(0);
  const [outCount, setOutCount] = React.useState(0); // reserved for future "Check Out" staging
  const [stagedIn, setStagedIn] = React.useState<Array<Pick<InventoryItem, "asset" | "serial" | "model">>>([]);
  const [stagedOut, setStagedOut] = React.useState<Array<Pick<InventoryItem, "asset" | "serial" | "model"> & { from: string; to: string }>>([]);
  const [stageError, setStageError] = React.useState<string | null>(null);
  const [submitting, setSubmitting] = React.useState(false);
  const [submitError, setSubmitError] = React.useState<string | null>(null);

  // Overlay variant URLs (env overrides)
  const CHECKIN_OVERLAY_URL =
    process.env.NEXT_PUBLIC_CHECKIN_OVERLAY_URL || "/animations/checkinanimation.json";
  const CHECKINOUT_OVERLAY_URL =
    process.env.NEXT_PUBLIC_CHECKINOUT_OVERLAY_URL || "/animations/checkinoutanimation.json";
  const CHECKOUT_OVERLAY_URL =
    process.env.NEXT_PUBLIC_CHECKOUT_OVERLAY_URL || "/animations/checkoutanimation.json";

  // Future-ready: branch on different conditions to select different overlays
  const resolveFinalizeOverlayUrl = React.useCallback(
    (inCnt: number, outCnt: number): string | null => {
      // Precedence: both >= 1 -> check-in-out; else check-in only; else check-out only
      if (inCnt >= 1 && outCnt >= 1) return CHECKINOUT_OVERLAY_URL;
      if (inCnt >= 1 && outCnt === 0) return CHECKIN_OVERLAY_URL;
      if (outCnt >= 1 && inCnt === 0) return CHECKOUT_OVERLAY_URL;
      return null;
    },
    [CHECKINOUT_OVERLAY_URL, CHECKIN_OVERLAY_URL, CHECKOUT_OVERLAY_URL]
  );


  async function getAuthHeaders(): Promise<HeadersInit> {
    if (isMock) return {};
    if (!API_SCOPE) {
      throw new Error("Missing API scope. Set NEXT_PUBLIC_AZURE_API_SCOPE or AZURE_API_SCOPE.");
    }
    const account = activeAccount || instance.getActiveAccount() || null;
    if (!account) {
      throw new Error("Sign in required");
    }
    const acquireSilentWithTimeout = async (timeoutMs = 10000): Promise<AuthenticationResult> => {
      const p = instance.acquireTokenSilent({
        scopes: [API_SCOPE],
        account,
      });
      const timeout = new Promise<never>((_, reject) =>
        setTimeout(() => reject(new Error("acquireTokenSilent timeout")), timeoutMs)
      );
      return (await Promise.race([p, timeout])) as AuthenticationResult;
    };
    const result = await acquireSilentWithTimeout(10000);
    return { Authorization: `Bearer ${result.accessToken}` };
  }

  React.useEffect(() => {
    const trimmed = assetInput.trim();

    // When empty, reset state and stop loading
    if (!trimmed) {
      setAssetError(null);
      setItem(null);
      setLoading(false);
      return;
    }

    // Validate numeric input
    const assetNum = Number.parseInt(trimmed, 10);
    if (!Number.isFinite(assetNum)) {
      setAssetError("Enter a valid asset number");
      setItem(null);
      setLoading(false);
      return;
    }

    let cancelled = false;
    const controller = new AbortController();

    // Debounce lookup for snappy UX while typing
    const timer = setTimeout(async () => {
      setAssetError(null);
      setLoading(true);
      setItem(null); // show skeleton while loading

      try {
        const headers = await getAuthHeaders().catch((e) => {
          throw new Error(e instanceof Error ? e.message : "Auth error");
        });
        const res = await withGlobalLoading(
          fetch(`/api/inventory/${assetNum}`, {
            method: "GET",
            headers,
            cache: "no-store",
            signal: controller.signal,
          })
        );
        if (!res.ok) {
          if (!cancelled) {
            setAssetError(res.status === 404 ? "Asset not found in SharePoint list" : `Lookup failed (${res.status})`);
            setItem(null);
          }
          return;
        }
        const data = (await res.json()) as InventoryItem;
        if (!cancelled) setItem(data);
      } catch (err: unknown) {
        if (err instanceof DOMException && err.name === "AbortError") return;
        if (!cancelled) setAssetError(err instanceof Error ? err.message : "Unknown error");
      } finally {
        if (!cancelled) setLoading(false);
      }
    }, 300);

    return () => {
      cancelled = true;
      controller.abort();
      clearTimeout(timer);
    };
  }, [assetInput, instance, activeAccount]);

  // Clear any stage error when inputs change
  React.useEffect(() => {
    setStageError(null);
  }, [assetInput, isCheckout, userLocation]);

  const handleRemove = React.useCallback((kind: "in" | "out", asset: number) => {
    if (kind === "in") {
      setStagedIn((prev) => prev.filter((s) => s.asset !== asset));
      setInCount((n) => Math.max(0, n - 1));
    } else {
      setStagedOut((prev) => prev.filter((s) => s.asset !== asset));
      setOutCount((n) => Math.max(0, n - 1));
    }
  }, []);

  const handleSubmitFinalize = React.useCallback(async () => {
    setSubmitting(true);
    setSubmitError(null);
    try {
      const headers = await getAuthHeaders();
      const jsonHeaders: HeadersInit = {
        ...(headers as Record<string, string>),
        "Content-Type": "application/json",
      };

      const requests: Promise<Response>[] = [];

      // Apply Check Ins: status -> ready_to_deploy, userLocation -> Inventory
      for (const r of stagedIn) {
        requests.push(
          fetch(`/api/inventory/${r.asset}`, {
            method: "PATCH",
            headers: jsonHeaders,
            body: JSON.stringify({
              fields: { status: "ready_to_deploy", userLocation: "Inventory" },
            }),
            cache: "no-store",
          })
        );
      }

      // Apply Check Outs: status -> deployed, userLocation -> selected destination
      for (const r of stagedOut) {
        requests.push(
          fetch(`/api/inventory/${r.asset}`, {
            method: "PATCH",
            headers: jsonHeaders,
            body: JSON.stringify({
              fields: { status: "deployed", userLocation: r.to },
            }),
            cache: "no-store",
          })
        );
      }

      const results = await withGlobalLoading(Promise.allSettled(requests));
      const failures: string[] = [];

      for (const res of results) {
        if (res.status === "fulfilled") {
          if (!res.value.ok) {
            let msg = `HTTP ${res.value.status}`;
            try {
              const data = await res.value.json();
              if (data?.error) {
                msg = data.detail ? `${data.error}: ${data.detail}` : data.error;
              }
            } catch {
              // ignore json parse
            }
            failures.push(msg);
          }
        } else {
          failures.push(res.reason instanceof Error ? res.reason.message : "Unknown error");
        }
      }

      if (failures.length > 0) {
        setSubmitError(
          `Failed to finalize ${failures.length} item(s). ${failures.slice(0, 3).join("; ")}${
            failures.length > 3 ? " ..." : ""
          }`
        );
        return;
      }

      // All succeeded: play overlay variant or fallback toast, then clear staged data and close
      const submittedIn = stagedIn.length;
      const submittedOut = stagedOut.length;

      const overlayUrl = resolveFinalizeOverlayUrl(submittedIn, submittedOut);

      const showToast = () => {
        toast({
          title: "Submitted",
          description: `Submitted ${submittedIn} check-in(s) and ${submittedOut} check-out(s).`,
          duration: 4000,
        });
      };

      if (overlayUrl) {
        // Play overlay; fallback to toast on load failure or user dismissal (skip)
        const ok = await open({
          url: overlayUrl,
          loop: false,
          autoplay: true,
          speed: 1.2,
          onClose: (reason) => {
            if (reason === "dismissed") {
              showToast();
            }
          },
        });
        if (!ok) {
          showToast();
        }
      } else {
        showToast();
      }

      setStagedIn([]);
      setStagedOut([]);
      setInCount(0);
      setOutCount(0);
    } catch (e) {
      setSubmitError(e instanceof Error ? e.message : "Unknown error");
    } finally {
      setSubmitting(false);
    }
  }, [stagedIn, stagedOut, getAuthHeaders, toast, open, resolveFinalizeOverlayUrl]);

  function AssetDetailsSkeleton() {
    return (
      <div className="rounded-md border w-full">
        <Table className="w-full text-sm [&_td]:py-2 [&_td]:px-3">
          <TableBody>
            <TableRow data-serial-anchor>
              <TableCell className="w-48 text-muted-foreground whitespace-nowrap">Serial</TableCell>
              <TableCell className="whitespace-nowrap">
                <Skeleton className="h-4 w-40" />
              </TableCell>
            </TableRow>
            <TableRow>
              <TableCell className="w-48 text-muted-foreground whitespace-nowrap">Model</TableCell>
              <TableCell className="whitespace-nowrap">
                <Skeleton className="h-4 w-48" />
              </TableCell>
            </TableRow>
            <TableRow>
              <TableCell className="w-48 text-muted-foreground whitespace-nowrap">Current User/Location</TableCell>
              <TableCell className="whitespace-nowrap">
                <Skeleton className="h-4 w-64" />
              </TableCell>
            </TableRow>
          </TableBody>
        </Table>
      </div>
    );
  }

  // Derived state for Stage button eligibility
  const isCheckIn = !isCheckout;
  const isInInventory = ((item?.userLocation ?? "")).trim() === "Inventory";
  const guardCheckIn = isCheckIn && isInInventory;
  const guardCheckOut = isCheckout && !!item && !isInInventory;
  const isStageDisabled =
    !item ||
    (isCheckout && userLocation.trim().length === 0) ||
    guardCheckIn ||
    guardCheckOut;
  const disabledReason = guardCheckIn ? "Asset is currently in Inventory" : guardCheckOut ? "Asset is currently Checked Out" : null;

  return (
    <div className="flex flex-col gap-[calc(6.4rem-30px)] min-h-screen">
      {/* Header row: title */}
      <PageHeader />

      {/* Content: Stage card (left) + Finalize panel (right) */}
      <div className="mx-auto max-w-[1600px] grid gap-8 md:grid-cols-[600px_600px] justify-items-center items-start flex-1 min-h-0">
        <div ref={stageRef} className="w-full md:w-[600px] min-h-0">
        <Card className="py-0 self-start w-full md:w-[600px]">
        <CardContent className="px-12 pt-5 pb-4 flex flex-col overflow-x-hidden overflow-y-visible min-w-0">
          {/* Header of card: Title + subtitle left, switch right */}
          <div className="flex items-center justify-between gap-4">
            <div>
              <h3 className="text-2xl font-semibold tracking-tight">Enter Assets to Check In/Out</h3>
            </div>

          </div>

          {/* Asset input + Mode tabs */}
          <div className="mt-4 grid w-full md:grid-cols-[1fr_auto] md:items-end md:gap-x-0 gap-2">
            <div className="grid gap-1 w-full">
              <Label htmlFor="asset-number">Asset</Label>
              <div className="relative w-full md:w-1/2">
              <Input
                id="asset-number"
                inputMode="numeric"
                placeholder="Asset Number"
                value={assetInput}
                onChange={(e) => {
                    setAssetInput(e.target.value);
                    if (assetError) setAssetError(null);
                  }}
                  aria-invalid={!!assetError}
                  className="w-full pr-9"
                />
                {loading && (
                  <span className="absolute right-[5px] top-1/2 -translate-y-1/2 m-0 p-0">
                    <Spinner size="sm" className="m-0 p-0" aria-label="Loading" />
                  </span>
                )}
              </div>
              {assetError && (
                <span className="text-sm text-destructive">{assetError}</span>
              )}
            </div>
            <CheckInOutTabs
              isCheckout={isCheckout}
              onChange={setIsCheckout}
              className="justify-self-end md:self-end"
            />
          </div>

          {/* Details table (or skeleton when empty) */}
          <div className="mt-4">
            {item ? (
              <AssetDetailsTable item={item} />
            ) : (
              <AssetDetailsSkeleton />
            )}
          </div>

          {/* To User/Location + Stage button row */}
          <div
            ref={actionBoxRef}
            className="mt-4 rounded-md border p-4"
            style={!isCheckout && checkoutBoxHeight != null ? { minHeight: checkoutBoxHeight } : undefined}
          >
            <div className={`grid gap-2 md:grid-cols-[1fr_auto] ${isCheckout ? "md:items-end" : "md:items-center"} min-w-0`}>
              {isCheckout ? (
                <div className="grid gap-1 w-full min-w-0">
                  <Label htmlFor="to-userloc">To User/Location</Label>
                  <UserLocationSelect
                    id="to-userloc"
                    value={userLocation}
                    onChange={setUserLocation}
                    placeholder="Select or Enter User/Location"
                    showManualButton={false}
                    className="min-w-0"
                  />
                </div>
              ) : (
                <div className="grid gap-1 w-full self-center min-w-0">
                  <h3 className="text-sm font-semibold">To Inventory</h3>
                </div>
              )}

              <div className={`flex md:justify-end ${isStageDisabled ? "cursor-not-allowed" : ""}`}>
                {disabledReason ? (
                  <Tooltip>
                    <TooltipTrigger asChild>
                      <div className="inline-block">
                        <Button
                          type="button"
                          className="mt-1 md:mt-0 px-6 disabled:opacity-50 disabled:cursor-not-allowed"
                          disabled={isStageDisabled}
                          // Function: stage item depending on mode
                          onClick={() => {
                            if (!item) return;
                            const assetNum = item.asset;
                            const inDup = stagedIn.some((s) => s.asset === assetNum);
                            const outDup = stagedOut.some((s) => s.asset === assetNum);
                            if (inDup || outDup) {
                              setStageError(`Asset ${assetNum} is already staged for ${inDup ? "Check In" : "Check Out"}.`);
                              return;
                            }
                            setStageError(null);
                            if (!isCheckout) {
                              // Check In: save key fields locally and increment top counter
                              setStagedIn((prev) => [
                                ...prev,
                                { asset: item.asset, serial: item.serial, model: item.model },
                              ]);
                              setInCount((n) => n + 1);
                              // Prepare for next scan
                              setAssetInput("");
                              setItem(null);
                              setAssetError(null);
                            } else {
                              // Check Out: save key fields + destination locally and increment bottom counter
                              setStagedOut((prev) => [
                                ...prev,
                                { asset: item.asset, serial: item.serial, model: item.model, from: item.userLocation, to: userLocation },
                              ]);
                              setOutCount((n) => n + 1);
                              // Prepare for next scan
                              setUserLocation("");
                              setAssetInput("");
                              setItem(null);
                              setAssetError(null);
                            }
                          }}
                        >
                          Stage
                        </Button>
                      </div>
                    </TooltipTrigger>
                    <TooltipContent sideOffset={6}>{disabledReason}</TooltipContent>
                  </Tooltip>
                ) : (
                  <Button
                    type="button"
                    className="mt-1 md:mt-0 px-6 disabled:opacity-50 disabled:cursor-not-allowed"
                    disabled={isStageDisabled}
                    // Function: stage item depending on mode
                    onClick={() => {
                      if (!item) return;
                      const assetNum = item.asset;
                      const inDup = stagedIn.some((s) => s.asset === assetNum);
                      const outDup = stagedOut.some((s) => s.asset === assetNum);
                      if (inDup || outDup) {
                        setStageError(`Asset ${assetNum} is already staged for ${inDup ? "Check In" : "Check Out"}.`);
                        return;
                      }
                      setStageError(null);
                      if (!isCheckout) {
                        // Check In: save key fields locally and increment top counter
                        setStagedIn((prev) => [
                          ...prev,
                          { asset: item.asset, serial: item.serial, model: item.model },
                        ]);
                        setInCount((n) => n + 1);
                        // Prepare for next scan
                        setAssetInput("");
                        setItem(null);
                        setAssetError(null);
                      } else {
                        // Check Out: save key fields + destination locally and increment bottom counter
                        setStagedOut((prev) => [
                          ...prev,
                          { asset: item.asset, serial: item.serial, model: item.model, from: item.userLocation, to: userLocation },
                        ]);
                        setOutCount((n) => n + 1);
                        // Prepare for next scan
                        setUserLocation("");
                        setAssetInput("");
                        setItem(null);
                        setAssetError(null);
                      }
                    }}
                  >
                    Stage
                  </Button>
                )}
              </div>
            </div>
            {stageError && (
              <div role="alert" aria-live="polite" className="mt-2 text-sm text-destructive">
                {stageError}
              </div>
            )}
          </div>

        </CardContent>
      </Card>
        </div>
        <div className="w-full md:w-[600px]">
          <FinalizePanelCard
            className="w-full md:w-[600px]"
            style={finalizeHeight != null ? { minHeight: finalizeHeight } : undefined}
            stagedIn={stagedIn}
            stagedOut={stagedOut}
            onRemove={handleRemove}
            onSubmit={handleSubmitFinalize}
            submitting={submitting}
            submitError={submitError ?? undefined}
          />
        </div>
      </div>
    </div>
  );
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/app/client-layout-shell.tsx ====
BEGIN_CONTENT
"use client";

import * as React from "react";
import { usePathname } from "next/navigation";
import { AppShell } from "@/components/app-sidebar";

export function ClientLayoutShell({ children }: { children: React.ReactNode }) {
  const pathname = usePathname() || "/";
  const hideChrome = pathname === "/" || pathname.startsWith("/auth");

  // On unauthenticated routes (landing + auth), render children without AppShell/Sidebar.
  return hideChrome ? (
    <div className="min-h-screen p-6 md:p-8">{children}</div>
  ) : (
    <AppShell>{children}</AppShell>
  );
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/app/dashboard/loading.tsx ====
BEGIN_CONTENT
import { InlineLoader } from "@/components/ui/inline-loader";

export default function Loading() {
  return (
    <div className="flex min-h-48 items-center justify-center py-8" aria-live="polite">
      <InlineLoader label="Loading dashboard…" size="md" />
    </div>
  );
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/app/dashboard/page.tsx ====
BEGIN_CONTENT
import * as React from "react";
import PageHeader from "@/components/page-header";
import { InventoryView } from "@/components/inventory/inventory-view";

export default function DashboardPage() {
  return (
    <div className="grid gap-6 md:grid-cols-3">
      {/* Header */}
      <PageHeader className="md:col-span-3" />


      {/* Inventory dashboard content (3 cards + recent activity) */}
      <InventoryView />
    </div>
  );
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/app/favicon.ico ====
BEGIN_CONTENT
BASE64
AAABAAQAEBAAAAEAIAAoBQAARgAAACAgAAABACAAKBQAAG4FAAAwMAAAAQAgACgtAACWGQAAAAAAAAEAIACNHgAAvkYAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACQAAABdAAAAugAAALoAAABdAAAAJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAKAAAADyAAAA/wAAAP8AAAD/AAAA/wAAAPIAAACgAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAOAAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAOAAAAA4AAAAAAAAAAAAAAAAAAAAHwAAAOIAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA4gAAAB8AAAAAAAAAAAAAAKEAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAChAAAAAAAAACMAAAD0AAAA/wAAAP9PT0//rq6u/6urq/+rq6v/q6ur/6urq/+tra3/Z2dn/wAAAP8AAAD/AAAA9AAAACMAAABZAAAA/wAAAP8AAAD/Hx8f/+3t7f///////////////////////f39/zU1Nf8AAAD/AAAA/wAAAP8AAABZAAAAuwAAAP8AAAD/AAAA/wAAAP9ra2v//////////////////////46Ojv8AAAD/AAAA/wAAAP8AAAD/AAAAuwAAALsAAAD/AAAA/wAAAP8AAAD/CQkJ/83Nzf///////////+Tk5P8YGBj/AAAA/wAAAP8AAAD/AAAA/wAAALsAAABZAAAA/wAAAP8AAAD/AAAA/wAAAP9KSkr//f39//////9ra2v/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAABZAAAAIwAAAPQAAAD/AAAA/wAAAP8AAAD/AQEB/7a2tv/V1dX/CQkJ/wAAAP8AAAD/AAAA/wAAAP8AAAD0AAAAIwAAAAAAAAChAAAA/wAAAP8AAAD/AAAA/wAAAP8xMTH/RERE/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAAoQAAAAAAAAAAAAAAHwAAAOIAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA4gAAAB8AAAAAAAAAAAAAAAAAAAA4AAAA4AAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA4AAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAACgAAAA8gAAAP8AAAD/AAAA/wAAAP8AAADyAAAAoAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACQAAABdAAAAugAAALoAAABdAAAAJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAgAAAAQAAAAAEAIAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAAsAAAAVQAAAIEAAADoAAAA6AAAAIEAAABVAAAALAAAAAYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACoAAACFAAAA0gAAAPkAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD5AAAA0gAAAIUAAAAqAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAAACWAAAA8wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAPMAAACWAAAAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABRAAAA4QAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADhAAAAUQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcgAAAPsAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD7AAAAcgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHIAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAAcgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABPAAAA+wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD7AAAATwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGwAAAOQAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADjAAAAGwAAAAAAAAAAAAAAAAAAAAAAAACXAAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAACXAAAAAAAAAAAAAAAAAAAAKAAAAPUAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAPQAAAAnAAAAAAAAAAAAAACGAAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/ODg4/4uLi/+IiIj/iIiI/4iIiP+IiIj/iIiI/4iIiP+IiIj/iIiI/4iIiP+IiIj/iIiI/4iIiP+JiYn/X19f/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAIYAAAAAAAAABwAAANQAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8eHh7/7u7u//////////////////////////////////////////////////////////////////////9TU1P/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA1AAAAAcAAAArAAAA+gAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP9oaGj/////////////////////////////////////////////////////////////////rq6u/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD6AAAAKwAAAFQAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wgICP/Ly8v///////////////////////////////////////////////////////T09P8sLCz/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAABUAAAAggAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/0dHR//9/f3/////////////////////////////////////////////////jY2N/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAIEAAADpAAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/62trf///////////////////////////////////////////+Tk5P8XFxf/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA6QAAAOkAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/Kysr//Pz8///////////////////////////////////////ampq/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADpAAAAgQAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/i4uL/////////////////////////////////8zMzP8ICAj/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAIIAAABUAAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8WFhb/4+Pj///////////////////////9/f3/SUlJ/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAAVAAAACsAAAD6AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP9oaGj//////////////////////6+vr/8BAQH/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAPoAAAArAAAABwAAANQAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wgICP/Ly8v////////////09PT/LCws/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA1AAAAAcAAAAAAAAAhgAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/0dHR//9/f3//////42Njf8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAACGAAAAAAAAAAAAAAAnAAAA9AAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/7Gxsf/s7Oz/FxcX/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA9QAAACgAAAAAAAAAAAAAAAAAAACXAAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/MzMz/19fX/8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAACXAAAAAAAAAAAAAAAAAAAAAAAAABoAAADjAAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA5AAAABsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE8AAAD7AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAPsAAABPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHIAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAAcgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHIAAAD7AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA+wAAAHIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFEAAADhAAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAOEAAABRAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAAACWAAAA8wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAPMAAACWAAAAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAqAAAAhQAAANIAAAD5AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA+QAAANIAAACFAAAAKgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABgAAACwAAABVAAAAgQAAAOgAAADoAAAAgQAAAFUAAAAsAAAABgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAwAAAAYAAAAAEAIAAAAAAAAC0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJAAAAKAAAAEwAAABqAAAAswAAAPgAAAD3AAAAswAAAGoAAABLAAAAKAAAAAkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATAAAAVgAAAKAAAADYAAAA+AAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA+AAAANgAAACgAAAAVQAAABMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJQAAAIsAAADhAAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAOEAAACLAAAAJgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABYAAACLAAAA7wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA7wAAAIsAAAAWAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUQAAANwAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADcAAAAUgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYAAACKAAAA/gAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/gAAAIoAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwAAAK0AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAACtAAAADwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPAAAAuAAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAAuAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYAAACuAAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAK4AAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIoAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAACKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAP0AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD9AAAATwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVAAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA3wAAABUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACLAAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAIsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACMAAADxAAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAPEAAAAjAAAAAAAAAAAAAAAAAAAAAAAAAIwAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAACLAAAAAAAAAAAAAAAAAAAAEQAAAOQAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8kJCT/aGho/2VlZf9lZWX/ZWVl/2VlZf9lZWX/ZWVl/2VlZf9lZWX/ZWVl/2VlZf9lZWX/ZWVl/2VlZf9lZWX/ZWVl/2VlZf9lZWX/ZWVl/2VlZf9lZWX/ZWVl/1BQUP8BAQH/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADkAAAAEQAAAAAAAAAAAAAAVQAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8cHBz/6+vr/////////////////////////////////////////////////////////////////////////////////////////////////////////////////3Nzc/8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAAVQAAAAAAAAAAAAAAoQAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/ZWVl////////////////////////////////////////////////////////////////////////////////////////////////////////////zMzM/wgICP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAAoQAAAAAAAAAJAAAA2gAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/BwcH/8nJyf/////////////////////////////////////////////////////////////////////////////////////////////////9/f3/SEhI/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA2gAAAAkAAAAoAAAA+QAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/0VFRf/8/Pz///////////////////////////////////////////////////////////////////////////////////////////+urq7/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA+AAAACgAAABLAAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP+qqqr///////////////////////////////////////////////////////////////////////////////////////T09P8sLCz/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAEwAAABqAAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8pKSn/8vLy/////////////////////////////////////////////////////////////////////////////////4yMjP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAGoAAAC0AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/iIiI////////////////////////////////////////////////////////////////////////////4+Pj/xYWFv8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAALMAAAD4AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/FBQU/+Hh4f//////////////////////////////////////////////////////////////////////aWlp/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAPgAAAD4AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/2VlZf/////////////////////////////////////////////////////////////////Ly8v/CAgI/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAPgAAACzAAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wcHB//Jycn///////////////////////////////////////////////////////39/f9ISEj/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAALQAAABqAAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP9FRUX//Pz8/////////////////////////////////////////////////66urv8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAGoAAABMAAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/qqqq////////////////////////////////////////////9PT0/ywsLP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAEsAAAAoAAAA+AAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/KSkp//Ly8v//////////////////////////////////////jIyM/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA+QAAACgAAAAJAAAA2gAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/4iIiP/////////////////////////////////j4+P/FhYW/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA2gAAAAkAAAAAAAAAoQAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/xQUFP/h4eH///////////////////////////9paWn/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAAoQAAAAAAAAAAAAAAVQAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP9lZWX//////////////////////8zMzP8ICAj/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAAVQAAAAAAAAAAAAAAEQAAAOQAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8HBwf/ycnJ/////////////f39/0hISP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADkAAAAEQAAAAAAAAAAAAAAAAAAAIsAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/RUVF//z8/P//////rq6u/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAACMAAAAAAAAAAAAAAAAAAAAAAAAACMAAADxAAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/6ysrP/7+/v/LCws/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAPEAAAAjAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACLAAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/zIyMv99fX3/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAIsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVAAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA3wAAABUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATwAAAP0AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD9AAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIoAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAACKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYAAACuAAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAK4AAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAuAAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAAuAAAAA8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwAAAK0AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAACtAAAADwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYAAACKAAAA/gAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/gAAAIoAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUgAAANwAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADcAAAAUQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABYAAACLAAAA7wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA7wAAAIsAAAAWAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJgAAAIsAAADhAAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAOEAAACLAAAAJQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATAAAAVQAAAKAAAADYAAAA+AAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA+AAAANgAAACgAAAAVgAAABMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJAAAAKAAAAEsAAABqAAAAswAAAPcAAAD4AAAAswAAAGoAAABMAAAAKAAAAAkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACJUE5HDQoaCgAAAA1JSERSAAABAAAAAQAIBgAAAFxyqGYAAAABc1JHQgCuzhzpAAAAOGVYSWZNTQAqAAAACAABh2kABAAAAAEAAAAaAAAAAAACoAIABAAAAAEAAAEAoAMABAAAAAEAAAEAAAAAAEQiOHMAAB4DSURBVHgB7V0JsBXVmW6UXQg8FhFRVkGW6MRoJAnKToyOMTMqiHGwwmSqBsSNqUmhiAiYRJNMMpOqKM4UKNSYMtbEmdEYGUcJi8FxX0DlsYjghoobEngIyJvvu9CPvo97b/e9vZ3T/f1V33t9u0+f5Tvn//v0+c853cKRZIGBrihEZ6AT0BE4CegD9AROALoBXYDuQAugDmgDeKURP3YADcBO4DPgPWA78DbwLvAmsAvgdeIT4CAgsZQBNgaJHQxQganQvYDBQP/DoFLTAFD5aQRaA3HKXkRO4+AagHdwvA3YDLwB0FjQaNCYSAxnQAbAzAo6GdniE3wI8DVgIHAiQAPAJ7zJsgeZc3sN63D8KvAywN4DjYXEIAZkANKvjJbIAhV8KDAS+AowAOCTPkvyFgqzBXgeWAOsBzYBBwBJSgzIAKRDfD8kS0UfBwwHTgHYfc+TfIrC8rXhGeB/AfYWaCAkCTIgA5AM2Xwvp8KPAC4ATgN6AJIjDLyPw1eAZcAK4DWA4w2SGBmQAYiP3LaI+gzgO8B5AJW+FSDxZ+BzBKkHHgZoEF4AGgBJxAzIAERMKKI7E7gEOB+g0h8LSGpngGMEHEh8CHgQoDGgy1IiBoxhgO/004GVAEfB2UCF6DlgL2AlMAPoDUjEQGoM8L1+LLAIoNtLCp8sB3QpLgbOAehJkYiBRBjogVSmAk8C+wEpfrocsA5WA+yBdQUkYiAWBuiqmw3QVSWlN5ODjaib+QBfySRiIBIGOEHn18AHgBTfDg74SvYzYBggEQM1MTAEd1HxPwak+HZy8NHhOvwy/kvEQCAGpPh2KnslI+0agkGBWoAC5ZKBXij1zwE98bNnAFzjwFeD2wGNEYAEySEGOuDfLGAb4DYU/c82FzQEM4E6QJJjBi5G2Z8DpPD55IB1PxHQPAKQkCfhFN0HgIOAlF8c3I92cDogyTgDHVG+mwEOCknxxYG3DXB7M87z0GsBSMiijEehngK8la5j8dG8DTyNNjImiwqQ1zJ1Q8H/BeDa8uaVrd/ipFQb+DPaCr0F6g2ABJuFO+68CJSqZJ0TL35tgL0BLviSWMZAe+R3LrAb8KtkXRdHldoAewNsS9zgRWIBA5z//ShQqVJ1TfxU2wYeQ5vS2gLDDcBk5O9dKb+MX0xt4D3E+z1AYhgDnM33S4DbR1Vr2RVenFXTBtjG2Nb4mikxgIEByAO7Z9VUosKKr7BtYDnaXH8D2n+us8BR/s1A2MrU/eKwljbwOtqe1V4Cm3esnQby7wG4RZdEDKTBAOcJ/DWwE+C6AuvERgPQBizfBtwK8FgiBtJkgG3wPIBuQn7y7AtAEhMDtLj3ArV013SPeIu7Dfw72mbePvEWk6ofHe1JOLUCiLsSFb84DtMGuEMx26okQga4lROnZYapGN0r/pJqA2yr3EVaEgEDwxHHJiCpylM64jqKNrABbfbrEbT/XEcxGqXnF2CiqBDFIR6TbgNsu2zDxorJXoBRYO23QE9j2VPGxEBlBrgBzbcBugi556RxYqoBcJX/BOMYU4bEQHUMcJq6sUbARANA5b8P0JO/uoam0OYyQCPAuQLG9QRMMwCjQZKUHyRIMscAXwdoBJ4HtgJGSAsjcnEoExzt/0/gRIPypKyIgagZ4HJ1bkdPV2HqYooBGAAmlgEDU2dEGRAD8TPARUTnA3RvpyrHpJr6ocQ5a4rdfim/AZWhLCTCAB94vwFSnzGYdg/gSyDhD8A5gEQM5I2BVSjwdwGuJkxF0hwE5Oqpu4ALUym5EhUD6TPQF1k4GXgEOAAkLmkagAUo7YzES6wExYBZDJyO7PBhyF2tEpe0DMA0lPTHgAljEImTrgTFQDMGuGbgA4DzBBKVNMYAxqKE/w3QLyoRA2LgEAP8/gDHA/6YJCFJG4B+hwvYN8lCKi0xYAkDbyCfEwC6CRORJLvgx6FEi4G+iZRMiYgB+xjgA/LfAOpKIpLkGMBPUaLLEymVEhED9jJAI9AOeDSJIiRlAKj4twNJ9jiS4E9piIE4GPgaIt0AvBpH5N44W3h/xHQ8FPEuB7S0NyaCFW0mGdiOUo0HXouzdHH3ANiV4S6+p8VZCMUtBjLIAL1kpwIPAPvjKl/cBuAmZHxqXJlXvGIg4wz0R/n2AaviKmecrwCjkemHgcRGNOMiSfGKgRQZ2IO0LwBiMQJxGYBOyPDjwFmARAyIgXAMvIzbOYHu43DRHH13XK8A85HUpKOT0xkxIAZqYIAD6BxP+58a7q14Sxw9gNFI8fcA90GTiAExEA0DnyMavgpEOlU4agPA9f10+anrDxIkYiBiBp5BfHwV2B1VvFG/AvwDMjYlqswpHjEgBooY6IVfDcDqorMhfkTZA+C65pUAv+ArEQNiIB4GPkG03Dp/XRTRHxNFJIijNTAXkPJHRGhS0XTo0MHp3bt3UskpnfAMUMcWAJHobiSRIDPc1usSQGIZA1OnTnWWLFnitGrVyrKc5zq7F6H03DvACOHA3/NAo2AXB8cff3zjli1bGimTJ09W/dnVhqlzRnjarpPi26X4bn3NmzevoPz8s379+sa6ujoZAbuMwA9Rl6lKX6TOVUtqOJZxMHjw4MYdO3Y0GQAezJ49W/VoVz2+Cd3rCaQmtyFlNRrLOGjRokXj3XffXaT8/PHhhx829u/fX/VpV33+U1raPwgJvy8DYJ8BHDt2bOO+ffuOMgA8sWjRIhkAuwzAp9BB7rmRuNyBFNVYLOOgbdu2jStWrCip/Dy5d+/exhEjRqhe7arXO5PW/mFI8GMZAPsM4JQpU8oqv3th+fLljXALygjYYwQ4OSjRXoCe/vY0jiZFpttvw4YNrp5X/C+3oHXGPbFegJ7+Fio/e2tet19F7cfF+vp6uQXtqmf2AoYAVUkti4HoexxXVSoKnDoDcPs5CxcudNq3bx8oL926dXM+++wz54knnggUXoFSZ4DfF+TankfizElfRK6Rf7ueDI3l3H5+vQC5Ba17DfgI+tk/TgMwH5E3vVPq2A4uxo0b17h//34/fS95XW5BO+rYo4uz4zIAXRDxRk9CMgQWGEM/t19JrfeclFvQOgOwBTraPQ4jwE96S+kt4yCI28+j7yUP5Ra0rt1/P2oD0AYR/kkGwK6GUI3br6Tme07KLWhV3f8fdJU6G5mcg5j4gQL1ACzioBq3n0fXSx7KLWhV2+cGomODaH9QNyAH/84MEqHCmMFAtW4/v1zTLbhr1y65Bf2IMuM69fog8GAU2eFGhNsBPf0t4aBWt1/JR7/npNyCVukA3fV9ojAAV0n5rar4Rrr9yq328+hzTYdyC1rVFjhwH0q4UdwqQE9/SzgI6/bzswpyC1qlC9TdlmEsAN/7d8sA2FPpV155pZ8Oh74ut6A17WEPdDfU2N2PpPzWVHYj3X4bN24MreBBIrj88svVK7SjV/gT6HBNwsUFLwGqaEs4iNLt52cE5Ba0Ri9ehA63q8UCjMBNe2UA7KjoUpt8+ilx2Os33XSTHg7mPxw4J+AbtRiAH0v57VB+uv3uueeesPpc9f1yC9rRPqDHt1VrANhlUPfffOteeALH6fbzswqLFy9WL8D8dvIC9Jmv9IHlDITkCKIq13AO4nb7+RkAuQWt0BG+yp9dSvvLfRuQ84hrGjgolYjOxcfAxIkTndGjR8eXgE/Mbdq0cRYsWKBvC/rwlPJlLgzimF4goVF4HNDT33AOknT7+fUE5BY0Xl8eg06Xe+AXGYa++MV5xDIAhnOQpNvPzwDQLdi5c2e1GXPbzAfQaep2kZRaDTgKIX5QFEo/jGOAq/3uuuuuwJt8xl0ArhbcvXu3s3r16riTUvy1MXAcbuPU4Hrv7aW6BBO8AXRsHgNw+zmzZs1yunbtalTmrr/+egffFjQqT8pMEQPji36V+NEa554D1JUzmIM03X5+rwJyCxqtO9Rt6nhZGYwr/MCADIChHKTt9vMzAHILGq071G3qeJM0fwXg98U6N13VgXEMTJo0KVW3nx8hcgv6MZTqdeo2v+zVJM0NwDebrujAOAa6d+/uzJkzx7h8Nc8QPj/uXHrppc1P67cZDJzrzYbXAPD4LO9FHZvFwIwZM5yBAwealakyubnlllucurq6Mld1OkUGvoK0m7x/XgNwAi4MSDFjSroCA3T7XX311RVCmHXp1FNPda66irvJSQxjgE+QnqXyxCWDBwANABrGQVqr/fwG/Pyua7WgkbpEHT/HNQDeHkBR18ANoP/pM8B36iuuuCL9jFSZA85TwJ4BVd6l4DEzwO4/B/sL4jUATSfdi/qfPgNw+xUG/lq1apV+ZmrIAQ3XiBGB16HUkIJuqYGBprE+1wDw/2k1RKRbYmYg7dV+YYsnt2BYBmO5n+MALbwx82uimwG9/xvEgUmr/fze9/2ua7WgUbrFr3zza99NywPpASg5MshAknQYsMnt58cQ3YJYLegXTNeTYYD6TjQZgJNx3J4nJGYwQLcfDUBWhG5Bm9yYWeG9TDk64nwvXnPHAPqXCajTKTBg6mq/sFRcd911Wi0YlsTo7h/CqFwDoAlA0REbOqaxY+10+/kVnHsGyC3ox1Ji1/sxJdcA9EksWSVUkQHb3X4VC4eLcgv6MZTY9cJDnwaAHw8svA8klrQSKsuA6av9ymY84AW5BQMSFX8wev6OpQHoBGjVRvyE+6YAt58Vq/18C+ITgK84Wi3oQ1L8l7mdVGfXANAISFJmgItnbFntF5aquXPnyi0YlsRw99MnKwMQjsPo7rZttV/YkmfNzRmWjxTu50O/E3sA9AnywwGSlBjIqtvPj86ZM2fKLehHUnzXuTdgRxqA3vGloZiDMJBVt59f2bVa0I+h2K+fRAOgKcCx81w+gay7/cqX/NAVuQX9GIr1eh8aAE4DlqTEQNbdfn60yi3ox1Cs13tyc4C/BbQXQKw8l46cm3wuXbrUuA98lM5tfGf79evnrF+/3nnllVfiS0Qxl2LgTb0ClKIloXNcHJMXt58fpXIL+jEUy/Vu7AFcCxSWBsaShCItyQDdYAsXLjTm234lM5ngSX1bMEGyjyS1kz0ALdI+QkgiR67bj41ecoQBrRY8wkVCR91pANollJiSOcxAXt1+fg1AqwX9GIr8+jHcF+wLgIZAkgADdPstW7bM6M97JUBD2STwbUFn/Pjxzpo1a8qG0YXIGPicii/lj4xP/4hs3+TTv4ThQtBALliwwLF1F+RwpU/87jYcBJyXeLI5TVBuv2AV37dvX6e+vl5uwWB0hQqlp38o+qq7mYNccvv5c8ZB0nnz5unbgv5UhQ6hHkBoCoNFMGzYMOfOO+902rXTmGsQxrhOoKGhwVm1alWQ4ApTIwPsAXxe4726LSADfKLdcMMNTpcuha3YA96lYNdee616TPE2g4M0AJ/Em4Zi56j2ZZddJiKqZIAGc86cOVXepeBVMPAhDcDBKm5Q0CoZYJf/5ptv1qh2lby5wWk4R40a5f7U/2gZaKAB2BFtnIrNy8DkyZOdc88913tKx1UwwNWC8+fPd1q35v4VkogZ+JSDgOyb9o04YkUHBnr06OEsWbJE7/4hW0OfPn2cjRs3OmvXrg0Zk25vxsBm9gA+anZSPyNigINYAwYMiCi2/EbDQVS+RtXVafPqiFvBe+wBsH96dsQR5z66oUOHyu0XYSuQWzBCMo9EtZw9gO1HfusoCgb4xLrxxhvV9Y+CTE8c11xzjdyCHj4iOHyLBmBbBBEpCg8DEyZMcDj4J4mWAfYC5BaMlNPtNABvRxplziOj248fwGzZkl9ck0TNgNyCkTJa2BJsF6LcF2m0OY6MDXTkyJE5ZiDeosstGBm/nAG8iz2AnYcRWcx5jYhuP3VR4699GljNrAzNc0HvaQA+PYzQMeY9Ag5Sye0XfyvgICsNrdyCobguMgCaCxCKS+yrDrff9OnTQ8ai24MyMGjQIIfLqyU1M8A1QIVNQbklmKYD18yj48jtF4K8ELdqW/UQ5DnOO7j7AF8BKK8f+qe/tTDA1X5y+9XCXLh79G3BUPwV3P+uAXgjVFQ5vpluP76Pyu2XTiOg4ZXXpSbuCw991wCsrykK3VQYjVYDTK8huN8W1GrBqutgC+9wDQDfBzgfQFIFA3L7VUFWjEHlFqya3D244y3e5RqA93BMSKpgQG6/KsiKMajcglWTy/U/BX13DQBdAuwFSAIyQLfftGnTAoZWsLgZoFuQy68lgRjg9P+C6981AI04sSnQrQpUYICbfHIUWmIOA1otGLgu1iFkYStA1wDwzucC357zgFrtZ2YDkFswcL285ob0GgCe5KQgSQUGtMlnBXIMuCS3oG8lUMdfckN5DcBWnHzfvaD/pRngIhRt8lmaGxPOyi3oWwscAGzaA8RrAHhB4wAV+JPbrwI5Bl2iW3DSpEkG5ciorHACUJPHz2sAiroGRmXZkMzI7WdIRfhkg25BbSJaliSO9TV9C4SbgnrlOPyQ6fQycvhYm3yWIMXgUxwQ3Lt3r7Ny5UqDc5lK1n6BVJtm/np7AMzNqwD3B5B4GNBqPw8ZFh1qteBRlUXdbvIA8GpzA8D5wXxHkHgY0Lf9PGRYdCi34FGVRd0urAFwrzQ3ANwb8Cn3ov47hc95c7Vfq1atRIeFDMgtWFRp1O2i/T+bGwCGfrzolpz/kNvP7gYgt2BR/T1W9As/mg8C8vpe4AqAA4K5Frr9li5dqg98WN4K9G3BQgV+gL8/AorG+Er1AN5EoJcLt+T8j9x+2WgAcgsW6pHz/6nbRVKqB8CFQd2A84pC5uwH3X533HGH0759+5yVPJvFlVvQuQM1+2Tz2i3VA2CYNQA/HJBLcd1+bDSS7DBAt+App5ySnQIFL0kDgq4oFbycAeCH2Iv8haVuzuo5uf2yWbM06JwhmEPZiDLXlyp3OQPAgcBHS92Q9XPuJp9y+2WzpnP66bY/oDbZCzhKyhkABnwIKPIZHnV3Bk/ktIFksCZLFymHbkG+yj9Smo3SbkA3LLcMugg4wT2R9f9y+2W9hg+Vj27BTZs2OWvX8k0388Lp/bcCB0qVtFIPgF2GZaVuyuo5uf2yWrPF5eIgLz/hnpNvCz6M0vOVvqSUcgN6A3LSwBQg8/Ng5fbzVnv2j7t16+Y0NDQ4q1atynJh96BwswDu9VFSWpQ8e+RkSxwuB0YeOZW9I35U4r777nMuvvji7BVOJSrLAA3A8OHDnXXrOEcmk7IapRoP7C9XOip4JeF7w31Apg0Au4JsBPX19U5jI+dBSfLAwLHHHpv1ad73ox7LKj/r2K8HwDB9gGeA4/lDIgbEgBUMcNuvs4CK3/uoNAjolpIbCNKPKBEDYsAeBjiAX1H5WZQgBoDh7gVyNyeABZeIAQsZYLf/7iD5DmoAuDbghSARKowYEAOpM8BX9meD5CKoAeBson8NEqHCiAExkDoD7LFTZ30lyCCgGwkHAbmlUD/3hP6LATFgHAObkKOvAx8HyVnQHgDj4o4ii4JEqjBiQAykxgDd9oGUnzmspgfA8P0Bvlt04Q+JGBADRjHAh/RwYGvQXFXTA2Cc3FL4t0EjVzgxIAYSZWApUttaTYrV9gAY9xCAWwt15g+JGBADRjDwCXJxLsDVf4Gl2h4AI14P8D1DIgbEgDkMUCerUn5mvZYeAO8bCnBugHoBZEMiBtJloKanP7NcSw+A970GqBdAJiRiIH0Ganr6M9u19gB4L3sBHAvoxB8SMSAGUmGAI/989+fGn1VLrT0AJsRegOYFVE25bhADkTLAOf81KT9zEaYHwPt7Ak8DJ/OHRAyIgUQZ4JLfbwBba03Vb0swv3j/jADcVGSCX0BdFwNiIHIG5iDGR8PEGrYHwLQ7AKuAr/KHRAyIgUQY4OrcMcBnYVIL2wNg2twnYAcwEYjCoCAaiRgQAz4MXI3rL/mE8b0cZhDQG/mD+PGQ94SOxYAYiI2B3yFmbvcdWqJ8Yp+G3PBVoC50rhSBGBAD5RjgpJ/RwNpyAao5H8UrgJse/ZGtgLHuCf0XA2IgcgZuRYwPRBVrlD0A5uk44I/A2fwhEQNiIFIGnkNs44BQA3/eHEXZA2C83IyQS4YnA37fHEAQiRgQAwEZoMt9KrAhYPhAwaI2AEz0DaA7wI0JJGJADETDwD8jmshn3kb9CuAWtQsOVgIcGJSIATEQjgF2/ccDO8NFc/TdUbkBm8fMPcmuA/Y0v6DfYkAMVMXAboT+IRC58jMXcbwCMF7KVoDjAGMAiRgQA7Ux8BPctrS2W/3viusVwE25PQ44SYjdF4kYEAPVMUCP2oVAQ3W3BQ8dtwFgTrhvwOMAVw5KxIAYCMYAV/rR5cdl97FJnK8Abqa5TuBt4K+AuMYc3LT0XwxkgYEDKMQ0YEXchUnCALAMrwKcIsy1yxIxIAYqM/ArXP5F5SDRXE3iFcDNKWcJcsGQpgq7jOi/GDiaAT71vwNw9D92SdIAsDADgMeAfvwhEQNioIiBrfjFByQn0yUiSb+Tv45S/R3AaY0SMSAGjjCwC4c/ABJTfiad1BgA03KFBeSSxguApHsgbh70XwyYxMAXyMxM4D+SzlQaBoBl5NTGjsA3+UMiBnLOwE9RfiJxScsAsKBPABwLOJ0/JGIgpwzci3L/I0DXX+KSdhe8E0rMmYKjEi+5EhQD6TPwJ2ThL4HI1vdXW6SkBwGb528nTvwN8GzzC/otBjLOANv85UBqyk9+0+4BMA+UgcAyYAB/SMRAxhnYhPKdD9Arlqqk3QNwC09CrgDedU/ovxjIKANs41OA1JWf/KY5CMj0vfIOfvBjB98GOngv6FgMZIQBLvD5HrDGlPKYZADIyVbgeUBGACRIMsUAlZ/v/CtNKpVpBoDcbAU4T0BGACRIMsEAlZ8b5a4yrTQmGgBytA1QT8C01qL81MKA++Q3TvlZGFMNAPO2FaAR+BbAWYMSMWAbAxzw4zv/SlMzbrIBIGdbgSeBkUBXQCIGbGFgMzLKbj8n+0hCMnAK7n8aaBTEgQVtgG11ECCJkIGTENdqQEZAHJjcBlagjbKtWiGmvwJ4SeSUyf8CSK4WEHmZ0bEpDPwGGfk+wA/lWiE2GQASuhfglGHOYOT+gqbMZERWJDlmgOv5fwlwTb82u0moIUxHOlxMZHJ3UHnLfv1Q4acl1OaVTDMGxuE351RL0cRBGm2AbW98szapnwkz0B/pLQfSaABKM7+8P442NyDhth55craNAZQigPsL/g7gZ8jOBjQuABIksTHA9/1fAX8PvB9bKoq4Jga4pJhTL/VkFgdxtAHO7OPkHonBDAxD3h4D4mgAijO/vD6KNsW2JbGAgbbI41yAI7RSWnEQpg3wCz1sS3zFlFjGwFjkV1OIZQBqNQAvof3Q0ySxmIE65P12QL0BGYKghoATzjjQ1w2QZISBMSiHegMyAn5G4Cm0E/n2M6L0zYvB3sBsgK5Dv4ag6/ni6CO0iZsB7T0BErIuXEx0PyAlFwcH0Q4eAE4DJDlioCXKOhHg/oMyBPnkgHV/CSDJMQN8LZgJbAdkCPLBAfecnAV0ACRioMBAP/ylt0CGILtG4GPU78+BXoBEDJRkgFs5/RrgoJB6BNnggIrPOh0KSMRAIAa+jFAyBHYbACl+oKauQJUY4PzvnwF6NbDHGHyA+tITv1Kr1rWqGeAYwXxgI6BXAzM52IK64TwP7iItEQOxMMDvE1wFPAHsB2QM0uWAdcBvR0wFegASMZAIA5xHcA6wGOCXjWUIkuWAr2SLAC74ag1IxEBqDPRGyjOAlUADIGMQDwd7DnM8Hf/5SiYJyUCLkPfr9mIGuB3ZGcB3gYsADiCypyCpnQFuwbUO4HbwnLL7PCCJiAEZgIiILBFNO5z7KnA+cCEwGGgDSPwZ4Hs9lZ678PweeBHgEl1JxAzIAERMaJno2uI8J6GMAWgQOMdAA1YgwSPv45hK/wiwBuBmHPsASYwMyADESG6FqPvjGleffQvgTsZ0W3UG8iSforCbgaeB5QAV/g1AkiADMgAJkl0mKY4RDASGACOAMwEaiJOBLAk9Ja8DVPTVwGvAJuAAIEmJARmAlIj3SbYXrtOz8BcABxLZWzgJ6Am0B0yWXcgcXXTvAlTwZ4H1wDbgLUBiEAMyAAZVhk9WuuM6DQANQT+Arw19ABoLLmnuBHwJ4HhDnML3cnbfdwIfATsAzsAj6gE+6WkAOA9fYjgDMgCGV1CA7NH16BoAGoGOAHsPJwJur+EEHNM48Ho7gMaked1/jnOfAJzDQKWmAn8IvAdQobcBbwN8wlP5aQRoACQWM/D/QN+5DmrsiuEAAAAASUVORK5CYII=
/BASE64
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/app/globals.css ====
BEGIN_CONTENT
@import "tailwindcss";
@plugin "tailwindcss-animate";

@custom-variant dark (&:is(.dark *));

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
  --color-sidebar-ring: var(--sidebar-ring);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar: var(--sidebar);
  --color-chart-5: var(--chart-5);
  --color-chart-4: var(--chart-4);
  --color-chart-3: var(--chart-3);
  --color-chart-2: var(--chart-2);
  --color-chart-1: var(--chart-1);
  --color-ring: var(--ring);
  --color-input: var(--input);
  --color-border: var(--border);
  --color-destructive: var(--destructive);
  --color-accent-foreground: var(--accent-foreground);
  --color-accent: var(--accent);
  --color-muted-foreground: var(--muted-foreground);
  --color-muted: var(--muted);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-secondary: var(--secondary);
  --color-primary-foreground: var(--primary-foreground);
  --color-primary: var(--primary);
  --color-popover-foreground: var(--popover-foreground);
  --color-popover: var(--popover);
  --color-card-foreground: var(--card-foreground);
  --color-card: var(--card);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
}

:root {
  --radius: 0.625rem;
  --background: oklch(1 0 0);
  --foreground: oklch(0.145 0 0);
  --card: oklch(1 0 0);
  --card-foreground: oklch(0.145 0 0);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.145 0 0);
  --primary: oklch(0.205 0 0);
  --primary-foreground: oklch(0.985 0 0);
  --secondary: oklch(0.97 0 0);
  --secondary-foreground: oklch(0.205 0 0);
  --muted: oklch(0.97 0 0);
  --muted-foreground: oklch(0.556 0 0);
  --accent: oklch(0.97 0 0);
  --accent-foreground: oklch(0.205 0 0);
  --destructive: oklch(0.577 0.245 27.325);
  --border: oklch(0.922 0 0);
  --input: oklch(0.922 0 0);
  --ring: oklch(0.708 0 0);
  --chart-1: oklch(0.646 0.222 41.116);
  --chart-2: oklch(0.6 0.118 184.704);
  --chart-3: oklch(0.398 0.07 227.392);
  --chart-4: oklch(0.828 0.189 84.429);
  --chart-5: oklch(0.769 0.188 70.08);
  --sidebar: oklch(0.985 0 0);
  --sidebar-foreground: oklch(0.145 0 0);
  --sidebar-primary: oklch(0.205 0 0);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.97 0 0);
  --sidebar-accent-foreground: oklch(0.205 0 0);
  --sidebar-border: oklch(0.922 0 0);
  --sidebar-ring: oklch(0.708 0 0);
}

.dark {
  --background: oklch(0.145 0 0);
  --foreground: oklch(0.985 0 0);
  --card: oklch(0.205 0 0);
  --card-foreground: oklch(0.985 0 0);
  --popover: oklch(0.205 0 0);
  --popover-foreground: oklch(0.985 0 0);
  --primary: oklch(0.922 0 0);
  --primary-foreground: oklch(0.205 0 0);
  --secondary: oklch(0.269 0 0);
  --secondary-foreground: oklch(0.985 0 0);
  --muted: oklch(0.269 0 0);
  --muted-foreground: oklch(0.708 0 0);
  --accent: oklch(0.269 0 0);
  --accent-foreground: oklch(0.985 0 0);
  --destructive: oklch(0.704 0.191 22.216);
  --border: oklch(1 0 0 / 10%);
  --input: oklch(1 0 0 / 15%);
  --ring: oklch(0.556 0 0);
  --chart-1: oklch(0.488 0.243 264.376);
  --chart-2: oklch(0.696 0.17 162.48);
  --chart-3: oklch(0.769 0.188 70.08);
  --chart-4: oklch(0.627 0.265 303.9);
  --chart-5: oklch(0.645 0.246 16.439);
  --sidebar: oklch(0.205 0 0);
  --sidebar-foreground: oklch(0.985 0 0);
  --sidebar-primary: oklch(0.488 0.243 264.376);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.269 0 0);
  --sidebar-accent-foreground: oklch(0.985 0 0);
  --sidebar-border: oklch(1 0 0 / 10%);
  --sidebar-ring: oklch(0.556 0 0);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* Global top loader animation */
@keyframes top-loader {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(400%);
  }
}

.animate-top-loader {
  animation: top-loader 1.2s ease-in-out infinite;
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/app/layout.tsx ====
BEGIN_CONTENT
import type { Metadata } from "next";
import { Geist, Geist_Mono } from "next/font/google";
import "./globals.css";
import { ClientLayoutShell } from "@/app/client-layout-shell";
import { ClientProviders } from "@/app/providers/msal-provider";
import { AuthGuard } from "@/app/providers/auth-guard";
import { ToastProvider } from "@/components/ui/toast-provider";
import { GlobalLoadingProvider } from "@/components/loading/loading-provider";
import { LottieOverlayProvider } from "@/components/lottie/overlay-provider";
import LottieOverlay from "@/components/lottie/lottie-overlay";

const geistSans = Geist({
  variable: "--font-geist-sans",
  subsets: ["latin"],
});

const geistMono = Geist_Mono({
  variable: "--font-geist-mono",
  subsets: ["latin"],
});

export const metadata: Metadata = {
  title: "CURATOR",
  description: "CURATOR",
};

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="en">
      <body
        className={`${geistSans.variable} ${geistMono.variable} antialiased`}
      >
        <GlobalLoadingProvider>
          <LottieOverlayProvider>
            <ClientProviders>
              <AuthGuard>
                <ToastProvider>
                  <ClientLayoutShell>{children}</ClientLayoutShell>
                  <LottieOverlay />
                </ToastProvider>
              </AuthGuard>
            </ClientProviders>
          </LottieOverlayProvider>
        </GlobalLoadingProvider>
      </body>
    </html>
  );
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/app/page.tsx ====
BEGIN_CONTENT
"use client";

import * as React from "react";
import { useMsal } from "@azure/msal-react";
import { useRouter } from "next/navigation";

/**
 * Root page renders no UI; when authenticated, redirect to dashboard.
 * Authentication is enforced globally by AuthGuard (via RootLayout).
 * If unauthenticated, AuthGuard will trigger MSAL login redirect.
 */
export default function LandingPage() {
  const { instance, accounts } = useMsal();
  const router = useRouter();

  const activeAccount = React.useMemo(
    () => instance.getActiveAccount() || accounts[0] || null,
    [instance, accounts]
  );

  React.useEffect(() => {
    if (activeAccount) {
      router.replace("/dashboard");
    }
  }, [activeAccount, router]);

  return null;
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/app/providers/auth-guard.tsx ====
BEGIN_CONTENT
"use client";

import * as React from "react";
import { useMsal } from "@azure/msal-react";
import { usePathname } from "next/navigation";

const API_SCOPE =
  process.env.NEXT_PUBLIC_AZURE_API_SCOPE ||
  process.env.AZURE_API_SCOPE ||
  "";

export function AuthGuard({ children }: { children: React.ReactNode }) {
  const { instance, accounts } = useMsal();
  const pathname = usePathname() || "/";
  const [ready, setReady] = React.useState(false);
  const [startingLogin, setStartingLogin] = React.useState(false);
  const [error, setError] = React.useState<string | null>(null);
  const triggeredRef = React.useRef(false);
  const bypassedOnceRef = React.useRef(false);

  // Allow bypass in tests (mock mode)
  const mockMode =
    process.env.NEXT_PUBLIC_USE_MOCK_INVENTORY === "true" ||
    process.env.USE_MOCK_INVENTORY === "true";

  const activeAccount = React.useMemo(
    () => instance.getActiveAccount() || accounts[0] || null,
    [instance, accounts]
  );

  React.useEffect(() => {
    let cancelled = false;
    (async () => {
      try {
        await instance.initialize();
      } catch {
        // ignore; login flow will surface issues if any
      } finally {
        if (!cancelled) setReady(true);
      }
    })();
    return () => {
      cancelled = true;
    };
  }, [instance]);

  React.useEffect(() => {
    if (mockMode) return; // tests bypass
    if (!ready) return; // wait for msal init
    if (pathname.startsWith("/auth")) return; // let callback finish
    if (triggeredRef.current) return; // avoid duplicate calls

    // If we just completed a login this page load, skip forcing again once.
    try {
      if (typeof window !== "undefined") {
        if (sessionStorage.getItem("justLoggedIn") === "true") {
          sessionStorage.removeItem("justLoggedIn");
          bypassedOnceRef.current = true;
          return;
        }
      }
    } catch {
      // ignore storage errors
    }
    if (bypassedOnceRef.current) return;

    if (!API_SCOPE) {
      setError("Missing API scope. Set NEXT_PUBLIC_AZURE_API_SCOPE or AZURE_API_SCOPE.");
      return;
    }

    triggeredRef.current = true;
    setStartingLogin(true);
    try {
      const currentPath =
        (typeof window !== "undefined" ? window.location.pathname : "/") +
        (typeof window !== "undefined" ? window.location.search : "") +
        (typeof window !== "undefined" ? window.location.hash : "");
      if (typeof window !== "undefined") {
        sessionStorage.setItem("postLoginRedirect", currentPath || "/");
      }
    } catch {
      // ignore storage errors
    }
    void instance.loginRedirect({ scopes: [API_SCOPE], prompt: "login" });
  }, [ready, activeAccount, pathname, instance, mockMode]);

  if (mockMode) return <>{children}</>;
  if (pathname.startsWith("/auth")) return <>{children}</>;

  if (!activeAccount) {
    return (
      <main className="min-h-screen grid place-items-center">
        <p className="text-sm text-muted-foreground">
          {error ? error : startingLogin ? "Opening Microsoft sign-in…" : "Checking sign-in…"}
        </p>
      </main>
    );
  }

  return <>{children}</>;
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/app/providers/msal-provider.tsx ====
BEGIN_CONTENT
"use client";

import * as React from "react";
import { MsalProvider } from "@azure/msal-react";
import {
  PublicClientApplication,
  type Configuration,
  EventType,
  type AccountInfo,
  type AuthenticationResult,
  type EventMessage,
} from "@azure/msal-browser";

function createMsalInstance() {
  const tenantId =
    process.env.NEXT_PUBLIC_AZURE_TENANT_ID || process.env.AZURE_TENANT_ID || "common";
  // Fallback GUID allows provider to initialize in mock mode without real app registration
  const clientId = process.env.NEXT_PUBLIC_AZURE_FRONTEND_CLIENT_ID || "00000000-0000-0000-0000-000000000000";
  const redirectUri =
    process.env.NEXT_PUBLIC_AZURE_REDIRECT_URI ||
    (typeof window !== "undefined" ? `${window.location.origin}/auth/callback` : "/auth/callback");

  const config: Configuration = {
    auth: {
      clientId,
      authority: `https://login.microsoftonline.com/${tenantId}`,
      redirectUri,
      navigateToLoginRequestUrl: false,
    },
    cache: {
      cacheLocation: "sessionStorage",
      storeAuthStateInCookie: false,
    },
    system: {
      loggerOptions: {
        loggerCallback: () => {
          // hook up your logger if desired
        },
      },
    },
  };

  const pca = new PublicClientApplication(config);
  return pca;
}

export function ClientProviders({ children }: { children: React.ReactNode }) {
  const pca = React.useMemo(() => createMsalInstance(), []);

  React.useEffect(() => {
    pca.initialize().then(() => {
      // Keep an active account set
      const accounts = pca.getAllAccounts();
      if (accounts.length > 0 && !pca.getActiveAccount()) {
        pca.setActiveAccount(accounts[0]);
      }

      pca.addEventCallback((event: EventMessage) => {
        if (
          event.eventType === EventType.LOGIN_SUCCESS ||
          event.eventType === EventType.ACQUIRE_TOKEN_SUCCESS
        ) {
          const result = event.payload as AuthenticationResult | null;
          const account = result?.account as AccountInfo | undefined;
          if (account && !pca.getActiveAccount()) {
            pca.setActiveAccount(account);
          }
        }
      });
    });
  }, [pca]);

  return <MsalProvider instance={pca}>{children}</MsalProvider>;
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/components/app-sidebar.tsx ====
BEGIN_CONTENT
"use client";

import * as React from "react";
import {
  Sidebar,
  SidebarContent,
  SidebarFooter,
  SidebarGroup,
  SidebarGroupContent,
  SidebarHeader,
  SidebarInset,
  SidebarMenu,
  SidebarMenuButton,
  SidebarMenuItem,
  SidebarProvider
} from "@/components/ui/sidebar";
import { Separator } from "@/components/ui/separator";
import { TooltipProvider } from "@/components/ui/tooltip";
import {
  House,
  CirclePlus,
  Boxes,
  ArrowRightLeft,
  Settings,
  Moon
} from "lucide-react";
import Link from "next/link";
import { cn } from "@/lib/utils";
import AssetCreateDialog from "@/components/asset/asset-create-dialog";
import { useMsal } from "@azure/msal-react";
import { useLottieOverlay } from "@/components/lottie/overlay-provider";
import { useGlobalLoading } from "@/components/loading/loading-provider";

export function AppShell({
  children,
  className,
}: {
  children: React.ReactNode;
  className?: string;
}) {
  const [createOpen, setCreateOpen] = React.useState(false);
  const [defaultAsset, setDefaultAsset] = React.useState<number | undefined>(undefined);
  const [creating, setCreating] = React.useState(false);

  // MSAL + API scope (mirrors InventoryView)
  const { instance, accounts } = useMsal();
  const activeAccount = React.useMemo(
    () => instance.getActiveAccount() || accounts[0] || null,
    [instance, accounts]
  );
  const isMock =
    process.env.NEXT_PUBLIC_USE_MOCK_INVENTORY === "true" ||
    process.env.USE_MOCK_INVENTORY === "true";
  const API_SCOPE =
    process.env.NEXT_PUBLIC_AZURE_API_SCOPE ||
    process.env.AZURE_API_SCOPE ||
    "";
  const { withGlobalLoading } = useGlobalLoading();
  const { open: openOverlay, close: closeOverlay } = useLottieOverlay();

  const fetchNextAsset = React.useCallback(async (): Promise<number | undefined> => {
    try {
      let headers: HeadersInit = {};
      if (!isMock) {
        if (!API_SCOPE || !activeAccount) return undefined;
        const result = await instance.acquireTokenSilent({
          scopes: [API_SCOPE],
          account: activeAccount,
        });
        headers = { Authorization: `Bearer ${result.accessToken}` };
      }
      const res = await fetch("/api/inventory/next-asset", { method: "GET", headers });
      if (!res.ok) return undefined;
      const js = (await res.json()) as { nextAsset?: number };
      return typeof js.nextAsset === "number" ? js.nextAsset : undefined;
    } catch {
      return undefined;
    }
  }, [instance, activeAccount, API_SCOPE, isMock]);

  const handleCreate = React.useCallback(async () => {
    setCreating(true);
    try {
      await openOverlay({
        spinner: true,
      });
      const n = await withGlobalLoading(fetchNextAsset());
      if (typeof n === "number") setDefaultAsset(n);
      setCreateOpen(true);
    } finally {
      closeOverlay();
      setCreating(false);
    }
  }, [fetchNextAsset, withGlobalLoading, openOverlay, closeOverlay]);

  return (
    <SidebarProvider defaultOpen={false}>
      <AppSidebar onCreate={handleCreate} creating={creating} />
      <SidebarInset className={cn("p-6 md:p-8", className)}>{children}</SidebarInset>
      <AssetCreateDialog open={createOpen} onOpenChange={setCreateOpen} defaultAsset={defaultAsset} />
    </SidebarProvider>
  );
}

export default function AppSidebar({ onCreate, creating }: { onCreate?: () => void; creating?: boolean }) {


  return (
    <TooltipProvider delayDuration={0}>
      <Sidebar variant="floating" collapsible="icon">
        <SidebarContent>
          <SidebarGroup>
            <SidebarGroupContent>
              <SidebarMenu>
                <SidebarMenuItem>
                  <SidebarMenuButton tooltip="Home" asChild>
                    <Link href="/">
                      <House />
                      <span>Home</span>
                    </Link>
                  </SidebarMenuButton>
                </SidebarMenuItem>
                <SidebarMenuItem>
                  <SidebarMenuButton tooltip="Create" onClick={onCreate} disabled={!!creating} className="gap-2">
                    <CirclePlus />
                    <span>Create</span>
                  </SidebarMenuButton>
                </SidebarMenuItem>
                <SidebarMenuItem>
                  <SidebarMenuButton tooltip="Assets" asChild>
                    <Link href="/assets">
                      <Boxes />
                      <span>Assets</span>
                    </Link>
                  </SidebarMenuButton>
                </SidebarMenuItem>
                <SidebarMenuItem>
                  <SidebarMenuButton tooltip="Check In/Out" asChild>
                    <Link href="/check-in-out">
                      <ArrowRightLeft />
                      <span>Check In/Out</span>
                    </Link>
                  </SidebarMenuButton>
                </SidebarMenuItem>
              </SidebarMenu>
            </SidebarGroupContent>
          </SidebarGroup>
        </SidebarContent>
        <SidebarFooter className="items-center justify-center">
          <Separator className="w-8" />
          <SidebarMenu>
            <SidebarMenuItem>
              <SidebarMenuButton tooltip="Settings">
                <Settings />
                <span>Settings</span>
              </SidebarMenuButton>
            </SidebarMenuItem>
            <SidebarMenuItem>
              <SidebarMenuButton tooltip="Dark Mode">
                <Moon />
                <span>Dark Mode</span>
              </SidebarMenuButton>
            </SidebarMenuItem>
          </SidebarMenu>
        </SidebarFooter>
      </Sidebar>
    </TooltipProvider>
  );
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/components/asset/asset-create-dialog.tsx ====
BEGIN_CONTENT
"use client";

import * as React from "react";
import { Dialog, DialogContent } from "@/components/ui/dialog";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { Label } from "@/components/ui/label";
import { ButtonGroup } from "@/components/ui/button-group";
import { Plus, ChevronDown } from "lucide-react";
import { cn } from "@/lib/utils";
import { useMsal } from "@azure/msal-react";
import { useModelOptions, useUserSearch, useLocations, type UserOption } from "@/hooks/use-inventory-options";
import { Spinner } from "@/components/ui/spinner";
import { useGlobalLoading } from "@/components/loading/loading-provider";
import { useLottieOverlay } from "@/components/lottie/overlay-provider";

type Props = {
  open: boolean;
  onOpenChange: (open: boolean) => void;
  defaultAsset?: number;
};

export default function AssetCreateDialog({ open, onOpenChange, defaultAsset }: Props) {
  const [asset, setAsset] = React.useState("");
  const [model, setModel] = React.useState("");
  const [serial, setSerial] = React.useState("");
  const [userLocation, setUserLocation] = React.useState("");
  const [status, setStatus] = React.useState<"ready_to_deploy" | "deployed" | "retired">("ready_to_deploy");
  const [imageFile, setImageFile] = React.useState<File | null>(null);

  // Model combobox state
  const [modelOpen, setModelOpen] = React.useState(false);
  const [modelQuery, setModelQuery] = React.useState("");
  const [modelManual, setModelManual] = React.useState(false);
  const closeTimerRef = React.useRef<ReturnType<typeof setTimeout> | null>(null);
  const {
    models: modelOptions,
    loading: modelLoading,
    error: modelError,
  } = useModelOptions(modelOpen && !modelManual, modelQuery, 200);

  // User/Location combobox state
  const [userLocOpen, setUserLocOpen] = React.useState(false);
  const [userQuery, setUserQuery] = React.useState("");
  const [userManual, setUserManual] = React.useState(false);

  const {
    users: userOptions,
    loading: usersLoading,
    error: usersError,
  } = useUserSearch(userQuery, userLocOpen);

  const {
    locations,
    loading: locationsLoading,
    error: locationsError,
    refetch: refetchLocations,
  } = useLocations();

  React.useEffect(() => {
    if (userLocOpen && (locations.length === 0 || locationsError) && !locationsLoading) {
      void refetchLocations();
    }
  }, [userLocOpen, locations.length, locationsError, locationsLoading, refetchLocations]);

  const filteredLocations = React.useMemo(() => {
    const q = userQuery.trim().toLowerCase();
    return q ? locations.filter((l) => l.toLowerCase().includes(q)) : locations;
  }, [locations, userQuery]);

  const formatUser = React.useCallback((u: UserOption) => {
    const label = u.displayName || u.userPrincipalName || u.mail || u.id;
    const sub = u.mail || u.userPrincipalName || "";
    return { label, sub };
  }, []);

  // Auth + create-handling for Save
  const { instance, accounts } = useMsal();
  const isMock =
    process.env.NEXT_PUBLIC_USE_MOCK_INVENTORY === "true" ||
    process.env.USE_MOCK_INVENTORY === "true";
  const API_SCOPE =
    process.env.NEXT_PUBLIC_AZURE_API_SCOPE ||
    process.env.AZURE_API_SCOPE ||
    "";
  const { withGlobalLoading } = useGlobalLoading();
  const { open: openOverlay } = useLottieOverlay();

  const [saving, setSaving] = React.useState(false);
  const [saveError, setSaveError] = React.useState<string | null>(null);

  async function getAuthHeaders(): Promise<HeadersInit> {
    // In mock mode, no auth header required
    if (isMock) {
      return { "Content-Type": "application/json" };
    }
    if (!API_SCOPE) {
      throw new Error("Missing API scope. Set NEXT_PUBLIC_AZURE_API_SCOPE.");
    }
    const account = instance.getActiveAccount() || accounts[0] || null;
    if (!account) {
      throw new Error("Not authenticated");
    }
    const result = await instance.acquireTokenSilent({
      scopes: [API_SCOPE],
      account,
    });
    return {
      Authorization: `Bearer ${result.accessToken}`,
      "Content-Type": "application/json",
    };
  }

  function reset() {
    setAsset("");
    setModel("");
    setSerial("");
    setUserLocation("");
    setStatus("ready_to_deploy");
    setImageFile(null);
  }

  function handleOpenChange(next: boolean) {
    if (!next) reset();
    onOpenChange(next);
  }

  React.useEffect(() => {
    if (open && typeof defaultAsset === "number") {
      setAsset(String(defaultAsset));
    }
  }, [open, defaultAsset]);

  function getCreateAnimationUrl(s: "ready_to_deploy" | "deployed" | "retired"): string | null {
    switch (s) {
      case "ready_to_deploy":
        return "/animations/createreadytodeploy.json";
      case "deployed":
        return "/animations/createdeployed.json";
      case "retired":
        return "/animations/createretired.json";
      default:
        return null;
    }
  }

  async function onSubmit(e: React.FormEvent) {
    e.preventDefault();
    setSaveError(null);

    // Ensure asset is a valid number before attempting create
    const assetNum = Number(asset);
    if (!Number.isFinite(assetNum)) {
      setSaveError("Invalid asset number");
      return;
    }

    setSaving(true);
    try {
      const headers = await getAuthHeaders();
      const payload = {
        fields: {
          asset: assetNum,
          model,
          serial,
          userLocation,
          status,
          // assetImage and notes are optional; omitted for now
        },
      };

      const res = await withGlobalLoading(fetch("/api/inventory", {
        method: "POST",
        headers,
        body: JSON.stringify(payload),
      }));

      if (!res.ok) {
        let message = `Create failed (${res.status})`;
        try {
          const data = (await res.json()) as { error?: string; detail?: string };
          message = data?.error || data?.detail || message;
        } catch {
          // ignore json parsing error, keep default message
        }
        setSaveError(message);
        return;
      }

      // Play status-specific Lottie overlay on successful create
      const animationUrl = getCreateAnimationUrl(status);
      if (animationUrl) {
        void openOverlay({ url: animationUrl, loop: false, autoplay: true });
      }

      // Success: close the dialog (creation only occurs via Save)
      onOpenChange(false);
    } catch (err) {
      setSaveError(err instanceof Error ? err.message : "Unknown error");
    } finally {
      setSaving(false);
    }
  }

  return (
    <Dialog open={open} onOpenChange={handleOpenChange}>
      <DialogContent
        // Larger centered card, close button already provided by DialogContent
        className={cn(
          "w-full pt-8 pb-8 px-[2.4rem] rounded-2xl max-w-[75vw] md:max-w-[75vw]",
          "shadow-lg"
        )}
      >
        <h2 className="text-3xl sm:text-4xl font-semibold tracking-tight mb-6">
          New Asset
        </h2>

        <form onSubmit={onSubmit} className="grid grid-cols-1 md:grid-cols-2 gap-x-10 gap-y-6 pb-[2.3rem]">
          {/* Left column */}
          <div className="space-y-6">
            <div className="space-y-2">
              <Label htmlFor="asset">Asset</Label>
              <div className="w-full md:w-1/4">
                <Input
                  id="asset"
                  inputMode="numeric"
                  placeholder="Asset Number"
                  value={asset}
                  onChange={(e) => setAsset(e.target.value)}
                  required
                />
              </div>
            </div>

            <div className="space-y-2">
              <Label htmlFor="model">Model</Label>
              <div className="flex gap-2">
                <div className="relative grow md:grow-0 md:w-3/4">
                  <Input
                    id="model"
                    className="md:px-2.5"
                    role="combobox"
                    aria-expanded={modelOpen && !modelManual}
                    aria-controls="model-options"
                    aria-autocomplete="list"
                    placeholder="Model Identity"
                    value={model}
                    onFocus={() => {
                      if (!modelManual) setModelOpen(true);
                    }}
                    onChange={(e) => {
                      const v = e.target.value;
                      setModel(v);
                      setModelQuery(v);
                      if (!modelManual) setModelOpen(true);
                    }}
                    onKeyDown={(e) => {
                      if (e.key === "Escape") {
                        setModelOpen(false);
                      }
                    }}
                    onBlur={() => {
                      // Delay closing to allow option mousedown to fire first
                      if (closeTimerRef.current) {
                        clearTimeout(closeTimerRef.current);
                      }
                      closeTimerRef.current = setTimeout(() => {
                        setModelOpen(false);
                        closeTimerRef.current = null;
                      }, 100);
                    }}
                    required
                  />
                  {modelOpen && !modelManual && (
                    <div
                      id="model-options"
                      role="listbox"
                      className="absolute z-50 mt-1 w-full max-h-60 overflow-y-auto rounded-md border bg-popover shadow-md p-1 text-sm"
                    >
                      {modelLoading && (
                        <div className="px-3 py-2 text-muted-foreground">Loading...</div>
                      )}
                      {!modelLoading && modelError && (
                        <div className="px-3 py-2 text-destructive">{modelError}</div>
                      )}
                      {!modelLoading && !modelError && modelOptions.length === 0 && (
                        <div className="px-3 py-2 text-muted-foreground">No models found</div>
                      )}
                      {!modelLoading &&
                        !modelError &&
                        modelOptions.map((opt) => (
                          <button
                            key={opt}
                            role="option"
                            className="w-full px-3 py-2 text-left hover:bg-accent"
                            onMouseDown={(e) => {
                              e.preventDefault();
                              if (closeTimerRef.current) {
                                clearTimeout(closeTimerRef.current);
                                closeTimerRef.current = null;
                              }
                              setModel(opt);
                              setModelQuery(opt);
                              setModelOpen(false);
                            }}
                          >
                            {opt}
                          </button>
                        ))}
                    </div>
                  )}
                </div>
                <Button
                  type="button"
                  size="icon"
                  variant="outline"
                  aria-label="Toggle model list"
                  title="Toggle model list"
                  disabled={modelManual}
                  onMouseDown={(e) => {
                    // Prevent input blur from immediately closing
                    e.preventDefault();
                    if (closeTimerRef.current) {
                      clearTimeout(closeTimerRef.current);
                      closeTimerRef.current = null;
                    }
                  }}
                  onClick={() => {
                    if (modelManual) return;
                    setModelOpen((o) => !o);
                  }}
                >
                  <ChevronDown className="size-4" />
                </Button>
                <Button
                  type="button"
                  size="icon"
                  variant={modelManual ? "default" : "outline"}
                  aria-pressed={modelManual}
                  aria-label={modelManual ? "Manual entry enabled" : "Manual entry"}
                  title={modelManual ? "Manual entry enabled" : "Manual entry"}
                  onClick={() => {
                    setModelManual((prev) => {
                      const next = !prev;
                      if (closeTimerRef.current) {
                        clearTimeout(closeTimerRef.current);
                        closeTimerRef.current = null;
                      }
                      if (next) {
                        // enabling manual entry closes dropdown
                        setModelOpen(false);
                      } else {
                        // disabling manual entry reopens suggestions
                        setModelOpen(true);
                      }
                      return next;
                    });
                  }}
                >
                  <Plus className="size-4" />
                </Button>
              </div>
            </div>

            <div className="space-y-2">
              <Label htmlFor="serial">Serial</Label>
              <div className="w-full md:w-3/4">
                <Input
                  id="serial"
                  className="md:px-2.5"
                  placeholder="Serial Number"
                  value={serial}
                  onChange={(e) => setSerial(e.target.value)}
                  required
                />
              </div>
            </div>
          </div>

          {/* Right column */}
          <div className="space-y-6">
            <div className="space-y-2">
              <Label htmlFor="image">Image</Label>
              <div className="w-full md:w-3/4">
                <Input
                  id="image"
                  type="file"
                  className="md:px-2.5"
                  accept="image/*"
                  onChange={(e) => setImageFile(e.target.files?.[0] ?? null)}
                />
              </div>
            </div>

            <div className="space-y-2">
              <Label htmlFor="userloc">User/Location</Label>
              <div className="flex gap-2">
                <div className="relative grow md:grow-0 md:w-3/4">
                  <Input
                    id="userloc"
                    className="md:px-2.5"
                    role="combobox"
                    aria-expanded={userLocOpen && !userManual}
                    aria-controls="userloc-options"
                    aria-autocomplete="list"
                    placeholder="Name"
                    value={userLocation}
                    onFocus={() => {
                      if (!userManual) setUserLocOpen(true);
                    }}
                    onChange={(e) => {
                      const v = e.target.value;
                      setUserLocation(v);
                      setUserQuery(v);
                      if (!userManual) setUserLocOpen(true);
                    }}
                    onKeyDown={(e) => {
                      if (e.key === "Escape") {
                        setUserLocOpen(false);
                      }
                    }}
                    onBlur={() => {
                      // Delay closing to allow option mousedown to fire first
                      if (closeTimerRef.current) {
                        clearTimeout(closeTimerRef.current);
                      }
                      closeTimerRef.current = setTimeout(() => {
                        setUserLocOpen(false);
                        closeTimerRef.current = null;
                      }, 100);
                    }}
                    required
                  />
                  {userLocOpen && !userManual && (
                    <div
                      id="userloc-options"
                      role="listbox"
                      className="absolute z-50 mt-1 w-full max-h-72 overflow-y-auto rounded-md border bg-popover shadow-md p-1 text-sm"
                    >
                      <div className="px-3 py-1 text-xs text-muted-foreground">Users</div>
                      {usersLoading ? (
                        <div className="px-3 py-2 text-muted-foreground">Searching...</div>
                      ) : usersError ? (
                        <div className="px-3 py-2 text-destructive">{usersError}</div>
                      ) : userQuery.trim().length >= 2 && userOptions.length === 0 ? (
                        <div className="px-3 py-2 text-muted-foreground">No users</div>
                      ) : (
                        userOptions.map((u) => {
                          const { label, sub } = formatUser(u);
                          const value = label + (sub && sub !== label ? ` (${sub})` : "");
                          return (
                            <button
                              key={u.id}
                              role="option"
                              className="w-full px-3 py-2 text-left hover:bg-accent"
                              onMouseDown={(e) => {
                                e.preventDefault();
                                if (closeTimerRef.current) {
                                  clearTimeout(closeTimerRef.current);
                                  closeTimerRef.current = null;
                                }
                                setUserLocation(value);
                                setUserLocOpen(false);
                              }}
                            >
                              <div className="flex flex-col">
                                <span>{label}</span>
                                {sub && (
                                  <span className="text-xs text-muted-foreground">
                                    {sub}
                                  </span>
                                )}
                              </div>
                            </button>
                          );
                        })
                      )}

                      <div className="mt-1 px-3 py-1 text-xs text-muted-foreground">Locations</div>
                      {locationsLoading ? (
                        <div className="px-3 py-2 text-muted-foreground">Loading...</div>
                      ) : locationsError ? (
                        <div className="px-3 py-2 text-destructive">{locationsError}</div>
                      ) : filteredLocations.length === 0 ? (
                        <div className="px-3 py-2 text-muted-foreground">No locations</div>
                      ) : (
                        filteredLocations.map((opt) => (
                          <button
                            key={opt}
                            role="option"
                            className="w-full px-3 py-2 text-left hover:bg-accent"
                            onMouseDown={(e) => {
                              e.preventDefault();
                              if (closeTimerRef.current) {
                                clearTimeout(closeTimerRef.current);
                                closeTimerRef.current = null;
                              }
                              setUserLocation(opt);
                              setUserLocOpen(false);
                            }}
                          >
                            {opt}
                          </button>
                        ))
                      )}
                    </div>
                  )}
                </div>

                <Button
                  type="button"
                  size="icon"
                  variant="outline"
                  aria-label="Toggle user/location list"
                  title="Toggle user/location list"
                  disabled={userManual}
                  onMouseDown={(e) => {
                    // Prevent input blur from immediately closing
                    e.preventDefault();
                    if (closeTimerRef.current) {
                      clearTimeout(closeTimerRef.current);
                      closeTimerRef.current = null;
                    }
                  }}
                  onClick={() => {
                    if (userManual) return;
                    setUserLocOpen((o) => !o);
                  }}
                >
                  <ChevronDown className="size-4" />
                </Button>

                <Button
                  type="button"
                  size="icon"
                  variant={userManual ? "default" : "outline"}
                  aria-pressed={userManual}
                  aria-label={userManual ? "Manual entry enabled" : "Manual entry"}
                  title={userManual ? "Manual entry enabled" : "Manual entry"}
                  onClick={() => {
                    setUserManual((prev) => {
                      const next = !prev;
                      if (closeTimerRef.current) {
                        clearTimeout(closeTimerRef.current);
                        closeTimerRef.current = null;
                      }
                      if (next) {
                        // enabling manual entry closes dropdown
                        setUserLocOpen(false);
                      } else {
                        // disabling manual entry reopens suggestions
                        setUserLocOpen(true);
                      }
                      return next;
                    });
                  }}
                >
                  <Plus className="size-4" />
                </Button>
              </div>
            </div>

            <fieldset className="space-y-3">
              <legend className="text-sm font-medium text-foreground">Asset Status</legend>
              <div className="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3">
                <ButtonGroup
                  ariaLabel="Asset Status"
                  value={status}
                  onChange={(val) => setStatus(val as "ready_to_deploy" | "deployed" | "retired")}
                  options={[
                    { label: "Ready to Deploy", value: "ready_to_deploy", color: "ready", testId: "status-ready" },
                    { label: "Deployed", value: "deployed", color: "deployed", testId: "status-deployed" },
                    { label: "Retired", value: "retired", color: "retired", testId: "status-retired" },
                  ]}
                />
                <Button
                  type="submit"
                  className="px-6 gap-2"
                  disabled={saving}
                  aria-busy={saving}
                >
                  {saving ? (
                    <>
                      <Spinner size="sm" aria-label="Saving" />
                      <span>Saving…</span>
                    </>
                  ) : (
                    "Save"
                  )}
                </Button>
              </div>
              {saveError && (
                <span className="text-sm text-destructive">{saveError}</span>
              )}
            </fieldset>
          </div>

        </form>
      </DialogContent>
    </Dialog>
  );
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/components/asset/asset-details-table.tsx ====
BEGIN_CONTENT
"use client";

import * as React from "react";
import type { InventoryItem } from "@/types/inventory";
import { Table, TableBody, TableCell, TableRow } from "@/components/ui/table";
import { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from "@/components/ui/tooltip";
import { cn } from "@/lib/utils";

type Props = {
  item: InventoryItem;
  className?: string;
};

function CellLabel({ children }: { children: React.ReactNode }) {
  return (
    <TableCell className="w-48 text-muted-foreground whitespace-nowrap">{children}</TableCell>
  );
}

function Value({
  className,
  children,
  ...props
}: React.ComponentProps<typeof TableCell>) {
  return (
    <TableCell className={cn("whitespace-nowrap", className)} {...props}>
      {children}
    </TableCell>
  );
}

export function AssetDetailsTable({ item, className }: Props) {
  const dash = <span className="text-muted-foreground">—</span>;

  return (
    <div className={cn("rounded-md border w-full overflow-hidden", className)}>
      <Table className="w-full text-sm [&_td]:py-2 [&_td]:px-3 [&_td]:align-middle">
        <TableBody>
          <TableRow data-serial-anchor>
            <CellLabel>Serial</CellLabel>
            <Value>{item.serial || dash}</Value>
          </TableRow>
          <TableRow>
            <CellLabel>Model</CellLabel>
            <Value>{item.model || dash}</Value>
          </TableRow>
          <TableRow>
            <CellLabel>Current User/Location</CellLabel>
            <Value>{item.userLocation || dash}</Value>
          </TableRow>
          <TableRow>
            <CellLabel>Created By</CellLabel>
            <Value>{item.createdBy || dash}</Value>
          </TableRow>
          <TableRow>
            <CellLabel>Purchased By</CellLabel>
            <Value>
              <TooltipProvider delayDuration={0}>
                <Tooltip>
                  <TooltipTrigger asChild>
                    <span className="text-muted-foreground cursor-help">—</span>
                  </TooltipTrigger>
                  <TooltipContent>Not available</TooltipContent>
                </Tooltip>
              </TooltipProvider>
            </Value>
          </TableRow>
        </TableBody>
      </Table>
    </div>
  );
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/components/asset/asset-edit-overlay.tsx ====
BEGIN_CONTENT
"use client";

import * as React from "react";
import { createPortal } from "react-dom";
import type { InventoryItem } from "@/types/inventory";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import {
  DropdownMenu,
  DropdownMenuTrigger,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuLabel,
  DropdownMenuSeparator,
} from "@/components/ui/dropdown-menu";
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
import { X, Check, ChevronDown } from "lucide-react";
import {
  useModelOptions,
  useUserSearch,
  useLocations,
  type UserOption,
} from "@/hooks/use-inventory-options";

type RowStatus = "idle" | "dirty" | "success";
type RowState = {
  baseline: string;
  current: string;
  status: RowStatus;
};

type Props = {
  isOpen: boolean;
  onClose: () => void;
  item: InventoryItem | null;
  // Async updater supplied by parent; should perform PATCH /api/inventory/[asset]
  // and return the updated item and optional latest ETag.
  onUpdate?: (fields: Partial<Pick<InventoryItem, "serial" | "model" | "userLocation">>) => Promise<{
    item?: InventoryItem;
    eTag?: string;
  }>;
  // Provided by parent for positioning the popover near the details/table area.
  rightRect?: DOMRect | null;
  // Provided by parent for carving the "bright" region around the image.
  imageRect?: DOMRect | null;
  // Provided by parent for carving a second hole only around the Select/Update buttons.
  buttonsRect?: DOMRect | null;
};

/**
 * AssetEditOverlay
 * - Renders a full-page dim overlay (z-40).
 * - Does NOT render/copy the image or table. The real image/buttons remain above the overlay from the parent via z-index.
 * - Renders a popover-like panel ("Edit Menu") with three editable rows: Serial, Model, User/Location (z-60).
 * - Each row has an Update button that transitions: Disabled (idle) -> Active (dirty) -> Successful (green check, non-interactive).
 * - Closing with "X" resets any row not in Successful state back to its baseline value.
 */
export default function AssetEditOverlay({
  isOpen,
  onClose,
  item,
  onUpdate,
  rightRect,
  imageRect,
  buttonsRect,
}: Props) {
  const [mounted, setMounted] = React.useState(false);
  React.useEffect(() => {
    setMounted(true);
    return () => setMounted(false);
  }, []);

  // Row states
  const [serial, setSerial] = React.useState<RowState>({
    baseline: item?.serial ?? "",
    current: item?.serial ?? "",
    status: "idle",
  });
  const [model, setModel] = React.useState<RowState>({
    baseline: item?.model ?? "",
    current: item?.model ?? "",
    status: "idle",
  });
  const [userLoc, setUserLoc] = React.useState<RowState>({
    baseline: item?.userLocation ?? "",
    current: item?.userLocation ?? "",
    status: "idle",
  });

  // Track per-row saving flags
  const [savingSerial, setSavingSerial] = React.useState(false);
  const [savingModel, setSavingModel] = React.useState(false);
  const [savingUserLoc, setSavingUserLoc] = React.useState(false);

  // Stable asset identity key; used to avoid reinitializing on every field change
  const assetKey = item?.asset ?? null;

  // Reinitialize states whenever the overlay is opened or the asset identity changes
  React.useEffect(() => {
    if (!isOpen) return;
    setSerial({
      baseline: item?.serial ?? "",
      current: item?.serial ?? "",
      status: "idle",
    });
    setModel({
      baseline: item?.model ?? "",
      current: item?.model ?? "",
      status: "idle",
    });
    setUserLoc({
      baseline: item?.userLocation ?? "",
      current: item?.userLocation ?? "",
      status: "idle",
    });
    setSavingSerial(false);
    setSavingModel(false);
    setSavingUserLoc(false);
  }, [isOpen, assetKey]);

  // Refresh baselines on item field changes while preserving success and user input
  React.useEffect(() => {
    if (!isOpen) return;

    setSerial((s) => {
      const nextBase = item?.serial ?? "";
      if (s.status === "success") {
        // Align baseline to server while keeping success status
        return { ...s, baseline: nextBase };
      }
      const nextStatus: RowStatus = s.current === nextBase ? "idle" : "dirty";
      return { ...s, baseline: nextBase, status: nextStatus };
    });

    setModel((s) => {
      const nextBase = item?.model ?? "";
      if (s.status === "success") {
        return { ...s, baseline: nextBase };
      }
      const nextStatus: RowStatus = s.current === nextBase ? "idle" : "dirty";
      return { ...s, baseline: nextBase, status: nextStatus };
    });

    setUserLoc((s) => {
      const nextBase = item?.userLocation ?? "";
      if (s.status === "success") {
        return { ...s, baseline: nextBase };
      }
      const nextStatus: RowStatus = s.current === nextBase ? "idle" : "dirty";
      return { ...s, baseline: nextBase, status: nextStatus };
    });
  }, [isOpen, item?.serial, item?.model, item?.userLocation]);

  const closeAndReset = React.useCallback(() => {
    // Reset non-success rows to their baseline values; keep success rows as they are.
    setSerial((s) =>
      s.status === "success"
        ? s
        : { baseline: s.baseline, current: s.baseline, status: "idle" }
    );
    setModel((s) =>
      s.status === "success"
        ? s
        : { baseline: s.baseline, current: s.baseline, status: "idle" }
    );
    setUserLoc((s) =>
      s.status === "success"
        ? s
        : { baseline: s.baseline, current: s.baseline, status: "idle" }
    );
    onClose();
  }, [onClose]);

  // Lock background scroll and close on Escape while open
  React.useEffect(() => {
    if (!isOpen) return;
    const onKey = (e: KeyboardEvent) => {
      if (e.key === "Escape") closeAndReset();
    };
    const prevOverflow = document.body.style.overflow;
    document.body.style.overflow = "hidden";
    window.addEventListener("keydown", onKey);
    return () => {
      window.removeEventListener("keydown", onKey);
      document.body.style.overflow = prevOverflow;
    };
  }, [isOpen, closeAndReset]);

  // Model dropdown state + options
  const [modelOpen, setModelOpen] = React.useState(false);
  const [modelQuery, setModelQuery] = React.useState("");
  const {
    models: modelOptions,
    loading: modelOptionsLoading,
    error: modelOptionsError,
  } = useModelOptions(modelOpen, modelQuery);

  const normalizedModelSet = React.useMemo(
    () => new Set(modelOptions.map((m) => m.trim().toLowerCase())),
    [modelOptions]
  );
  const canCreateModel = React.useMemo(() => {
    const q = modelQuery.trim().toLowerCase();
    return q.length > 0 && !normalizedModelSet.has(q);
  }, [modelQuery, normalizedModelSet]);

  // User/Location dropdown state + options
  const [userLocOpen, setUserLocOpen] = React.useState(false);
  const [userQuery, setUserQuery] = React.useState("");
  const {
    users: userOptions,
    loading: usersLoading,
    error: usersError,
  } = useUserSearch(userQuery, userLocOpen);
  const {
    locations,
    loading: locationsLoading,
    error: locationsError,
  } = useLocations();

  const filteredLocations = React.useMemo(() => {
    const q = userQuery.trim().toLowerCase();
    if (!q) return locations;
    return locations.filter((l) => l.toLowerCase().includes(q));
  }, [locations, userQuery]);

  const formatUser = React.useCallback((u: UserOption) => {
    const label = u.displayName || u.userPrincipalName || u.mail || u.id;
    const sub = u.mail || u.userPrincipalName || "";
    return { label, sub };
  }, []);

  if (!isOpen || !mounted) return null;

  return createPortal(
    <>
      {/* Dim overlay that darkens the whole screen while leaving discrete “spotlight” holes
          for just the thumbnail and its buttons. */}
      <>
        {/* Transparent click-catcher to block background interactions */}
        <div className="fixed inset-0 z-40 bg-transparent pointer-events-auto" aria-hidden="true" />
        {([imageRect, buttonsRect] as (DOMRect | null | undefined)[])
          .filter(Boolean)
          .map((r, i) => {
            const rect = r as DOMRect;
            return (
              <div
                key={i}
                className="fixed z-[45] pointer-events-none rounded-md"
                style={{
                  left: Math.round(rect.left),
                  top: Math.round(rect.top),
                  width: Math.round(rect.width),
                  height: Math.round(rect.height),
                  // Create a large shadow around the rectangle to dim everything except this box.
                  boxShadow: "0 0 0 9999px rgba(0,0,0,0.6)",
                }}
                aria-hidden="true"
              />
            );
          })}
      </>

      {/* Foreground popover only; image/table remain from parent with z-indices */}
      <div className="fixed inset-0 z-50 pointer-events-none">
        <div className="relative h-full w-full">
          {/* Popover-like menu above overlay and table */}
          <div
            className="absolute pointer-events-auto z-[60]"
            style={{
              left: rightRect
                ? Math.round(rightRect.left + rightRect.width / 2 - 260)
                : Math.max(
                    16,
                    Math.round(
                      (typeof window !== "undefined" ? window.innerWidth : 0) / 2 - 260
                    )
                  ),
              top: rightRect
                ? Math.max(16, Math.round(rightRect.top))
                : Math.max(
                    16,
                    Math.round(
                      (typeof window !== "undefined" ? window.innerHeight : 0) * 0.2
                    )
                  ),
            }}
          >
            <Card className="w-[520px] max-w-[95vw] shadow-md">
              <CardHeader className="py-3">
                <div className="flex items-center justify-between">
                  <CardTitle className="text-base">Edit Menu</CardTitle>

                  {/* Close (X) button - resets non-success values and closes */}
                  <Button
                    aria-label="Close edit menu"
                    size="icon"
                    variant="ghost"
                    onClick={closeAndReset}
                  >
                    <X className="size-4" />
                  </Button>
                </div>
              </CardHeader>

              <CardContent className="space-y-3">
                {/* Serial row */}
                <div className="grid grid-cols-[120px_1fr_auto] items-center gap-2">
                  <div className="text-sm text-muted-foreground">Serial</div>
                  <Input
                    value={serial.current}
                    disabled={serial.status === "success"}
                    onChange={(e) => {
                      const v = e.target.value;
                      setSerial((s) => ({
                        ...s,
                        current: v,
                        status:
                          s.status === "success"
                            ? "success"
                            : v === s.baseline
                            ? "idle"
                            : "dirty",
                      }));
                    }}
                  />

                  {/* Update states */}
                  {serial.status !== "success" ? (
                    <Button
                      size="sm"
                      variant={serial.status === "dirty" ? "default" : "secondary"}
                      disabled={serial.status !== "dirty" || savingSerial}
                      onClick={async () => {
                        if (!onUpdate) {
                          // Fallback: mark success locally if no backend handler is provided
                          setSerial((s) => ({
                            ...s,
                            status: "success",
                            baseline: s.current,
                          }));
                          return;
                        }
                        try {
                          setSavingSerial(true);
                          await onUpdate({ serial: serial.current });
                          setSerial((s) => ({
                            ...s,
                            status: "success",
                            baseline: s.current,
                          }));
                        } catch (e) {
                          // Keep row dirty; optionally surface error UI later
                          // eslint-disable-next-line no-console
                          console.error("Serial update failed", e);
                        } finally {
                          setSavingSerial(false);
                        }
                      }}
                    >
                      {savingSerial ? "Updating..." : "Update"}
                    </Button>
                  ) : (
                    <span className="flex items-center justify-end">
                      <Check className="size-4 text-green-600" aria-label="Updated" />
                    </span>
                  )}
                </div>

                {/* Model row with dynamic options */}
                <div className="grid grid-cols-[120px_1fr_auto] items-center gap-2">
                  <div className="text-sm text-muted-foreground">Model</div>

                  <DropdownMenu
                    open={modelOpen}
                    onOpenChange={(o) => {
                      setModelOpen(o);
                      if (!o) setModelQuery("");
                    }}
                  >
                    <DropdownMenuTrigger asChild>
                      <Button
                        variant="outline"
                        className="w-full justify-between"
                        disabled={model.status === "success"}
                      >
                        <span className="truncate">
                          {model.current || "Select model"}
                        </span>
                        <ChevronDown
                          className="ml-2 size-4 opacity-60"
                          aria-hidden="true"
                        />
                      </Button>
                    </DropdownMenuTrigger>
                    <DropdownMenuContent align="start" className="w-72 p-1">
                      {/* Search input */}
                      <div className="px-1 pb-1">
                        <Input
                          autoFocus
                          placeholder="Search or create model..."
                          value={modelQuery}
                          onChange={(e) => setModelQuery(e.target.value)}
                          disabled={model.status === "success"}
                        />
                      </div>

                      <DropdownMenuLabel>Model options</DropdownMenuLabel>
                      <DropdownMenuSeparator />

                      {modelOptionsLoading && (
                        <DropdownMenuItem disabled>Loading...</DropdownMenuItem>
                      )}
                      {!modelOptionsLoading && modelOptionsError && (
                        <DropdownMenuItem disabled className="text-destructive">
                          {modelOptionsError}
                        </DropdownMenuItem>
                      )}

                      {!modelOptionsLoading &&
                        !modelOptionsError &&
                        modelOptions.map((opt) => (
                          <DropdownMenuItem
                            key={opt}
                            onClick={() => {
                              setModel((s) => {
                                const nextStatus =
                                  s.status === "success"
                                    ? "success"
                                    : opt === s.baseline
                                    ? "idle"
                                    : "dirty";
                                return { ...s, current: opt, status: nextStatus };
                              });
                              setModelOpen(false);
                            }}
                          >
                            {opt}
                          </DropdownMenuItem>
                        ))}

                      {!modelOptionsLoading &&
                        !modelOptionsError &&
                        modelOptions.length === 0 && (
                          <DropdownMenuItem disabled>No models found</DropdownMenuItem>
                        )}

                      {/* Create new value if typed and not in list */}
                      {!modelOptionsLoading && !modelOptionsError && canCreateModel && (
                        <>
                          <DropdownMenuSeparator />
                          <DropdownMenuItem
                            onClick={() => {
                              const val = modelQuery.trim();
                              setModel((s) => {
                                const nextStatus =
                                  s.status === "success"
                                    ? "success"
                                    : val === s.baseline
                                    ? "idle"
                                    : "dirty";
                                return { ...s, current: val, status: nextStatus };
                              });
                              setModelOpen(false);
                            }}
                          >
                            Create “{modelQuery.trim()}”
                          </DropdownMenuItem>
                        </>
                      )}
                    </DropdownMenuContent>
                  </DropdownMenu>

                  {model.status !== "success" ? (
                    <Button
                      size="sm"
                      variant={model.status === "dirty" ? "default" : "secondary"}
                      disabled={model.status !== "dirty" || savingModel}
                      onClick={async () => {
                        if (!onUpdate) {
                          setModel((s) => ({
                            ...s,
                            status: "success",
                            baseline: s.current,
                          }));
                          return;
                        }
                        try {
                          setSavingModel(true);
                          await onUpdate({ model: model.current });
                          setModel((s) => ({
                            ...s,
                            status: "success",
                            baseline: s.current,
                          }));
                        } catch (e) {
                          // eslint-disable-next-line no-console
                          console.error("Model update failed", e);
                        } finally {
                          setSavingModel(false);
                        }
                      }}
                    >
                      {savingModel ? "Updating..." : "Update"}
                    </Button>
                  ) : (
                    <span className="flex items-center justify-end">
                      <Check className="size-4 text-green-600" aria-label="Updated" />
                    </span>
                  )}
                </div>

                {/* User/Location row with users + locations */}
                <div className="grid grid-cols-[120px_1fr_auto] items-center gap-2">
                  <div className="text-sm text-muted-foreground">User/Location</div>

                  <DropdownMenu open={userLocOpen} onOpenChange={setUserLocOpen}>
                    <DropdownMenuTrigger asChild>
                      <Button
                        variant="outline"
                        className="w-full justify-between"
                        disabled={userLoc.status === "success"}
                      >
                        <span className="truncate">
                          {userLoc.current || "Select user or location"}
                        </span>
                        <ChevronDown
                          className="ml-2 size-4 opacity-60"
                          aria-hidden="true"
                        />
                      </Button>
                    </DropdownMenuTrigger>
                    <DropdownMenuContent align="start" className="w-80 p-1">
                      <div className="px-1 pb-1">
                        <Input
                          autoFocus
                          placeholder="Search users (min 2 chars) or filter locations..."
                          value={userQuery}
                          onChange={(e) => setUserQuery(e.target.value)}
                          disabled={userLoc.status === "success"}
                        />
                      </div>

                      {/* Users section */}
                      <DropdownMenuLabel className="text-xs text-muted-foreground">
                        Users
                      </DropdownMenuLabel>
                      <DropdownMenuSeparator />

                      {usersLoading && (
                        <DropdownMenuItem disabled>Searching...</DropdownMenuItem>
                      )}
                      {!usersLoading && usersError && (
                        <DropdownMenuItem disabled className="text-destructive">
                          {usersError}
                        </DropdownMenuItem>
                      )}
                      {!usersLoading &&
                        !usersError &&
                        userQuery.trim().length >= 2 &&
                        userOptions.length === 0 && (
                          <DropdownMenuItem disabled>No users</DropdownMenuItem>
                        )}
                      {!usersLoading &&
                        !usersError &&
                        userOptions.map((u) => {
                          const { label, sub } = formatUser(u);
                          const value =
                            label + (sub && sub !== label ? ` (${sub})` : "");
                          return (
                            <DropdownMenuItem
                              key={u.id}
                              onClick={() => {
                                setUserLoc((s) => {
                                  const nextStatus =
                                    s.status === "success"
                                      ? "success"
                                      : value === s.baseline
                                      ? "idle"
                                      : "dirty";
                                  return {
                                    ...s,
                                    current: value,
                                    status: nextStatus,
                                  };
                                });
                                setUserLocOpen(false);
                              }}
                            >
                              <div className="flex flex-col">
                                <span>{label}</span>
                                {sub && (
                                  <span className="text-xs text-muted-foreground">
                                    {sub}
                                  </span>
                                )}
                              </div>
                            </DropdownMenuItem>
                          );
                        })}

                      {/* Locations section */}
                      <DropdownMenuSeparator />
                      <DropdownMenuLabel className="text-xs text-muted-foreground">
                        Locations
                      </DropdownMenuLabel>
                      <DropdownMenuSeparator />

                      {locationsLoading && (
                        <DropdownMenuItem disabled>Loading...</DropdownMenuItem>
                      )}
                      {!locationsLoading && locationsError && (
                        <DropdownMenuItem disabled className="text-destructive">
                          {locationsError}
                        </DropdownMenuItem>
                      )}
                      {!locationsLoading &&
                        !locationsError &&
                        filteredLocations.length === 0 && (
                          <DropdownMenuItem disabled>No locations</DropdownMenuItem>
                        )}
                      {!locationsLoading &&
                        !locationsError &&
                        filteredLocations.map((opt) => (
                          <DropdownMenuItem
                            key={opt}
                            onClick={() => {
                              setUserLoc((s) => {
                                const nextStatus =
                                  s.status === "success"
                                    ? "success"
                                    : opt === s.baseline
                                    ? "idle"
                                    : "dirty";
                                return { ...s, current: opt, status: nextStatus };
                              });
                              setUserLocOpen(false);
                            }}
                          >
                            {opt}
                          </DropdownMenuItem>
                        ))}
                    </DropdownMenuContent>
                  </DropdownMenu>

                  {userLoc.status !== "success" ? (
                    <Button
                      size="sm"
                      variant={userLoc.status === "dirty" ? "default" : "secondary"}
                      disabled={userLoc.status !== "dirty" || savingUserLoc}
                      onClick={async () => {
                        if (!onUpdate) {
                          setUserLoc((s) => ({
                            ...s,
                            status: "success",
                            baseline: s.current,
                          }));
                          return;
                        }
                        try {
                          setSavingUserLoc(true);
                          await onUpdate({ userLocation: userLoc.current });
                          setUserLoc((s) => ({
                            ...s,
                            status: "success",
                            baseline: s.current,
                          }));
                        } catch (e) {
                          // eslint-disable-next-line no-console
                          console.error("User/Location update failed", e);
                        } finally {
                          setSavingUserLoc(false);
                        }
                      }}
                    >
                      {savingUserLoc ? "Updating..." : "Update"}
                    </Button>
                  ) : (
                    <span className="flex items-center justify-end">
                      <Check className="size-4 text-green-600" aria-label="Updated" />
                    </span>
                  )}
                </div>
              </CardContent>
            </Card>
          </div>
        </div>
      </div>
    </>,
    document.body
  );
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/components/asset/asset-edit-sheet.tsx ====
BEGIN_CONTENT
"use client";

import * as React from "react";
import type { InventoryItem } from "@/types/inventory";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import {
  DropdownMenu,
  DropdownMenuTrigger,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuLabel,
  DropdownMenuSeparator,
} from "@/components/ui/dropdown-menu";
import { Check, ChevronDown } from "lucide-react";
import {
  useModelOptions,
  useUserSearch,
  useLocations,
  type UserOption,
} from "@/hooks/use-inventory-options";
import {
  Sheet,
  SheetContent,
  SheetHeader,
  SheetTitle,
} from "@/components/ui/sheet";

type RowStatus = "idle" | "dirty" | "success";
type RowState = {
  baseline: string;
  current: string;
  status: RowStatus;
};

type Props = {
  open: boolean;
  onOpenChange: (open: boolean) => void;
  item: InventoryItem | null;
  onUpdate?: (fields: Partial<Pick<InventoryItem, "serial" | "model" | "userLocation">>) => Promise<{
    item?: InventoryItem;
    eTag?: string;
  }>;
};

export default function AssetEditSheet({ open, onOpenChange, item, onUpdate }: Props) {
  // Row states
  const [serial, setSerial] = React.useState<RowState>({
    baseline: item?.serial ?? "",
    current: item?.serial ?? "",
    status: "idle",
  });
  const [model, setModel] = React.useState<RowState>({
    baseline: item?.model ?? "",
    current: item?.model ?? "",
    status: "idle",
  });
  const [userLoc, setUserLoc] = React.useState<RowState>({
    baseline: item?.userLocation ?? "",
    current: item?.userLocation ?? "",
    status: "idle",
  });

  // Track per-row saving flags
  const [savingSerial, setSavingSerial] = React.useState(false);
  const [savingModel, setSavingModel] = React.useState(false);
  const [savingUserLoc, setSavingUserLoc] = React.useState(false);

  // Local image selection state to mirror previous Edit overlay behavior
  const [imageSelected, setImageSelected] = React.useState(false);

  // Stable asset identity key; used to avoid reinitializing on every field change
  const assetKey = item?.asset ?? null;

  // Reinitialize states whenever the sheet is opened or the asset identity changes
  React.useEffect(() => {
    if (!open) return;
    setSerial({
      baseline: item?.serial ?? "",
      current: item?.serial ?? "",
      status: "idle",
    });
    setModel({
      baseline: item?.model ?? "",
      current: item?.model ?? "",
      status: "idle",
    });
    setUserLoc({
      baseline: item?.userLocation ?? "",
      current: item?.userLocation ?? "",
      status: "idle",
    });
    setSavingSerial(false);
    setSavingModel(false);
    setSavingUserLoc(false);
    setImageSelected(false);
  }, [open, assetKey]);

  // Refresh baselines on item field changes while preserving success and user input
  React.useEffect(() => {
    if (!open) return;

    setSerial((s) => {
      const nextBase = item?.serial ?? "";
      if (s.status === "success") return { ...s, baseline: nextBase };
      const nextStatus: RowStatus = s.current === nextBase ? "idle" : "dirty";
      return { ...s, baseline: nextBase, status: nextStatus };
    });

    setModel((s) => {
      const nextBase = item?.model ?? "";
      if (s.status === "success") return { ...s, baseline: nextBase };
      const nextStatus: RowStatus = s.current === nextBase ? "idle" : "dirty";
      return { ...s, baseline: nextBase, status: nextStatus };
    });

    setUserLoc((s) => {
      const nextBase = item?.userLocation ?? "";
      if (s.status === "success") return { ...s, baseline: nextBase };
      const nextStatus: RowStatus = s.current === nextBase ? "idle" : "dirty";
      return { ...s, baseline: nextBase, status: nextStatus };
    });
  }, [open, item?.serial, item?.model, item?.userLocation]);

  // When closing the sheet, reset non-success rows back to their baseline values (parity with overlay)
  const handleOpenChange = React.useCallback(
    (nextOpen: boolean) => {
      if (!nextOpen && open) {
        setSerial((s) =>
          s.status === "success" ? s : { baseline: s.baseline, current: s.baseline, status: "idle" }
        );
        setModel((s) =>
          s.status === "success" ? s : { baseline: s.baseline, current: s.baseline, status: "idle" }
        );
        setUserLoc((s) =>
          s.status === "success" ? s : { baseline: s.baseline, current: s.baseline, status: "idle" }
        );
        setImageSelected(false);
      }
      onOpenChange(nextOpen);
    },
    [open, onOpenChange]
  );

  // Model dropdown state + options
  const [modelOpen, setModelOpen] = React.useState(false);
  const [modelQuery, setModelQuery] = React.useState("");
  const {
    models: modelOptions,
    loading: modelOptionsLoading,
    error: modelOptionsError,
  } = useModelOptions(modelOpen, modelQuery);

  const normalizedModelSet = React.useMemo(
    () => new Set(modelOptions.map((m) => m.trim().toLowerCase())),
    [modelOptions]
  );
  const canCreateModel = React.useMemo(() => {
    const q = modelQuery.trim().toLowerCase();
    return q.length > 0 && !normalizedModelSet.has(q);
  }, [modelQuery, normalizedModelSet]);

  // User/Location dropdown state + options
  const [userLocOpen, setUserLocOpen] = React.useState(false);
  const [userQuery, setUserQuery] = React.useState("");
  const {
    users: userOptions,
    loading: usersLoading,
    error: usersError,
  } = useUserSearch(userQuery, userLocOpen);
  const {
    locations,
    loading: locationsLoading,
    error: locationsError,
  } = useLocations();

  const filteredLocations = React.useMemo(() => {
    const q = userQuery.trim().toLowerCase();
    if (!q) return locations;
    return locations.filter((l) => l.toLowerCase().includes(q));
  }, [locations, userQuery]);

  const formatUser = React.useCallback((u: UserOption) => {
    const label = u.displayName || u.userPrincipalName || u.mail || u.id;
    const sub = u.mail || u.userPrincipalName || "";
    return { label, sub };
  }, []);

  return (
    <Sheet open={open} onOpenChange={handleOpenChange}>
      <SheetContent side="right" className="w-[520px] max-w-[95vw]">
        <SheetHeader>
          <SheetTitle className="text-base">Edit Menu</SheetTitle>
        </SheetHeader>

        <div className="space-y-4 px-4 pb-4">
          {/* Image preview + actions (moved inside the Sheet to preserve functionality while overlay is active) */}
          <div className="flex items-start gap-3">
            <div className="h-24 w-32 overflow-hidden rounded border bg-background grid place-items-center">
              {item?.assetImage ? (
                // eslint-disable-next-line @next/next/no-img-element
                <img
                  src={item.assetImage}
                  alt={item?.asset ? `Asset ${item.asset}` : "Asset image"}
                  className="h-full w-full object-contain"
                />
              ) : (
                <span className="text-xs text-muted-foreground">No image</span>
              )}
            </div>
            <div className="flex flex-col gap-2">
              <div className="text-sm text-muted-foreground">Image</div>
              <div className="flex gap-2">
                <Button
                  size="sm"
                  variant="outline"
                  onClick={() => setImageSelected(true)}
                >
                  Select
                </Button>
                <Button
                  size="sm"
                  variant={imageSelected ? "default" : "secondary"}
                  disabled={!imageSelected}
                >
                  Update
                </Button>
              </div>
            </div>
          </div>

          {/* Serial row */}
          <div className="grid grid-cols-[120px_1fr_auto] items-center gap-2">
            <div className="text-sm text-muted-foreground">Serial</div>
            <Input
              value={serial.current}
              disabled={serial.status === "success"}
              onChange={(e) => {
                const v = e.target.value;
                setSerial((s) => ({
                  ...s,
                  current: v,
                  status:
                    s.status === "success"
                      ? "success"
                      : v === s.baseline
                      ? "idle"
                      : "dirty",
                }));
              }}
            />

            {serial.status !== "success" ? (
              <Button
                size="sm"
                variant={serial.status === "dirty" ? "default" : "secondary"}
                disabled={serial.status !== "dirty" || savingSerial}
                onClick={async () => {
                  if (!onUpdate) {
                    setSerial((s) => ({
                      ...s,
                      status: "success",
                      baseline: s.current,
                    }));
                    return;
                  }
                  try {
                    setSavingSerial(true);
                    await onUpdate({ serial: serial.current });
                    setSerial((s) => ({
                      ...s,
                      status: "success",
                      baseline: s.current,
                    }));
                  } catch (e) {
                    // eslint-disable-next-line no-console
                    console.error("Serial update failed", e);
                  } finally {
                    setSavingSerial(false);
                  }
                }}
              >
                {savingSerial ? "Updating..." : "Update"}
              </Button>
            ) : (
              <span className="flex items-center justify-end">
                <Check className="size-4 text-green-600" aria-label="Updated" />
              </span>
            )}
          </div>

          {/* Model row with dynamic options */}
          <div className="grid grid-cols-[120px_1fr_auto] items-center gap-2">
            <div className="text-sm text-muted-foreground">Model</div>

            <DropdownMenu
              open={modelOpen}
              onOpenChange={(o) => {
                setModelOpen(o);
                if (!o) setModelQuery("");
              }}
            >
              <DropdownMenuTrigger asChild>
                <Button
                  variant="outline"
                  className="w-full justify-between"
                  disabled={model.status === "success"}
                >
                  <span className="truncate">
                    {model.current || "Select model"}
                  </span>
                  <ChevronDown className="ml-2 size-4 opacity-60" aria-hidden="true" />
                </Button>
              </DropdownMenuTrigger>
              <DropdownMenuContent align="start" className="w-72 p-1">
                {/* Search input */}
                <div className="px-1 pb-1">
                  <Input
                    autoFocus
                    placeholder="Search or create model..."
                    value={modelQuery}
                    onChange={(e) => setModelQuery(e.target.value)}
                    disabled={model.status === "success"}
                  />
                </div>

                <DropdownMenuLabel>Model options</DropdownMenuLabel>
                <DropdownMenuSeparator />

                {modelOptionsLoading && (
                  <DropdownMenuItem disabled>Loading...</DropdownMenuItem>
                )}
                {!modelOptionsLoading && modelOptionsError && (
                  <DropdownMenuItem disabled className="text-destructive">
                    {modelOptionsError}
                  </DropdownMenuItem>
                )}

                {!modelOptionsLoading &&
                  !modelOptionsError &&
                  modelOptions.map((opt) => (
                    <DropdownMenuItem
                      key={opt}
                      onClick={() => {
                        setModel((s) => {
                          const nextStatus =
                            s.status === "success"
                              ? "success"
                              : opt === s.baseline
                              ? "idle"
                              : "dirty";
                          return { ...s, current: opt, status: nextStatus };
                        });
                        setModelOpen(false);
                      }}
                    >
                      {opt}
                    </DropdownMenuItem>
                  ))}

                {!modelOptionsLoading &&
                  !modelOptionsError &&
                  modelOptions.length === 0 && (
                    <DropdownMenuItem disabled>No models found</DropdownMenuItem>
                  )}

                {/* Create new value if typed and not in list */}
                {!modelOptionsLoading && !modelOptionsError && canCreateModel && (
                  <>
                    <DropdownMenuSeparator />
                    <DropdownMenuItem
                      onClick={() => {
                        const val = modelQuery.trim();
                        setModel((s) => {
                          const nextStatus =
                            s.status === "success"
                              ? "success"
                              : val === s.baseline
                              ? "idle"
                              : "dirty";
                          return { ...s, current: val, status: nextStatus };
                        });
                        setModelOpen(false);
                      }}
                    >
                      Create “{modelQuery.trim()}”
                    </DropdownMenuItem>
                  </>
                )}
              </DropdownMenuContent>
            </DropdownMenu>

            {model.status !== "success" ? (
              <Button
                size="sm"
                variant={model.status === "dirty" ? "default" : "secondary"}
                disabled={model.status !== "dirty" || savingModel}
                onClick={async () => {
                  if (!onUpdate) {
                    setModel((s) => ({
                      ...s,
                      status: "success",
                      baseline: s.current,
                    }));
                    return;
                  }
                  try {
                    setSavingModel(true);
                    await onUpdate({ model: model.current });
                    setModel((s) => ({
                      ...s,
                      status: "success",
                      baseline: s.current,
                    }));
                  } catch (e) {
                    // eslint-disable-next-line no-console
                    console.error("Model update failed", e);
                  } finally {
                    setSavingModel(false);
                  }
                }}
              >
                {savingModel ? "Updating..." : "Update"}
              </Button>
            ) : (
              <span className="flex items-center justify-end">
                <Check className="size-4 text-green-600" aria-label="Updated" />
              </span>
            )}
          </div>

          {/* User/Location row with users + locations */}
          <div className="grid grid-cols-[120px_1fr_auto] items-center gap-2">
            <div className="text-sm text-muted-foreground">User/Location</div>

            <DropdownMenu open={userLocOpen} onOpenChange={setUserLocOpen}>
              <DropdownMenuTrigger asChild>
                <Button
                  variant="outline"
                  className="w-full justify-between"
                  disabled={userLoc.status === "success"}
                >
                  <span className="truncate">
                    {userLoc.current || "Select user or location"}
                  </span>
                  <ChevronDown className="ml-2 size-4 opacity-60" aria-hidden="true" />
                </Button>
              </DropdownMenuTrigger>
              <DropdownMenuContent align="start" className="w-80 p-1">
                <div className="px-1 pb-1">
                  <Input
                    autoFocus
                    placeholder="Search users (min 2 chars) or filter locations..."
                    value={userQuery}
                    onChange={(e) => setUserQuery(e.target.value)}
                    disabled={userLoc.status === "success"}
                  />
                </div>

                {/* Users section */}
                <DropdownMenuLabel className="text-xs text-muted-foreground">
                  Users
                </DropdownMenuLabel>
                <DropdownMenuSeparator />

                {usersLoading && (
                  <DropdownMenuItem disabled>Searching...</DropdownMenuItem>
                )}
                {!usersLoading && usersError && (
                  <DropdownMenuItem disabled className="text-destructive">
                    {usersError}
                  </DropdownMenuItem>
                )}
                {!usersLoading &&
                  !usersError &&
                  userQuery.trim().length >= 2 &&
                  userOptions.length === 0 && (
                    <DropdownMenuItem disabled>No users</DropdownMenuItem>
                  )}
                {!usersLoading &&
                  !usersError &&
                  userOptions.map((u) => {
                    const { label, sub } = formatUser(u);
                    const value = label + (sub && sub !== label ? ` (${sub})` : "");
                    return (
                      <DropdownMenuItem
                        key={u.id}
                        onClick={() => {
                          setUserLoc((s) => {
                            const nextStatus =
                              s.status === "success"
                                ? "success"
                                : value === s.baseline
                                ? "idle"
                                : "dirty";
                            return { ...s, current: value, status: nextStatus };
                          });
                          setUserLocOpen(false);
                        }}
                      >
                        <div className="flex flex-col">
                          <span>{label}</span>
                          {sub && (
                            <span className="text-xs text-muted-foreground">
                              {sub}
                            </span>
                          )}
                        </div>
                      </DropdownMenuItem>
                    );
                  })}

                {/* Locations section */}
                <DropdownMenuSeparator />
                <DropdownMenuLabel className="text-xs text-muted-foreground">
                  Locations
                </DropdownMenuLabel>
                <DropdownMenuSeparator />

                {locationsLoading && (
                  <DropdownMenuItem disabled>Loading...</DropdownMenuItem>
                )}
                {!locationsLoading && locationsError && (
                  <DropdownMenuItem disabled className="text-destructive">
                    {locationsError}
                  </DropdownMenuItem>
                )}
                {!locationsLoading &&
                  !locationsError &&
                  filteredLocations.length === 0 && (
                    <DropdownMenuItem disabled>No locations</DropdownMenuItem>
                  )}
                {!locationsLoading &&
                  !locationsError &&
                  filteredLocations.map((opt) => (
                    <DropdownMenuItem
                      key={opt}
                      onClick={() => {
                        setUserLoc((s) => {
                          const nextStatus =
                            s.status === "success"
                              ? "success"
                              : opt === s.baseline
                              ? "idle"
                              : "dirty";
                          return { ...s, current: opt, status: nextStatus };
                        });
                        setUserLocOpen(false);
                      }}
                    >
                      {opt}
                    </DropdownMenuItem>
                  ))}
              </DropdownMenuContent>
            </DropdownMenu>

            {userLoc.status !== "success" ? (
              <Button
                size="sm"
                variant={userLoc.status === "dirty" ? "default" : "secondary"}
                disabled={userLoc.status !== "dirty" || savingUserLoc}
                onClick={async () => {
                  if (!onUpdate) {
                    setUserLoc((s) => ({
                      ...s,
                      status: "success",
                      baseline: s.current,
                    }));
                    return;
                  }
                  try {
                    setSavingUserLoc(true);
                    await onUpdate({ userLocation: userLoc.current });
                    setUserLoc((s) => ({
                      ...s,
                      status: "success",
                      baseline: s.current,
                    }));
                  } catch (e) {
                    // eslint-disable-next-line no-console
                    console.error("User/Location update failed", e);
                  } finally {
                    setSavingUserLoc(false);
                  }
                }}
              >
                {savingUserLoc ? "Updating..." : "Update"}
              </Button>
            ) : (
              <span className="flex items-center justify-end">
                <Check className="size-4 text-green-600" aria-label="Updated" />
              </span>
            )}
          </div>
        </div>
      </SheetContent>
    </Sheet>
  );
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/components/asset/asset-history-table.tsx ====
BEGIN_CONTENT
"use client";

import * as React from "react";
import { Table, TableBody, TableCell, TableRow } from "@/components/ui/table";
import { cn } from "@/lib/utils";
import type { AssetHistoryEvent, HistoryField } from "@/types/history";

type Props = {
  events: AssetHistoryEvent[];
  pageSize?: number;
  className?: string;
};

const FIELD_LABEL: Record<HistoryField, string> = {
  asset: "Asset",
  serial: "Serial",
  model: "Model",
  userLocation: "User/Location",
  status: "Status",
  assetImage: "Image",
  notes: "Notes",
};

function formatWhen(iso?: string): string {
  if (!iso) return "";
  try {
    const d = new Date(iso);
    // Compact but readable format
    return d.toLocaleString(undefined, {
      year: "numeric",
      month: "short",
      day: "2-digit",
      hour: "2-digit",
      minute: "2-digit",
    });
  } catch {
    return iso || "";
  }
}

function LeftCellText(e: AssetHistoryEvent) {
  const label = FIELD_LABEL[e.field];
  if (e.changeType === "changed") {
    return (
      <>
        Changed {label} —{" "}
        <span className="text-muted-foreground">{e.from || "—"}</span> &rarr;{" "}
        <span className="font-medium">{e.to || "—"}</span>
      </>
    );
  }
  if (e.changeType === "added") {
    return (
      <>
        Added {label} — <span className="font-medium">{e.to || "—"}</span>
      </>
    );
  }
  // removed
  return (
    <>
      Removed {label} — <span className="text-muted-foreground">{e.from || "—"}</span>
    </>
  );
}

export function AssetHistoryTable({ events, pageSize = 5, className }: Props) {
  const [page, setPage] = React.useState(1);

  const pageCount = Math.max(1, Math.ceil((events?.length || 0) / pageSize));
  const clampedPage = Math.min(Math.max(1, page), pageCount);
  const start = (clampedPage - 1) * pageSize;
  const pageItems = events.slice(start, start + pageSize);

  const go = (p: number) => setPage(Math.min(Math.max(1, p), pageCount));

  // Basic numeric pagination with ellipsis when many pages
  const numbers = React.useMemo(() => {
    const max = pageCount;
    const current = clampedPage;
    const out: (number | string)[] = [];
    const add = (v: number | string) => out.push(v);

    if (max <= 7) {
      for (let i = 1; i <= max; i++) add(i);
      return out;
    }
    add(1);
    if (current > 3) add("…");
    const startRange = Math.max(2, current - 1);
    const endRange = Math.min(max - 1, current + 1);
    for (let i = startRange; i <= endRange; i++) add(i);
    if (current < max - 2) add("…");
    add(max);
    return out;
  }, [clampedPage, pageCount]);

  return (
    <div className={cn("rounded-md border", className)}>
      <Table className="text-sm [&_td]:py-2 [&_td]:px-3">
        <TableBody>
          {pageItems.map((e, idx) => (
            <TableRow key={`${e.at}-${e.field}-${idx}`}>
              <TableCell className="whitespace-nowrap">
                <LeftCellText {...e} />
              </TableCell>
              <TableCell className="w-64 text-right whitespace-nowrap">
                <span className="text-muted-foreground">
                  {e.by || "Unknown"} • {formatWhen(e.at)}
                </span>
              </TableCell>
            </TableRow>
          ))}
          {pageItems.length === 0 && (
            <TableRow>
              <TableCell colSpan={2} className="text-center text-muted-foreground">
                No modifications detected
              </TableCell>
            </TableRow>
          )}
        </TableBody>
      </Table>
      {/* Pagination footer */}
      {pageCount > 1 && (
        <div className="flex items-center justify-center gap-1 py-2">
          <button
            type="button"
            className="px-2 py-1 text-xs rounded hover:bg-accent disabled:opacity-50"
            onClick={() => go(clampedPage - 1)}
            disabled={clampedPage <= 1}
            aria-label="Previous page"
          >
            {"<"}
          </button>
          {numbers.map((n, i) =>
            typeof n === "number" ? (
              <button
                key={`${n}-${i}`}
                type="button"
                onClick={() => go(n)}
                aria-current={n === clampedPage ? "page" : undefined}
                className={cn(
                  "min-w-6 px-2 py-1 text-xs rounded hover:bg-accent",
                  n === clampedPage && "bg-accent text-accent-foreground"
                )}
              >
                {n}
              </button>
            ) : (
              <span key={`ellipsis-${i}`} className="px-2 py-1 text-xs text-muted-foreground">
                {n}
              </span>
            )
          )}
          <button
            type="button"
            className="px-2 py-1 text-xs rounded hover:bg-accent disabled:opacity-50"
            onClick={() => go(clampedPage + 1)}
            disabled={clampedPage >= pageCount}
            aria-label="Next page"
          >
            {">"}
          </button>
        </div>
      )}
    </div>
  );
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/components/asset/asset-view-overlay.tsx ====
BEGIN_CONTENT
"use client";

import * as React from "react";
import { Dialog, DialogContent } from "@/components/ui/dialog";
import { cn } from "@/lib/utils";
import { AssetView } from "@/components/asset/asset-view";

export type AssetViewOverlayProps = {
  open: boolean;
  onOpenChange: (open: boolean) => void;
  asset?: number | string | null;
  className?: string;
};

/**
 * Full-screen style overlay that displays the existing AssetView content.
 * Mirrors the visual treatment of the Create overlay to preserve app UX.
 */
export default function AssetViewOverlay({
  open,
  onOpenChange,
  asset,
  className,
}: AssetViewOverlayProps) {
  const assetStr = asset != null ? String(asset) : "";

  return (
    <Dialog open={open} onOpenChange={onOpenChange}>
      <DialogContent
        // Mirror Create overlay container styles for consistency
        // Add outer gutters to match page paddings: 24px (p-6) on mobile, 32px (p-8) on md+
        className={cn(
          "w-full px-9 pt-[5.2rem] pb-[5.2rem] rounded-2xl shadow-lg",
          "max-w-[75vw] md:max-w-[75vw]",
          "max-h-[calc(100%-11.71875rem)] md:max-h-[calc(100%-15.625rem)] overflow-hidden",
          className
        )}
      >
        {/* Preserve the existing AssetView layout and behavior; reduce right pane by ~25% (7 -> 5 cols) */}
        <AssetView
          asset={assetStr}
          leftCols={7}
          rightCols={5}
          fillLeft
          isOverlay
          onCloseOverlay={() => onOpenChange(false)}
        />
      </DialogContent>
    </Dialog>
  );
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/components/asset/asset-view.tsx ====
BEGIN_CONTENT
"use client";

import * as React from "react";
import { useMsal } from "@azure/msal-react";
import type { AccountInfo, AuthenticationResult } from "@azure/msal-browser";
import type { InventoryItem, InventoryStatus } from "@/types/inventory";
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
import { Button } from "@/components/ui/button";
import { Skeleton } from "@/components/ui/skeleton";
import { Tabs, TabsContent, TabsList, TabsTrigger } from "@/components/ui/tabs";
import { ButtonGroup } from "@/components/ui/button-group";
import { AssetDetailsTable } from "@/components/asset/asset-details-table";
import { AssetHistoryTable } from "@/components/asset/asset-history-table";
import type { AssetHistoryEvent } from "@/types/history";
import { cn } from "@/lib/utils";
import AssetEditSheet from "@/components/asset/asset-edit-sheet";
import { PencilSquareIcon } from "@heroicons/react/24/outline";
import UserLocationSelect from "@/components/user-location-select";
import {
  AlertDialog,
  AlertDialogTrigger,
  AlertDialogContent,
  AlertDialogHeader,
  AlertDialogTitle,
  AlertDialogDescription,
  AlertDialogFooter,
  AlertDialogCancel,
  AlertDialogAction,
} from "@/components/ui/alert-dialog";
import {
  Dialog as ModalDialog,
  DialogContent as ModalDialogContent,
  DialogHeader as ModalDialogHeader,
  DialogTitle as ModalDialogTitle,
  DialogDescription as ModalDialogDescription,
  DialogFooter as ModalDialogFooter,
} from "@/components/ui/dialog";
import { useLottieOverlay } from "@/components/lottie/overlay-provider";

const isMock =
  process.env.NEXT_PUBLIC_USE_MOCK_INVENTORY === "true" ||
  process.env.USE_MOCK_INVENTORY === "true";

const API_SCOPE =
  process.env.NEXT_PUBLIC_AZURE_API_SCOPE ||
  process.env.AZURE_API_SCOPE ||
  "";

type HeaderGettable = { headers: { get(name: string): (string | null) } };
function hasHeaderGet(o: unknown): o is HeaderGettable {
  if (typeof o !== "object" || o === null) return false;
  const r = o as { headers?: unknown };
  if (!r.headers || typeof r.headers !== "object") return false;
  const h = r.headers as { get?: unknown };
  return typeof h.get === "function";
}

type Span = 5 | 7;

type Props = {
  asset: string;
  initialTab?: "details" | "history";
  leftCols?: Span;
  rightCols?: Span;
  fillLeft?: boolean;
  isOverlay?: boolean;
  onCloseOverlay?: () => void;
};

export function AssetView({ asset, initialTab, leftCols = 5, rightCols = 7, fillLeft = false, isOverlay = false, onCloseOverlay }: Props) {
  const { instance, accounts } = useMsal();
  const [loading, setLoading] = React.useState(true);
  const [error, setError] = React.useState<string | null>(null);
  const [needsLogin, setNeedsLogin] = React.useState(false);
  const [msalReady, setMsalReady] = React.useState(false);
  const [item, setItem] = React.useState<InventoryItem | null>(null);
  const [etag, setEtag] = React.useState<string | null>(null);
  const { open: openOverlay } = useLottieOverlay();

  // Local draft for frontend-only edits from the Edit Menu
  const [draft, setDraft] = React.useState<InventoryItem | null>(null);
  const workingItem = React.useMemo(() => draft ?? item, [draft, item]);
  const hasDraftChanges = React.useMemo(() => {
    if (!item || !draft) return false;
    return (
      draft.serial !== item.serial ||
      draft.model !== item.model ||
      draft.userLocation !== item.userLocation
    );
  }, [item, draft]);
  const [saveLoading, setSaveLoading] = React.useState(false);
  const [saveError, setSaveError] = React.useState<string | null>(null);

  const [selectedStatus, setSelectedStatus] = React.useState<InventoryStatus | null>(null);
  const hasStatusChange = React.useMemo(() => {
    if (!item) return false;
    return (selectedStatus ?? item.status) !== item.status;
  }, [selectedStatus, item]);
  const hasAnyChanges = hasDraftChanges || hasStatusChange;

  // Destination for "Deployed" status
  const [deployTo, setDeployTo] = React.useState<string>("");
  const [deployDialogOpen, setDeployDialogOpen] = React.useState(false);
  const [statusBeforePrompt, setStatusBeforePrompt] = React.useState<InventoryStatus | null>(null);
  const needDeployLocation = React.useMemo(() => {
    if (!item) return false;
    return (selectedStatus ?? item.status) === "deployed" && hasStatusChange;
  }, [selectedStatus, item, hasStatusChange]);
  const deployValid = !needDeployLocation || deployTo.trim().length > 0;
  const [activeTab, setActiveTab] = React.useState<"details" | "history">(initialTab ?? "details");
  const [historyEvents, setHistoryEvents] = React.useState<AssetHistoryEvent[] | null>(null);
  const [historyLoading, setHistoryLoading] = React.useState(false);
  const [historyError, setHistoryError] = React.useState<string | null>(null);
  const [isEditOpen, setIsEditOpen] = React.useState(false);

  const activeAccount = React.useMemo<AccountInfo | null>(() => {
    return instance.getActiveAccount() || accounts[0] || null;
  }, [instance, accounts]);

  // Ensure MSAL is initialized (mirrors InventoryView)
  React.useEffect(() => {
    let cancelled = false;
    let timer: ReturnType<typeof setTimeout> | null = null;

    (async () => {
      try {
        await instance.initialize();
      } catch {
        // ignore init error here; loginRedirect will surface errors later
      } finally {
        if (!cancelled) setMsalReady(true);
      }
    })();

    timer = setTimeout(() => {
      if (!cancelled) setMsalReady(true);
    }, 2000);

    return () => {
      cancelled = true;
      if (timer) clearTimeout(timer);
    };
  }, [instance]);

  const assetNum = React.useMemo(() => {
    const v = Number.parseInt(asset, 10);
    return Number.isFinite(v) ? v : null;
  }, [asset]);

  const load = React.useCallback(async () => {
    try {
      setLoading(true);
      setError(null);

      if (assetNum == null) {
        setItem(null);
        return;
      }

      let headers: HeadersInit = {};

      if (!isMock) {
        if (!API_SCOPE) {
          throw new Error("Missing API scope. Set NEXT_PUBLIC_AZURE_API_SCOPE or AZURE_API_SCOPE.");
        }
        if (!activeAccount) {
          setNeedsLogin(true);
          return;
        }

        const acquireSilentWithTimeout = async (timeoutMs = 10000): Promise<AuthenticationResult> => {
          const p = instance.acquireTokenSilent({
            scopes: [API_SCOPE],
            account: activeAccount,
          });
          const timeout = new Promise<never>((_, reject) =>
            setTimeout(() => reject(new Error("acquireTokenSilent timeout")), timeoutMs)
          );
          return (await Promise.race([p, timeout])) as AuthenticationResult;
        };

        try {
          const result = await acquireSilentWithTimeout(10000);
          headers = { Authorization: `Bearer ${result.accessToken}` };
        } catch {
          setNeedsLogin(true);
          return;
        }
      } else {
        // In mock mode, no auth header.
      }

      const res = await fetch(`/api/inventory/${assetNum}`, { method: "GET", headers, cache: "no-store" });
      if (res.status === 404) {
        // Asset not found
        setItem(null);
        setSelectedStatus(null);
        return;
      }
      if (!res.ok) {
        const text = await res.text();
        throw new Error(`API ${res.status}: ${text}`);
      }
      const resETag = hasHeaderGet(res)
        ? res.headers.get("ETag") || res.headers.get("Etag") || res.headers.get("etag")
        : null;
      const found = (await res.json()) as InventoryItem;

      setItem(found);
      setSelectedStatus(found.status);
      setEtag(resETag);
    } catch (e) {
      setError(e instanceof Error ? e.message : "Unknown error");
    } finally {
      setLoading(false);
    }
  }, [assetNum, activeAccount, instance]);

  React.useEffect(() => {
    // Ensure MSAL ready first in live mode, otherwise attempt load immediately
    if (!isMock && !msalReady) return;
    void load();
  }, [load, msalReady]);

  React.useEffect(() => {
    if (!isMock && msalReady && !activeAccount) {
      setNeedsLogin(true);
      setLoading(false);
    }
  }, [isMock, msalReady, activeAccount]);

  // Fetch history when History tab becomes active. Avoids setState during render.
  React.useEffect(() => {
    if (activeTab !== "history") return;
    if (assetNum == null) return;
    if (historyEvents !== null || historyLoading) return;

    let cancelled = false;

    const fetchHistory = async () => {
      try {
        setHistoryLoading(true);
        setHistoryError(null);

        let headers: HeadersInit = {};
        if (!isMock) {
          if (!API_SCOPE) {
            throw new Error("Missing API scope. Set NEXT_PUBLIC_AZURE_API_SCOPE or AZURE_API_SCOPE.");
          }
          const acct = activeAccount;
          if (!acct) {
            setNeedsLogin(true);
            return;
          }

          const acquireSilentWithTimeout = async (timeoutMs = 10000): Promise<AuthenticationResult> => {
            const p = instance.acquireTokenSilent({
              scopes: [API_SCOPE],
              account: acct,
            });
            const timeout = new Promise<never>((_, reject) =>
              setTimeout(() => reject(new Error("acquireTokenSilent timeout")), timeoutMs)
            );
            return (await Promise.race([p, timeout])) as AuthenticationResult;
          };

          const res = await acquireSilentWithTimeout(10000);
          headers = { Authorization: `Bearer ${res.accessToken}` };
        }

        const res = await fetch(`/api/inventory/${assetNum}/history`, { headers, cache: "no-store" });
        if (!res.ok) {
          if (res.status === 404) {
            if (!cancelled) setHistoryEvents([]);
          } else {
            const t = await res.text();
            throw new Error(`API ${res.status}: ${t}`);
          }
        } else {
          const data = (await res.json()) as AssetHistoryEvent[];
          if (!cancelled) setHistoryEvents(Array.isArray(data) ? data : []);
        }
      } catch (e) {
        if (!cancelled) {
          setHistoryError(e instanceof Error ? e.message : "Unknown error");
          setHistoryEvents([]);
        }
      } finally {
        if (!cancelled) setHistoryLoading(false);
      }
    };

    void fetchHistory();
    return () => {
      cancelled = true;
    };
  }, [activeTab, assetNum, isMock, API_SCOPE, activeAccount, instance, historyEvents, historyLoading]);


  const handleSignIn = async () => {
    if (!API_SCOPE) {
      setError("Missing API scope. Set NEXT_PUBLIC_AZURE_API_SCOPE or AZURE_API_SCOPE.");
      return;
    }
    await instance.initialize();
    await instance.loginRedirect({ scopes: [API_SCOPE] });
  };

  // Backend updater passed to overlay to persist per-row edits
  // Frontend-only updater passed to overlay; merges delta into draft and returns the new draft
  const onUpdate = React.useCallback(
    async (delta: Partial<Pick<InventoryItem, "serial" | "model" | "userLocation">>) => {
      const base = draft ?? item;
      if (!base) {
        return { item: undefined };
      }
      const next = { ...base, ...delta };
      setDraft(next);
      return { item: next };
    },
    [draft, item]
  );

  const handleSave = React.useCallback(async () => {
    if (!item) return;
    if (assetNum == null) throw new Error("Invalid asset");
    const prevStatus = item.status as InventoryStatus;

    const delta: Partial<Pick<InventoryItem, "serial" | "model" | "userLocation" | "status">> = {};

    // Edit-sheet changes
    if (draft && draft.serial !== item.serial) delta.serial = draft.serial;
    if (draft && draft.model !== item.model) delta.model = draft.model;
    if (draft && draft.userLocation !== item.userLocation) delta.userLocation = draft.userLocation;

    // Status change
    if (selectedStatus != null && selectedStatus !== item.status) {
      delta.status = selectedStatus;
      // Business rules for User/Location based on status
      if (selectedStatus === "ready_to_deploy") {
        // Always set Inventory when status is Ready to Deploy
        delta.userLocation = "Inventory";
      } else if (selectedStatus === "deployed") {
        // Require destination; use provided deployTo
        const to = deployTo.trim();
        if (to.length > 0) {
          delta.userLocation = to;
        }
      }
    }

    if (Object.keys(delta).length === 0) {
      // Nothing to save
      return;
    }

    try {
      setSaveLoading(true);
      setSaveError(null);

      let headers: HeadersInit = { "Content-Type": "application/json" };

      if (!isMock) {
        if (!API_SCOPE) {
          throw new Error("Missing API scope. Set NEXT_PUBLIC_AZURE_API_SCOPE or AZURE_API_SCOPE.");
        }
        const acct = activeAccount;
        if (!acct) {
          setNeedsLogin(true);
          throw new Error("Not authenticated");
        }

        const acquireSilentWithTimeout = async (timeoutMs = 10000): Promise<AuthenticationResult> => {
          const p = instance.acquireTokenSilent({
            scopes: [API_SCOPE],
            account: acct,
          });
          const timeout = new Promise<never>((_, reject) =>
            setTimeout(() => reject(new Error("acquireTokenSilent timeout")), timeoutMs)
          );
          return (await Promise.race([p, timeout])) as AuthenticationResult;
        };

        const resAuth = await acquireSilentWithTimeout(10000);
        headers = { ...headers, Authorization: `Bearer ${resAuth.accessToken}` };
      }

      const body = JSON.stringify({
        fields: delta,
        ...(etag ? { etag } : {}),
      });

      const res = await fetch(`/api/inventory/${assetNum}`, {
        method: "PATCH",
        headers,
        body,
        cache: "no-store",
      });

      if (!res.ok) {
        if (res.status === 412) {
          throw new Error("ETag mismatch");
        }
        const t = await res.text();
        throw new Error(`API ${res.status}: ${t}`);
      }

      const data = (await res.json()) as { item?: InventoryItem; eTag?: string };
      const newEtag =
        res.headers.get("ETag") ||
        res.headers.get("Etag") ||
        res.headers.get("etag") ||
        data.eTag ||
        null;
      if (newEtag) setEtag(newEtag);
      if (data.item) {
        setItem(data.item);
        // Sync selected status with saved item for consistency
        setSelectedStatus((data.item.status as InventoryStatus) ?? null);
      }

      // Close Asset overlay after successful save
      if (isOverlay) {
        try {
          onCloseOverlay?.();
        } catch {
          // ignore overlay errors
        }
      }

      // Trigger Lottie overlay feedback when saving from Asset overlay and status changed
      const savedStatus = ((data.item?.status as InventoryStatus) ?? (selectedStatus as InventoryStatus) ?? prevStatus) as InventoryStatus;
      if (isOverlay && prevStatus !== savedStatus) {
        try {
          if (savedStatus === "deployed") {
            await openOverlay({ url: "/animations/checkoutanimation.json", loop: false, speed: 1.1 });
          } else if (savedStatus === "ready_to_deploy") {
            await openOverlay({ url: "/animations/checkinanimation.json", loop: false, speed: 1.1 });
          }
        } catch {
          // ignore overlay errors
        }
      }

      // Clear draft and deploy destination after successful save
      setDraft(null);
      setDeployTo("");
    } catch (e) {
      setSaveError(e instanceof Error ? e.message : "Unknown error");
      // keep draft so user can retry
    } finally {
      setSaveLoading(false);
    }
  }, [assetNum, item, draft, selectedStatus, isMock, API_SCOPE, activeAccount, instance, etag]);

  // Clear any drafts when navigating to a different asset
  React.useEffect(() => {
    setDraft(null);
  }, [assetNum]);

  // Layout pieces

  const ImageBox = () => {
    if (loading) {
      return <Skeleton className={cn(fillLeft ? "h-full w-full rounded-md" : "aspect-[4/3] w-full max-w-md rounded-md")} />;
    }
    if (!item?.assetImage) {
      return (
        <div className={cn(fillLeft ? "h-full w-full rounded-md border grid place-items-center text-muted-foreground" : "aspect-[4/3] w-full max-w-md rounded-md border grid place-items-center text-muted-foreground")}>
          <span className="text-sm">No image</span>
        </div>
      );
    }
    return (
      <div className={cn(fillLeft ? "h-full w-full overflow-hidden rounded-md border bg-background" : "aspect-[4/3] w-full max-w-md overflow-hidden rounded-md border bg-background")}>
        {/* eslint-disable-next-line @next/next/no-img-element */}
        <img
          src={item.assetImage}
          alt={`Asset ${item.asset}`}
          className="h-full w-full object-contain"
        />
      </div>
    );
  };


  if (needsLogin && !isMock) {
    return (
      <Card>
        <CardHeader>
          <CardTitle className="text-base">Authentication Required</CardTitle>
        </CardHeader>
        <CardContent className="flex items-center justify-between">
          <p className="text-sm text-muted-foreground">
            Sign in to view live inventory from SharePoint.
          </p>
          <Button size="sm" onClick={handleSignIn}>
            Sign in
          </Button>
        </CardContent>
      </Card>
    );
  }

  if (error) {
    return (
      <Card>
        <CardHeader>
          <CardTitle className="text-base">Failed to load asset</CardTitle>
        </CardHeader>
        <CardContent>
          <p className="text-sm text-destructive">{error}</p>
        </CardContent>
      </Card>
    );
  }

  // Grid layout to closely match mock: large image on the left, details/tabs on the right.
  const leftSpanClass = (typeof leftCols === "number" && leftCols === 7) ? "md:col-span-7" : "md:col-span-5";
  const rightSpanClass = (typeof rightCols === "number" && rightCols === 5) ? "md:col-span-5" : "md:col-span-7";
  const rootClass = fillLeft ? "h-full flex items-stretch" : "min-h-[70vh] flex items-center";
  const gridClass = cn(
    "grid grid-cols-1 md:grid-cols-12 gap-6 md:gap-8 max-w-5xl md:max-w-6xl mx-auto w-full",
    fillLeft && "h-full"
  );

  return (
    <div className={rootClass}>
      <div className={gridClass}>
      {/* Left: Image container */}
      <div className={`${leftSpanClass} flex ${fillLeft ? "h-full" : ""} justify-center md:justify-start`}>
        <div className={fillLeft ? "w-full h-full" : "inline-block"}>
          <ImageBox />
        </div>
      </div>

      {/* Right: Tabs, header, details, and button row */}
      <div className={`${rightSpanClass} ${fillLeft ? "h-full" : ""} flex flex-col`}>
        <Tabs
          value={activeTab}
          onValueChange={(v) => setActiveTab(v as typeof activeTab)}
          className={fillLeft ? "h-full flex flex-col" : undefined}
        >
          <div className="relative">
            {loading && (
              <div className="absolute inset-0 flex gap-2">
                <Skeleton className="h-8 w-20 rounded-md" />
                <Skeleton className="h-8 w-20 rounded-md" />
              </div>
            )}
            <TabsList className={cn(loading && "invisible")}>
              <TabsTrigger value="details">Details</TabsTrigger>
              <TabsTrigger value="history">History</TabsTrigger>
            </TabsList>
          </div>

          <TabsContent value="details" className={fillLeft ? "flex-1 flex flex-col" : undefined}>
            {/* Asset header */}
            <div className="flex items-center justify-between mt-2 mb-3">
              <h4 className="text-xl font-semibold">
                {loading ? <Skeleton className="h-6 w-40" /> : item ? `Asset ${item.asset}` : "Asset"}
              </h4>
              {loading ? (
                <Skeleton className="h-8 w-16 rounded-md" />
              ) : (
                <Button
                  size="sm"
                  variant="outline"
                  onClick={() => setIsEditOpen(true)}
                  disabled={loading || !item}
                  aria-label="Edit"
                >
                  <PencilSquareIcon className="h-4 w-4" aria-hidden="true" />
                  <span className="sr-only">Edit</span>
                </Button>
              )}
            </div>

            {/* Details table */}
            <div>
            {loading ? (
              <div className="space-y-2 rounded-md border p-3">
                {Array.from({ length: 5 }).map((_, i) => (
                  <Skeleton key={i} className="h-5 w-full" />
                ))}
              </div>
            ) : workingItem ? (
              <AssetDetailsTable item={workingItem} />
            ) : (
              <Card>
                <CardHeader>
                  <CardTitle className="text-base">Asset not found</CardTitle>
                </CardHeader>
                <CardContent>
                  <p className="text-sm text-muted-foreground">
                    The asset with number {asset} could not be found.
                  </p>
                </CardContent>
              </Card>
            )}
            </div>

            {/* Button row */}
            {loading ? (
              <div className="flex items-center justify-between mt-4">
                <div className="flex items-center gap-2">
                  <div className="inline-flex items-center gap-2">
                    <Skeleton className="h-8 w-36 rounded-full" />
                    <Skeleton className="h-8 w-28 rounded-full" />
                    <Skeleton className="h-8 w-24 rounded-full" />
                  </div>
                </div>
                <Skeleton className="h-8 w-16 rounded-md" />
              </div>
            ) : (
              <div className="flex items-center justify-between mt-4">
                <div className="flex items-center gap-2">
                  <ButtonGroup
                    ariaLabel="Asset Status"
                    value={selectedStatus ?? item?.status ?? "ready_to_deploy"}
                    onChange={(val) => {
                      const v = val as InventoryStatus;
                      const current = (selectedStatus ?? item?.status ?? "ready_to_deploy") as InventoryStatus;
                      if (v === "deployed") {
                        // Defer status change until destination is confirmed
                        setStatusBeforePrompt(current);
                        setDeployDialogOpen(true);
                      } else {
                        setSelectedStatus(v);
                        if (v === "ready_to_deploy") {
                          // Clear any destination when switching to Ready to Deploy
                          setDeployTo("");
                        }
                      }
                    }}
                    options={[
                      { label: "Ready to Deploy", value: "ready_to_deploy", color: "ready" },
                      { label: "Deployed", value: "deployed", color: "deployed" },
                      { label: "Retired", value: "retired", color: "retired" },
                    ]}
                  />
                </div>
                <AlertDialog>
                  <AlertDialogTrigger asChild>
                    <Button
                      size="sm"
                      disabled={!hasAnyChanges || saveLoading}
                      aria-disabled={!hasAnyChanges || saveLoading}
                    >
                      {saveLoading ? "Saving..." : "Save"}
                    </Button>
                  </AlertDialogTrigger>
                  <AlertDialogContent>
                    <AlertDialogHeader>
                      <AlertDialogTitle>Confirm changes</AlertDialogTitle>
                      <AlertDialogDescription>
                        Confirm to apply changes to SharePoint.
                      </AlertDialogDescription>
                    </AlertDialogHeader>
                    <AlertDialogFooter>
                      <AlertDialogCancel>Cancel</AlertDialogCancel>
                      <AlertDialogAction
                        disabled={!hasAnyChanges || saveLoading}
                        onClick={() => {
                          void handleSave();
                        }}
                      >
                        Confirm
                      </AlertDialogAction>
                    </AlertDialogFooter>
                  </AlertDialogContent>
                </AlertDialog>
              </div>
            )}
            {/* Deploy destination modal (shown when selecting Deployed) */}
            <ModalDialog
              open={deployDialogOpen}
              onOpenChange={(o) => {
                setDeployDialogOpen(o);
                if (!o && selectedStatus !== "deployed") {
                  // If closed without confirming, revert to the previously active status
                  setSelectedStatus(statusBeforePrompt ?? (item?.status as InventoryStatus) ?? "ready_to_deploy");
                  setDeployTo("");
                }
              }}
            >
              <ModalDialogContent>
                <ModalDialogHeader>
                  <ModalDialogTitle>Destination User/Location</ModalDialogTitle>
                  <ModalDialogDescription>
                    Select or enter the destination for this deployed asset.
                  </ModalDialogDescription>
                </ModalDialogHeader>
                <div className="mt-2">
                  <UserLocationSelect
                    id="deploy-destination-inline"
                    value={deployTo}
                    onChange={setDeployTo}
                    placeholder="Select or Enter User/Location"
                    showManualButton={false}
                    className="min-w-0"
                  />
                  {deployTo.trim().length === 0 && (
                    <div className="mt-2 text-sm text-destructive">
                      Destination is required when setting status to Deployed.
                    </div>
                  )}
                </div>
                <ModalDialogFooter>
                  <Button
                    variant="outline"
                    onClick={() => {
                      setDeployDialogOpen(false);
                    }}
                  >
                    Close
                  </Button>
                  <Button
                    onClick={() => {
                      if (deployTo.trim().length > 0) {
                        // Commit status change to Deployed only after destination confirmed
                        setSelectedStatus("deployed");
                        setDeployDialogOpen(false);
                      }
                    }}
                    disabled={deployTo.trim().length === 0}
                  >
                    Done
                  </Button>
                </ModalDialogFooter>
              </ModalDialogContent>
            </ModalDialog>
          </TabsContent>

          <TabsContent value="history" forceMount className={fillLeft ? "flex-1 flex flex-col" : undefined}>
            {loading ? (
              <div className="space-y-2 rounded-md border p-3">
                {Array.from({ length: 5 }).map((_, i) => (
                  <Skeleton key={i} className="h-5 w-full" />
                ))}
              </div>
            ) : historyLoading ? (
              <div className="space-y-2 rounded-md border p-3">
                {Array.from({ length: 5 }).map((_, i) => (
                  <Skeleton key={i} className="h-5 w-full" />
                ))}
              </div>
            ) : historyError ? (
              <div className="rounded-md border p-3 text-sm text-destructive">
                {historyError}
              </div>
            ) : (
              <AssetHistoryTable events={historyEvents || []} className="mt-0" />
            )}
          </TabsContent>
        </Tabs>
      </div>
    </div>

    <AssetEditSheet
      open={isEditOpen}
      onOpenChange={setIsEditOpen}
      item={workingItem}
      onUpdate={onUpdate}
    />
  </div>
  );
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/components/checkinout/checkinout-fallback-toggle.tsx ====
BEGIN_CONTENT
"use client";

import * as React from "react";
import { cn } from "@/lib/utils";

type Props = {
  className?: string;
  style?: React.CSSProperties;
  initialIsCheckout?: boolean; // default true
  onModeChange?: (isCheckout: boolean) => void;
};

/**
 * Failsafe segmented toggle shown only if Lottie toggle is unavailable.
 * - Left: "Check In" (sky-500)
 * - Right: "Check Out" (emerald-600)
 * - Matches Lottie container footprint (120x120) and behavior: default to Check Out, emit only on user interaction.
 */
export default function CheckInOutFallbackToggle({
  className,
  style,
  initialIsCheckout = true,
  onModeChange,
}: Props) {
  const [isCheckout, setIsCheckout] = React.useState<boolean>(initialIsCheckout);

  const setMode = React.useCallback(
    (next: boolean) => {
      setIsCheckout(next);
      onModeChange?.(next);
    },
    [onModeChange]
  );

  // Keyboard support: Left selects Check In, Right selects Check Out, Space/Enter handled by button by default
  const onKeyDown: React.KeyboardEventHandler<HTMLDivElement> = (e) => {
    if (e.key === "ArrowLeft") {
      e.preventDefault();
      setMode(false);
    } else if (e.key === "ArrowRight") {
      e.preventDefault();
      setMode(true);
    }
  };

  return (
    <div
      role="group"
      aria-label="Check In/Out mode toggle"
      tabIndex={0}
      onKeyDown={onKeyDown}
      className={cn(
        "rounded-md border bg-background/40 flex items-center justify-center",
        "transition-transform select-none opacity-100 scale-[1.15] origin-top",
        className
      )}
      style={style}
    >
      <div className="w-[120px]">
        <div
          className={cn(
            "w-full h-10 rounded-full border overflow-hidden grid grid-cols-2",
            "bg-background"
          )}
        >
          {/* Left: Check In (sky-500) */}
          <button
            type="button"
            aria-pressed={!isCheckout}
            aria-label="Set mode: Check In"
            className={cn(
              "text-sm font-medium px-3 flex items-center justify-center transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",
              !isCheckout
                ? "bg-sky-600 text-white"
                : "bg-transparent text-foreground hover:bg-accent",
              "border-r"
            )}
            onClick={() => setMode(false)}
          >
            Check In
          </button>

          {/* Right: Check Out (emerald-600) */}
          <button
            type="button"
            aria-pressed={isCheckout}
            aria-label="Set mode: Check Out"
            className={cn(
              "text-sm font-medium px-3 flex items-center justify-center transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",
              isCheckout
                ? "bg-emerald-600 text-white"
                : "bg-transparent text-foreground hover:bg-accent"
            )}
            onClick={() => setMode(true)}
          >
            Check Out
          </button>
        </div>
      </div>
    </div>
  );
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/components/checkinout/checkinout-lottie-toggle.tsx ====
BEGIN_CONTENT
"use client";

/**
 * CheckInOutLottieToggle
 * - Standalone, click-to-play Lottie control to sit between the Stage card and Finalize card.
 * - Does NOT use the overlay lottie system.
 *
 * Behavior:
 * - On initial load, shows checkouttocheckin at ~1% poster (paused).
 * - 1st click: plays checkout -> checkin to 100%, then holds last frame.
 * - 2nd click: plays checkin -> checkout to 100%, then holds last frame.
 * - Subsequent clicks: always play the opposite of the currently postered animation and stop at 100%.
 * - While an animation is playing, clicks are ignored.
 */

import * as React from "react";
import LottiePlayer, { LottiePlayerRef } from "@/components/lottie/lottie-player";
import { Tooltip, TooltipTrigger, TooltipContent } from "@/components/ui/tooltip";

type Dir = "c2i" | "i2c";

const PATHS: Record<Dir, string> = {
  c2i: "/animations/checkouttocheckin.json",
  i2c: "/animations/checkintocheckout.json",
};

const isCheckoutFromPoster = (dir: Dir | null): boolean => (dir === "i2c" ? true : false);

export default function CheckInOutLottieToggle({
  className,
  onModeChange,
  style,
  onUnavailableChange,
}: {
  className?: string;
  onModeChange?: (isCheckout: boolean) => void;
  style?: React.CSSProperties;
  onUnavailableChange?: (unavailable: boolean) => void;
}) {
  const ref = React.useRef<LottiePlayerRef>(null);

  // Cached animation JSON
  const [dataC2I, setDataC2I] = React.useState<object | null>(null);
  const [dataI2C, setDataI2C] = React.useState<object | null>(null);

  // Currently bound animation data for the Lottie component
  const [data, setData] = React.useState<object | null>(null);

  // Force remount when swapping animation data to ensure clean event hooks
  const [mountKey, setMountKey] = React.useState(0);

  // Playback/flow state
  const [isPlaying, setIsPlaying] = React.useState(false);
  const [clicks, setClicks] = React.useState(0);
  const [posterAnim, setPosterAnim] = React.useState<Dir | null>(null); // which animation's last frame is currently shown
  const [playing, setPlaying] = React.useState<Dir | null>(null);

  // Ensure initial onModeChange(true) fires only once after initial poster
  const initialModeEmitted = React.useRef(false);

  // Load both animations and set initial poster (1% of c2i)
  React.useEffect(() => {
    let cancelled = false;
    (async () => {
      try {
        const [a, b] = await Promise.all([
          fetch(PATHS.c2i, { cache: "no-store" }).then((r) => r.json()).catch(() => null),
          fetch(PATHS.i2c, { cache: "no-store" }).then((r) => r.json()).catch(() => null),
        ]);
        if (cancelled) return;
        setDataC2I(a);
        setDataI2C(b);
        if (!a || !b) {
          onUnavailableChange?.(true);
          return;
        }
        onUnavailableChange?.(false);
        // Initial: show c2i at ~1% poster
        setData(a);
        setMountKey((k) => k + 1);
      } catch {
        if (!cancelled) onUnavailableChange?.(true);
      }
    })();
    return () => {
      cancelled = true;
    };
  }, [onUnavailableChange]);

  // After initial mount of the Lottie with c2i data, set poster at ~1% (safeguard for short animations)
  React.useEffect(() => {
    if (!data || clicks > 0) return;

    let cancelled = false;
    let rafId: number | null = null;
    let attempts = 0;

    const apply = () => {
      if (cancelled) return;
      const inst = ref.current;
      if (inst) {
        const totalFrames = Math.floor(inst.getDuration(true) ?? 0);
        const atLeast = 1;
        const pctFrame = Math.max(atLeast, Math.floor(totalFrames * 0.01) || atLeast);
        inst.goToAndStop(pctFrame, true);
        // Reflect initial poster as c2i (Check Out)
        setPosterAnim("c2i");
        if (!initialModeEmitted.current) {
          initialModeEmitted.current = true;
          onModeChange?.(false);
        }
      } else if (attempts++ < 5) {
        rafId = requestAnimationFrame(apply);
      }
    };

    // Try immediately first (covers tests that only wait a single tick)
    apply();

    return () => {
      cancelled = true;
      if (rafId != null) cancelAnimationFrame(rafId);
    };
  }, [data, clicks, onModeChange]);

  const play = React.useCallback(
    (which: Dir) => {
      if (isPlaying) return;
      const next = which === "c2i" ? dataC2I : dataI2C;
      if (!next) return; // nothing to play
      setIsPlaying(true);
      setPlaying(which);
      setData(next);
      setMountKey((k) => k + 1);
      // Play from start on next frame
      requestAnimationFrame(() => ref.current?.goToAndPlay(0, true));
    },
    [isPlaying, dataC2I, dataI2C]
  );

  const onComplete = React.useCallback(() => {
    const inst = ref.current;
    if (inst) {
      const last = Math.max(0, Math.floor(inst.getDuration(true) ?? 1) - 1);
      inst.goToAndStop(last, true); // Ensure poster at 100%
    }
    if (playing) {
      setPosterAnim(playing);
      onModeChange?.(playing === "i2c");
    }
    setPlaying(null);
    setIsPlaying(false);
    setClicks((c) => c + 1);
  }, [playing, onModeChange]);

  const handleActivate = React.useCallback(() => {
    if (isPlaying) return;
    if (clicks === 0) return play("c2i");
    if (clicks === 1) return play("i2c");
    return play(posterAnim === "c2i" ? "i2c" : "c2i");
  }, [isPlaying, clicks, posterAnim, play]);

  return (
    <Tooltip delayDuration={500}>
      <TooltipTrigger asChild>
        <div
          role="button"
          tabIndex={0}
          aria-disabled={isPlaying}
          aria-pressed={isCheckoutFromPoster(posterAnim)}
          onClick={handleActivate}
          onKeyDown={(e) => {
            if (e.key === "Enter" || e.key === " ") {
              e.preventDefault();
              handleActivate();
            }
          }}
          style={style}
          className={[
            "rounded-md border bg-background/40 flex items-center justify-center",
            "transition-transform select-none opacity-100 scale-[1.15] origin-top",
            "cursor-pointer",
            className ?? "",
          ].join(" ")}
        >
          {data ? (
            <LottiePlayer
              key={mountKey}
              ref={ref}
              animationData={data}
              loop={false}
              autoplay={false}
              onComplete={onComplete}
              className="h-[120px] w-[120px]"
              ariaLabel="Check in/out toggle animation"
            />
          ) : (
            <div className="h-[120px] w-[120px] flex items-center justify-center text-muted-foreground text-sm">
              Animation unavailable
            </div>
          )}
        </div>
      </TooltipTrigger>
      <TooltipContent side="top" sideOffset={6}>
        Toggle Check In/Out Mode
      </TooltipContent>
    </Tooltip>
  );
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/components/checkinout/checkinout-tabs.tsx ====
BEGIN_CONTENT
"use client";

import * as React from "react";
import { Tabs, TabsList, TabsTrigger } from "@/components/ui/tabs";
import { cn } from "@/lib/utils";

type Props = {
  isCheckout: boolean;
  onChange: (next: boolean) => void;
  className?: string;
};

export default function CheckInOutTabs({ isCheckout, onChange, className }: Props) {
  return (
    <Tabs
      value={isCheckout ? "out" : "in"}
      onValueChange={(v) => onChange(v === "out")}
      className={className}
    >
      <TabsList className={cn("rounded-full p-1 bg-muted")}>
        <TabsTrigger
          value="in"
          className={cn(
            "relative rounded-full px-3 py-1.5 text-sm font-medium outline-none",
            "transition-all duration-200 ease-out",
            "hover:bg-accent/80 hover:shadow-sm hover:ring-1 hover:ring-sky-300/40",
            "focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-sky-400",
            "data-[state=inactive]:text-foreground data-[state=inactive]:opacity-100"
          )}
          style={!isCheckout ? { backgroundColor: "rgba(0,166,244,0.3)", color: "#00A6F4" } : undefined}
        >
          Check In
        </TabsTrigger>
        <TabsTrigger
          value="out"
          className={cn(
            "relative rounded-full px-3 py-1.5 text-sm font-medium outline-none",
            "transition-all duration-200 ease-out",
            "hover:bg-accent/80 hover:shadow-sm hover:ring-1 hover:ring-emerald-300/40",
            "focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-emerald-400",
            "data-[state=inactive]:text-foreground data-[state=inactive]:opacity-100"
          )}
          style={isCheckout ? { backgroundColor: "rgba(0,188,125,0.3)", color: "#00BC7D" } : undefined}
        >
          Check Out
        </TabsTrigger>
      </TabsList>
    </Tabs>
  );
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/components/checkinout/finalize-card.tsx ====
BEGIN_CONTENT
"use client";

import * as React from "react";
import { Card, CardContent } from "@/components/ui/card";
import { Button } from "@/components/ui/button";
import { Boxes } from "lucide-react";
import { cn } from "@/lib/utils";

type Props = {
  inCount?: number;
  outCount?: number;
  className?: string;
  onFinalize?: () => void;
  variant?: "sidebar" | "inline";
};

/**
 * Finalize side card (icons + counts + button).
 * - Icons are decorative (no function).
 * - Button labeled "Finalize" (function pending).
 */
export default function FinalizeCard({ inCount = 0, outCount = 0, className, onFinalize, variant = "sidebar" }: Props) {
  if (variant === "inline") {
    return (
      <div className={cn("w-full", className)}>
        <div className="flex items-center justify-center gap-6">
          <span className={cn("text-4xl font-semibold tabular-nums", inCount > 0 ? "text-sky-500" : "text-black")}>{inCount}</span>
          <Boxes className="size-14" aria-hidden="true" />
          <span className={cn("text-4xl font-semibold tabular-nums", outCount > 0 ? "text-emerald-600" : "text-black")}>{outCount}</span>
        </div>

        <div className="h-[1.5625rem]" />

        <Button type="button" className="w-full" disabled={inCount === 0 && outCount === 0} onClick={onFinalize}>Finalize</Button>
      </div>
    );
  }

  return (
    <Card className={cn("rounded-2xl shadow-md", className)}>
      <CardContent className="p-6">
        <div className="flex items-center justify-center gap-6">
          <span className={cn("text-4xl font-semibold tabular-nums", inCount > 0 ? "text-sky-500" : "text-black")}>{inCount}</span>
          <Boxes className="size-14" aria-hidden="true" />
          <span className={cn("text-4xl font-semibold tabular-nums", outCount > 0 ? "text-emerald-600" : "text-black")}>{outCount}</span>
        </div>

        <div className="h-[1.5625rem]" />

        <Button type="button" className="w-full" disabled={inCount === 0 && outCount === 0} onClick={onFinalize}>Finalize</Button>
      </CardContent>
    </Card>
  );
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/components/checkinout/finalize-drawer.tsx ====
BEGIN_CONTENT
"use client";

import * as React from "react";
import type { InventoryItem } from "@/types/inventory";
import { Sheet, SheetContent } from "@/components/ui/sheet";
import { Button } from "@/components/ui/button";
import { Spinner } from "@/components/ui/spinner";
import { Table, TableBody, TableCell, TableRow } from "@/components/ui/table";
import { ScrollArea } from "@/components/ui/scroll-area";
import { ArrowLeftFromLine, ArrowRightFromLine, Trash2 } from "lucide-react";
import { cn } from "@/lib/utils";

type InRow = Pick<InventoryItem, "asset" | "serial" | "model">;
type OutRow = Pick<InventoryItem, "asset" | "serial" | "model"> & { from: string; to: string };

type Props = {
  open: boolean;
  onOpenChange: (open: boolean) => void;
  stagedIn: InRow[];
  stagedOut: OutRow[];
  onRemove: (kind: "in" | "out", asset: number) => void;
  onSubmit: () => Promise<void> | void;
  submitting: boolean;
  submitError?: string;
};

export default function FinalizeDrawer({ open, onOpenChange, stagedIn, stagedOut, onRemove, onSubmit, submitting, submitError }: Props) {
  // Build rows to display (order is not critical for the mock; show In then Out)
  type RowEntry = { kind: "in"; row: InRow } | { kind: "out"; row: OutRow };

  const rows = React.useMemo<RowEntry[]>(
    () => [
      ...stagedIn.map((r) => ({ kind: "in" as const, row: r })),
      ...stagedOut.map((r) => ({ kind: "out" as const, row: r })),
    ],
    [stagedIn, stagedOut]
  );

  return (
    <Sheet open={open} onOpenChange={onOpenChange}>
      {/* Transparent to render our own rounded panel that "hugs" content */}
      <SheetContent
        side="bottom"
        className="bg-transparent border-none inset-x-0 p-6 pb-8 sm:pb-10"
        aria-label="Finalize staged items"
      >
        <div className="mx-auto w-full sm:max-w-[740px] h-[75vh] min-h-0 overflow-hidden rounded-2xl bg-background shadow-xl p-6 flex flex-col">
          {/* Handle bar */}
          <div className="mx-auto mb-4 h-1.5 w-20 rounded-full bg-muted-foreground/30" />

          {/* Scrollable table area (grows up to 75vh, then scrolls) */}
          <div className="flex-1 min-h-0">
            <ScrollArea className="h-full pr-2">
              <div className="rounded-md border overflow-hidden">
              <Table className="text-sm [&_td]:py-1.5 [&_td]:px-2 [&_td]:align-middle">
                <TableBody>
                  {rows.length === 0 ? (
                    <TableRow className="font-semibold">
                      <TableCell className="py-1.5 text-center text-muted-foreground" colSpan={4}>
                        No items staged
                      </TableCell>
                    </TableRow>
                  ) : (
                    rows.map((entry) => {
                      const { kind } = entry;
                      const isIn = kind === "in";
                      const AccentColor = isIn ? "bg-sky-500" : "bg-emerald-600";

                      // Content replacements with real staged data:
                      // - In: left shows asset number, right shows "Inventory"
                      // - Out: left shows "{asset} — {from}", right shows "{to}"
                      return (
                        <TableRow key={`${entry.kind}-${entry.row.asset}`} className="hover:bg-transparent font-semibold">
                          <TableCell className="w-1/2 pl-3">
                            <div className="relative">
                              <span
                                aria-hidden="true"
                                className={cn("absolute left-0 top-0 bottom-0 w-[0.29rem]", AccentColor)}
                              />
                              <span aria-hidden="true" className="inline-block w-10" />
                              {entry.kind === "in" ? (
                                <span className="tabular-nums">{entry.row.asset}</span>
                              ) : (
                                <span title={entry.row.from}>
                                  <span className="tabular-nums">{entry.row.asset}</span>
                                  <span className="text-muted-foreground"> — {entry.row.from}</span>
                                </span>
                              )}
                            </div>
                          </TableCell>

                          <TableCell className="w-20 text-center">
                            {isIn ? (
                              <ArrowLeftFromLine className="mx-auto size-5 text-foreground/90" aria-hidden="true" />
                            ) : (
                              <ArrowRightFromLine className="mx-auto size-5 text-foreground/90" aria-hidden="true" />
                            )}
                          </TableCell>

                          <TableCell className="w-1/2 pr-3 text-right">
                            {entry.kind === "in" ? (
                              <span>Inventory</span>
                            ) : (
                              <span title={entry.row.to}>{entry.row.to}</span>
                            )}
                          </TableCell>
                          <TableCell className="w-10 pr-3 text-right">
                            <button
                              type="button"
                              aria-label={`Remove staged ${entry.kind === "in" ? "Check In" : "Check Out"} for asset ${entry.row.asset}`}
                              className="inline-flex size-8 items-center justify-center rounded-md hover:bg-accent focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"
                              onClick={() => onRemove(entry.kind, entry.row.asset)}
                            >
                              <Trash2 className="size-4 text-muted-foreground" aria-hidden="true" />
                            </button>
                          </TableCell>
                        </TableRow>
                      );
                    })
                  )}
                </TableBody>
              </Table>
              </div>
            </ScrollArea>
          </div>

          {/* Buttons */}
          <div className="mt-6 space-y-3">
            <Button
              type="button"
              className="w-full h-9 bg-black text-white hover:bg-black/90 gap-2"
              onClick={onSubmit}
              disabled={submitting || (stagedIn.length + stagedOut.length === 0)}
              aria-busy={submitting}
            >
              {submitting ? (
                <>
                  <Spinner size="sm" aria-label="Submitting" />
                  <span>Submitting…</span>
                </>
              ) : (
                "Submit"
              )}
            </Button>
            <Button
              type="button"
              variant="outline"
              className="w-full h-9"
              onClick={() => onOpenChange(false)}
            >
              Cancel
            </Button>
            {submitError && (
              <div role="alert" aria-live="polite" className="text-sm text-destructive">
                {submitError}
              </div>
            )}
          </div>
        </div>
      </SheetContent>
    </Sheet>
  );
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/components/checkinout/finalize-panel-card.tsx ====
BEGIN_CONTENT
"use client";

import * as React from "react";
import type { InventoryItem } from "@/types/inventory";
import { Card, CardContent } from "@/components/ui/card";
import { Button } from "@/components/ui/button";
import { Spinner } from "@/components/ui/spinner";
import { Table, TableBody, TableCell, TableRow } from "@/components/ui/table";
import { ScrollArea } from "@/components/ui/scroll-area";
import { Trash2 } from "lucide-react";
import { cn } from "@/lib/utils";

type InRow = Pick<InventoryItem, "asset" | "serial" | "model">;
type OutRow = Pick<InventoryItem, "asset" | "serial" | "model"> & { from: string; to: string };

type Props = {
  stagedIn: InRow[];
  stagedOut: OutRow[];
  onRemove: (kind: "in" | "out", asset: number) => void;
  onSubmit: () => Promise<void> | void;
  submitting: boolean;
  submitError?: string;
  onCancel?: () => void;
  className?: string;
  style?: React.CSSProperties;
};

/**
 * Finalize panel card (side-by-side with Stage card).
 * Visual replacement for the Finalize drawer; carries the same functionality.
 */
export default function FinalizePanelCard({
  stagedIn,
  stagedOut,
  onRemove,
  onSubmit,
  submitting,
  submitError,
  onCancel,
  className,
  style,
}: Props) {
  type RowEntry = { kind: "in"; row: InRow } | { kind: "out"; row: OutRow };

  const rows = React.useMemo<RowEntry[]>(
    () => [
      ...stagedIn.map((r) => ({ kind: "in" as const, row: r })),
      ...stagedOut.map((r) => ({ kind: "out" as const, row: r })),
    ],
    [stagedIn, stagedOut]
  );

  const totalCount = stagedIn.length + stagedOut.length;

  return (
    <Card className={cn("h-full min-h-0 py-0", className)} style={style}>
      <CardContent className="px-12 pt-5 pb-4 h-full flex flex-col">
        {/* Scrollable table area */}
        <div className="flex-1 min-h-0">
          <ScrollArea className="h-full pr-2">
            <div className="rounded-md border overflow-hidden">
              <Table className="text-sm [&_td]:py-1.5 [&_td]:px-2 [&_td]:align-middle">
                <TableBody>
                  {rows.length === 0 ? (
                    <TableRow className="font-semibold">
                      <TableCell className="py-1.5 text-center text-muted-foreground" colSpan={4}>
                        No items staged
                      </TableCell>
                    </TableRow>
                  ) : (
                    rows.map((entry) => {
                      const isIn = entry.kind === "in";
                      const bandBg = isIn ? "bg-sky-500" : "bg-emerald-600";

                      return (
                        <TableRow key={`${entry.kind}-${entry.row.asset}`} className="hover:bg-transparent font-semibold">
                          <TableCell className="w-1/2 pl-3">
                            <div className="relative">
                              <span
                                aria-hidden="true"
                                className={cn("absolute left-0 top-0 bottom-0 w-[0.29rem]", bandBg)}
                              />
                              <span aria-hidden="true" className="inline-block w-10" />
                              {isIn ? (
                                <span className="tabular-nums">{entry.row.asset}</span>
                              ) : (
                                <span title={entry.row.from}>
                                  <span className="tabular-nums">{entry.row.asset}</span>
                                  <span className="text-muted-foreground"> — {entry.row.from}</span>
                                </span>
                              )}
                            </div>
                          </TableCell>

                          <TableCell className="w-20 text-center">
                            <span className="text-foreground/90 text-sm">
                              {isIn ? "Check In" : "Check Out"}
                            </span>
                          </TableCell>

                          <TableCell className="w-1/2 pr-3 text-right">
                            {isIn ? (
                              <span>Inventory</span>
                            ) : (
                              <span title={entry.row.to}>{entry.row.to}</span>
                            )}
                          </TableCell>
                          <TableCell className="w-10 pr-3 text-right">
                            <button
                              type="button"
                              aria-label={`Remove staged ${isIn ? "Check In" : "Check Out"} for asset ${entry.row.asset}`}
                              className="inline-flex size-8 items-center justify-center rounded-md hover:bg-accent focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"
                              onClick={() => onRemove(entry.kind, entry.row.asset)}
                            >
                              <Trash2 className="size-4 text-muted-foreground" aria-hidden="true" />
                              <span className="sr-only">Remove</span>
                            </button>
                          </TableCell>
                        </TableRow>
                      );
                    })
                  )}
                </TableBody>
              </Table>
            </div>
          </ScrollArea>
        </div>

        {/* Buttons */}
        <div className="mt-auto pt-6">
          <Button
            type="button"
            className="w-full h-9 bg-black text-white hover:bg-black/90 gap-2"
            onClick={onSubmit}
            disabled={submitting || totalCount === 0}
            aria-busy={submitting}
          >
            {submitting ? (
              <>
                <Spinner size="sm" aria-label="Submitting" />
                <span>Submitting…</span>
              </>
            ) : (
              "Submit"
            )}
          </Button>
          {submitError && (
            <div role="alert" aria-live="polite" className="mt-3 text-sm text-destructive">
              {submitError}
            </div>
          )}
        </div>
      </CardContent>
    </Card>
  );
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/components/data-table/columns.tsx ====
BEGIN_CONTENT
"use client";

import * as React from "react";
import { ColumnDef, Column } from "@tanstack/react-table";
import { InventoryItem } from "@/types/inventory";
import { Badge } from "@/components/ui/badge";
import { ArrowUpDown, ArrowUp, ArrowDown } from "lucide-react";
import Link from "next/link";

function SortableHeader<TData, TValue>({ column, children }: { column: Column<TData, TValue>; children: React.ReactNode }) {
  const isSorted = column.getIsSorted() as "asc" | "desc" | false;
  const ariaSort = isSorted === "asc" ? "ascending" : isSorted === "desc" ? "descending" : "none";

  return (
    <button
      type="button"
      onClick={() => column.toggleSorting(isSorted === "asc")}
      aria-sort={ariaSort}
      className={[
        "group flex w-full items-center justify-start gap-2 rounded-sm px-2 py-1 text-sm transition-colors",
        "cursor-pointer hover:bg-accent hover:text-accent-foreground",
        isSorted ? "font-semibold text-foreground" : "text-muted-foreground",
      ].join(" ")}
    >
      <span className="truncate">{children}</span>
      {isSorted === "asc" ? (
        <ArrowUp className="size-4 shrink-0 opacity-100" />
      ) : isSorted === "desc" ? (
        <ArrowDown className="size-4 shrink-0 opacity-100" />
      ) : (
        <ArrowUpDown className="size-4 shrink-0 opacity-60 group-hover:opacity-100" />
      )}
    </button>
  );
}

export const inventoryColumns: ColumnDef<InventoryItem>[] = [
  {
    id: "asset",
    accessorKey: "asset",
    header: ({ column }) => (
      <SortableHeader column={column}>Asset</SortableHeader>
    ),
    cell: ({ row }) => {
      const asset = row.original.asset;
      if (!asset) return <span className="font-mono text-xs">—</span>;
      return (
        <Link
          href={`/asset/${asset}`}
          className="font-mono text-xs no-underline underline-offset-2 hover:underline focus:underline focus:outline-none focus:ring-2 focus:ring-ring rounded-sm"
          aria-label={`View Asset ${asset}`}
        >
          {asset}
        </Link>
      );
    },
  },
  {
    id: "model",
    accessorKey: "model",
    header: ({ column }) => (
      <SortableHeader column={column}>Model</SortableHeader>
    ),
    cell: ({ row }) => <span className="font-medium">{row.original.model}</span>,
  },
  {
    id: "serial",
    accessorKey: "serial",
    header: ({ column }) => (
      <SortableHeader column={column}>Serial</SortableHeader>
    ),
    cell: ({ row }) => <span className="font-mono text-xs">{row.original.serial}</span>,
  },
  {
    id: "userLocation",
    accessorKey: "userLocation",
    header: ({ column }) => (
      <SortableHeader column={column}>User/Location</SortableHeader>
    ),
    cell: ({ row }) => <span className="text-muted-foreground">{row.original.userLocation}</span>,
  },
  {
    id: "status",
    accessorKey: "status",
    header: "Status",
    cell: ({ row }) => {
      const st = row.original.status;
      const variant =
        st === "deployed" ? "checkout" : st === "ready_to_deploy" ? "checkin" : "destructive";
      const label =
        st === "deployed" ? "Deployed" : st === "ready_to_deploy" ? "Ready to Deploy" : "Retired";
      return <Badge variant={variant as "checkin" | "checkout" | "destructive"}>{label}</Badge>;
    },
  },
  {
    id: "modified",
    accessorKey: "modified",
    header: ({ column }) => (
      <SortableHeader column={column}>Modified</SortableHeader>
    ),
    cell: ({ row }) => <span>{row.original.modified}</span>,
  },
];

export const deployedCardColumns: ColumnDef<InventoryItem>[] = [
  {
    id: "asset",
    accessorKey: "asset",
    header: "Asset",
    cell: ({ row }) => {
      const asset = row.original.asset;
      if (!asset) return <span>—</span>;
      return (
        <Link
          href={`/asset/${asset}`}
          className="no-underline underline-offset-2 hover:underline focus:underline"
          aria-label={`View Asset ${asset}`}
        >
          {asset}
        </Link>
      );
    },
  },
  {
    id: "userLocation",
    accessorKey: "userLocation",
    header: "User/Location",
    cell: ({ row }) => <span className="text-muted-foreground">{row.original.userLocation}</span>,
  },
  {
    id: "modifiedBy",
    accessorKey: "modifiedBy",
    header: "Modified By",
    cell: ({ row }) => <span>{row.original.modifiedBy}</span>,
  },
  {
    id: "modified",
    accessorKey: "modified",
    header: "Modified",
    cell: ({ row }) => <span>{row.original.modified}</span>,
  },
];

export const deployedCardColumnsNoModified: ColumnDef<InventoryItem>[] = [
  {
    id: "asset",
    accessorKey: "asset",
    header: "Asset",
    cell: ({ row }) => {
      const asset = row.original.asset;
      if (!asset) return <span>—</span>;
      return (
        <Link
          href={`/asset/${asset}`}
          className="no-underline underline-offset-2 hover:underline focus:underline"
          aria-label={`View Asset ${asset}`}
        >
          {asset}
        </Link>
      );
    },
  },
  {
    id: "userLocation",
    accessorKey: "userLocation",
    header: "User/Location",
    cell: ({ row }) => <span className="text-muted-foreground">{row.original.userLocation}</span>,
  },
  {
    id: "modifiedBy",
    accessorKey: "modifiedBy",
    header: "Modified By",
    cell: ({ row }) => <span>{row.original.modifiedBy}</span>,
  },
];
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/components/data-table/data-table.tsx ====
BEGIN_CONTENT
"use client";

import * as React from "react";
import {
  ColumnDef,
  SortingState,
  flexRender,
  getCoreRowModel,
  getPaginationRowModel,
  getSortedRowModel,
  useReactTable,
} from "@tanstack/react-table";
import { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from "@/components/ui/table";
import { Button } from "@/components/ui/button";
import { cn } from "@/lib/utils";

type DataTableProps<TData, TValue> = {
  columns: ColumnDef<TData, TValue>[];
  data: TData[];
  pageSize?: number;
  className?: string;
  tableClassName?: string;
  showPagination?: boolean;
  compact?: boolean;
};

export function DataTable<TData, TValue>({
  columns,
  data,
  pageSize = 5,
  className,
  tableClassName,
  showPagination = true,
  compact = false,
}: DataTableProps<TData, TValue>) {
  const [sorting, setSorting] = React.useState<SortingState>([]);

  const table = useReactTable({
    data,
    columns,
    state: { sorting },
    onSortingChange: setSorting,
    getCoreRowModel: getCoreRowModel(),
    getSortedRowModel: getSortedRowModel(),
    getPaginationRowModel: getPaginationRowModel(),
    initialState: {
      pagination: { pageSize },
    },
  });

  return (
    <div className={cn("w-full", className)}>
      <div className="rounded-md border">
        <Table className={cn(tableClassName, compact && "text-sm [&_th]:px-3 [&_td]:px-3 [&_th]:py-2 [&_td]:py-2")}>
          <TableHeader>
            {table.getHeaderGroups().map((headerGroup) => (
              <TableRow key={headerGroup.id}>
                {headerGroup.headers.map((header) => (
                  <TableHead key={header.id}>
                    {header.isPlaceholder
                      ? null
                      : flexRender(header.column.columnDef.header, header.getContext())}
                  </TableHead>
                ))}
              </TableRow>
            ))}
          </TableHeader>
          <TableBody>
            {table.getRowModel().rows.length ? (
              table.getRowModel().rows.map((row) => (
                <TableRow
                  key={row.id}
                  data-state={row.getIsSelected() ? "selected" : undefined}
                >
                  {row.getVisibleCells().map((cell) => (
                    <TableCell key={cell.id}>
                      {flexRender(cell.column.columnDef.cell, cell.getContext())}
                    </TableCell>
                  ))}
                </TableRow>
              ))
            ) : (
              <TableRow>
                <TableCell colSpan={columns.length} className="h-24 text-center">
                  No results.
                </TableCell>
              </TableRow>
            )}
          </TableBody>
        </Table>
      </div>

      {showPagination !== false && (
        <div className="flex items-center justify-end gap-2 py-2">
          <span className="text-xs text-muted-foreground">
            Page {table.getState().pagination.pageIndex + 1} of {table.getPageCount() || 1}
          </span>
          <Button
            variant="outline"
            size="sm"
            onClick={() => table.previousPage()}
            disabled={!table.getCanPreviousPage()}
          >
            Previous
          </Button>
          <Button
            variant="outline"
            size="sm"
            onClick={() => table.nextPage()}
            disabled={!table.getCanNextPage()}
          >
            Next
          </Button>
        </div>
      )}
    </div>
  );
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/components/inventory/inventory-view.tsx ====
BEGIN_CONTENT
"use client";

import * as React from "react";
import { useMsal } from "@azure/msal-react";
import type { AccountInfo, AuthenticationResult } from "@azure/msal-browser";
import type { InventoryItem } from "@/types/inventory";
import { DataTable } from "@/components/data-table/data-table";
import { inventoryColumns, deployedCardColumns, deployedCardColumnsNoModified } from "@/components/data-table/columns";
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
import { ScrollArea } from "@/components/ui/scroll-area";
import { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from "@/components/ui/table";
import { Badge } from "@/components/ui/badge";
import { Button } from "@/components/ui/button";
import { Skeleton } from "@/components/ui/skeleton";
import Link from "next/link";
import { startOfUtcDay, startOfUtcIsoWeek, startOfUtcMonth } from "@/lib/date-utc";
import AssetViewOverlay from "@/components/asset/asset-view-overlay";

const isMock =
  process.env.NEXT_PUBLIC_USE_MOCK_INVENTORY === "true" ||
  process.env.USE_MOCK_INVENTORY === "true";

const API_SCOPE =
  process.env.NEXT_PUBLIC_AZURE_API_SCOPE ||
  process.env.AZURE_API_SCOPE ||
  "";

// Augmented shape returned by /api/inventory?recent=10
type ActivityItem = InventoryItem & {
  _activityDateTime?: string;
  _latestChangedField?:
    | "asset"
    | "userLocation"
    | "status"
    | "serial"
    | "model"
    | "assetImage"
    | "notes";
};

export function InventoryView() {
  const { instance, accounts } = useMsal();
  const [items, setItems] = React.useState<InventoryItem[]>([]);
  const [loading, setLoading] = React.useState(true);
  const [error, setError] = React.useState<string | null>(null);
  const [needsLogin, setNeedsLogin] = React.useState(false);
  const [msalReady, setMsalReady] = React.useState(false);
  const [recentItems, setRecentItems] = React.useState<ActivityItem[]>([]);
  // Auto sign-in helper to ensure SharePoint (Graph) access via API token
  const attemptedLoginRef = React.useRef(false);
  const triggerLogin = React.useCallback(async () => {
    if (attemptedLoginRef.current) return;
    attemptedLoginRef.current = true;
    if (!API_SCOPE) {
      setError("Missing API scope. Set NEXT_PUBLIC_AZURE_API_SCOPE or AZURE_API_SCOPE.");
      return;
    }
    try {
      await instance.initialize();
    } catch {
      // ignore init error; MSAL will surface if needed
    }
    await instance.loginRedirect({ scopes: [API_SCOPE] });
  }, [instance]);
  const [deployedWeek, setDeployedWeek] = React.useState<InventoryItem[]>([]);
  const [deployedMonth, setDeployedMonth] = React.useState<InventoryItem[]>([]);
  const [deployedToday, setDeployedToday] = React.useState<InventoryItem[]>([]);
  const [assetOverlayOpen, setAssetOverlayOpen] = React.useState(false);
  const [assetOverlayId, setAssetOverlayId] = React.useState<number | null>(null);

  const activeAccount = React.useMemo<AccountInfo | null>(() => {
    return instance.getActiveAccount() || accounts[0] || null;
  }, [instance, accounts]);

  React.useEffect(() => {
    let cancelled = false;
    let timer: ReturnType<typeof setTimeout> | null = null;

    (async () => {
      try {
        await instance.initialize();
      } catch {
        // ignore init error here; loginRedirect will surface errors later
      } finally {
        if (!cancelled) setMsalReady(true);
      }
    })();

    // safety: unstick after 2s even if initialize hangs
    timer = setTimeout(() => {
      if (!cancelled) setMsalReady(true);
    }, 2000);

    return () => {
      cancelled = true;
      if (timer) clearTimeout(timer);
    };
  }, [instance]);

  const loadData = React.useCallback(async () => {
    // Debug to trace loading gate
    console.debug("InventoryView loadData start", { isMock, msalReady, hasAccount: !!activeAccount });
    try {
      setLoading(true);
      setError(null);
      // Ensure MSAL is initialized here so we don't early-return and leave loading stuck.
      if (!isMock && !msalReady) {
        try {
          await instance.initialize();
        } catch {
          // ignore init error here; loginRedirect will surface errors later
        }
      }

      let headers: HeadersInit = {};

      if (!isMock) {
        if (!API_SCOPE) {
          throw new Error("Missing API scope. Set NEXT_PUBLIC_AZURE_API_SCOPE or AZURE_API_SCOPE.");
        }
        if (!activeAccount) {
          void triggerLogin();
          return;
        }
        const acquireSilentWithTimeout = async (timeoutMs = 10000): Promise<AuthenticationResult> => {
          const p = instance.acquireTokenSilent({
            scopes: [API_SCOPE],
            account: activeAccount,
          });
          const timeout = new Promise<never>((_, reject) =>
            setTimeout(() => reject(new Error("acquireTokenSilent timeout")), timeoutMs)
          );
          return (await Promise.race([p, timeout])) as AuthenticationResult;
        };

        try {
          const result = await acquireSilentWithTimeout(10000);
          headers = { Authorization: `Bearer ${result.accessToken}` };
        } catch {
          void triggerLogin();
          return;
        }
      }

      // Fetch core dataset first; then load secondary datasets with graceful degradation.
      const resAll = await fetch("/api/inventory", { method: "GET", headers });
      if (!resAll.ok) {
        const text = await resAll.text();
        throw new Error(`API ${resAll.status}: ${text}`);
      }
      const dataAll = (await resAll.json()) as InventoryItem[];
      setItems(dataAll);


      const toMs = (s?: string) => {
        if (!s) return 0;
        const t = new Date(s).getTime();
        return Number.isNaN(t) ? 0 : t;
      };

      const [recentSettled, todaySettled, weekSettled, monthSettled] = await Promise.allSettled([
        fetch("/api/inventory?recent=10", { method: "GET", headers }).then(async (r) => {
          if (!r.ok) throw new Error(await r.text());
          return (await r.json()) as ActivityItem[];
        }),
        fetch("/api/inventory?deployedSince=today", { method: "GET", headers }).then(async (r) => {
          if (!r.ok) throw new Error(await r.text());
          return (await r.json()) as InventoryItem[];
        }),
        fetch("/api/inventory?deployedSince=week", { method: "GET", headers }).then(async (r) => {
          if (!r.ok) throw new Error(await r.text());
          return (await r.json()) as InventoryItem[];
        }),
        fetch("/api/inventory?deployedSince=month", { method: "GET", headers }).then(async (r) => {
          if (!r.ok) throw new Error(await r.text());
          return (await r.json()) as InventoryItem[];
        }),
      ]);

      if (recentSettled.status === "fulfilled") {
        setRecentItems(recentSettled.value);
      } else {
        console.warn("recent activity fetch failed", recentSettled.reason);
        setRecentItems([]);
      }

      const now = new Date();
      const daySinceMs = startOfUtcDay(now).getTime();
      const weekSinceMs = startOfUtcIsoWeek(now).getTime();
      const monthSinceMs = startOfUtcMonth(now).getTime();

      if (todaySettled.status === "fulfilled") {
        setDeployedToday(todaySettled.value);
      } else {
        console.warn("deployedSince=today fetch failed", todaySettled.reason);
        const approxToday = dataAll
          .filter((i) => i.status === "deployed")
          .filter((i) => toMs(i.modified || i.created) >= daySinceMs)
          .sort((a, b) => toMs(b.modified || b.created) - toMs(a.modified || a.created))
          .slice(0, 50);
        setDeployedToday(approxToday);
      }

      if (weekSettled.status === "fulfilled") {
        setDeployedWeek(weekSettled.value);
      } else {
        console.warn("deployedSince=week fetch failed", weekSettled.reason);
        const approxWeek = dataAll
          .filter((i) => i.status === "deployed")
          .filter((i) => toMs(i.modified || i.created) >= weekSinceMs)
          .sort((a, b) => toMs(b.modified || b.created) - toMs(a.modified || a.created))
          .slice(0, 50);
        setDeployedWeek(approxWeek);
      }

      if (monthSettled.status === "fulfilled") {
        setDeployedMonth(monthSettled.value);
      } else {
        console.warn("deployedSince=month fetch failed", monthSettled.reason);
        const approxMonth = dataAll
          .filter((i) => i.status === "deployed")
          .filter((i) => toMs(i.modified || i.created) >= monthSinceMs)
          .sort((a, b) => toMs(b.modified || b.created) - toMs(a.modified || a.created))
          .slice(0, 50);
        setDeployedMonth(approxMonth);
      }
    } catch (e) {
      setError(e instanceof Error ? e.message : "Unknown error");
    } finally {
      setLoading(false);
    }
  }, [activeAccount, instance, msalReady]);

  React.useEffect(() => {
    void loadData();
  }, [loadData]);

  // If MSAL is ready but there is no active account, show sign-in card immediately
  React.useEffect(() => {
    if (!isMock && msalReady && !activeAccount) {
      void triggerLogin();
    }
  }, [isMock, msalReady, activeAccount, triggerLogin]);

  const handleSignIn = async () => {
    if (!API_SCOPE) {
      setError("Missing API scope. Set NEXT_PUBLIC_AZURE_API_SCOPE or AZURE_API_SCOPE.");
      return;
    }
    await instance.initialize();
    await instance.loginRedirect({ scopes: [API_SCOPE] });
  };

  if (needsLogin && !isMock) {
    return (
      <Card className="md:col-span-3">
        <CardHeader>
          <CardTitle className="text-base">Authentication Required</CardTitle>
        </CardHeader>
        <CardContent className="flex items-center justify-between">
          <p className="text-sm text-muted-foreground">
            Sign in to view live inventory from SharePoint.
          </p>
          <Button size="sm" onClick={handleSignIn}>
            Sign in
          </Button>
        </CardContent>
      </Card>
    );
  }

  if (loading) {
    return (
      <>
        <Card>
        <CardHeader>
          <CardTitle className="text-base">Checked Out Today</CardTitle>
        </CardHeader>
        <CardContent>
          <div className="space-y-2">
            {Array.from({ length: 5 }).map((_, i) => (
              <Skeleton key={i} className="h-4 w-full" />
            ))}
          </div>
        </CardContent>
        </Card>
        <Card>
        <CardHeader>
          <CardTitle className="text-base">Checked Out This Week</CardTitle>
        </CardHeader>
        <CardContent>
          <div className="space-y-2">
            {Array.from({ length: 5 }).map((_, i) => (
              <Skeleton key={i} className="h-4 w-full" />
            ))}
          </div>
        </CardContent>
        </Card>
        <Card>
        <CardHeader>
          <CardTitle className="text-base">Checked Out This Month</CardTitle>
        </CardHeader>
        <CardContent>
          <div className="space-y-2">
            {Array.from({ length: 5 }).map((_, i) => (
              <Skeleton key={i} className="h-4 w-full" />
            ))}
          </div>
        </CardContent>
        </Card>
        <Card className="md:col-span-3">
        <CardHeader>
          <CardTitle className="text-base">Recent Activity</CardTitle>
        </CardHeader>
        <CardContent>
          <div className="space-y-2">
            {Array.from({ length: 8 }).map((_, i) => (
              <Skeleton key={i} className="h-4 w-full" />
            ))}
          </div>
        </CardContent>
        </Card>
      </>
    );
  }

  if (error) {
    return (
      <Card className="md:col-span-3">
        <CardHeader>
          <CardTitle className="text-base">Failed to load inventory</CardTitle>
        </CardHeader>
        <CardContent>
          <p className="text-sm text-destructive">{error}</p>
          {!isMock && (
            <div className="mt-3">
              <Button size="sm" variant="outline" onClick={handleSignIn}>
                Try Sign In
              </Button>
            </div>
          )}
        </CardContent>
      </Card>
    );
  }

  const a = deployedToday.slice(0, 5);
  const b = deployedWeek.slice(0, 5);
  const c = deployedMonth.slice(0, 5);

  // Unify table items so we can access optional activity props without any casts
  const tableItems: ActivityItem[] = recentItems.length
    ? recentItems
    : items.map((i) => i as ActivityItem);

  return (
    <>
      <Card>
        <CardHeader>
          <CardTitle className="text-base">Checked Out Today</CardTitle>
        </CardHeader>
        <CardContent>
          <DataTable
            columns={deployedCardColumnsNoModified}
            data={a}
            pageSize={5}
            showPagination={false}
            compact
            tableClassName="table-fixed [&_th:first-child]:pl-3 [&_td:first-child]:pl-3 [&_th:last-child]:pr-3 [&_td:last-child]:pr-3"
          />
        </CardContent>
      </Card>

      <Card>
        <CardHeader>
          <CardTitle className="text-base">Checked Out This Week</CardTitle>
        </CardHeader>
        <CardContent>
          <DataTable
            columns={deployedCardColumns}
            data={b}
            pageSize={5}
            showPagination={false}
            compact
            tableClassName="[&_th:first-child]:pl-3 [&_td:first-child]:pl-3 [&_th:last-child]:pr-3 [&_td:last-child]:pr-3"
          />
        </CardContent>
      </Card>

      <Card>
        <CardHeader>
          <CardTitle className="text-base">Checked Out This Month</CardTitle>
        </CardHeader>
        <CardContent>
          <DataTable
            columns={deployedCardColumns}
            data={c}
            pageSize={5}
            showPagination={false}
            compact
            tableClassName="[&_th:first-child]:pl-3 [&_td:first-child]:pl-3 [&_th:last-child]:pr-3 [&_td:last-child]:pr-3"
          />
        </CardContent>
      </Card>

      <Card className="md:col-span-3">
        <CardHeader>
          <CardTitle className="text-base">Recent Activity</CardTitle>
        </CardHeader>
        <CardContent>
          <ScrollArea className="h-[420px] w-full">
            <Table className="text-sm [&_th]:px-1 [&_td]:px-1 [&_th]:py-1 [&_td]:py-1 [&_th]:whitespace-nowrap [&_td]:whitespace-nowrap [&_th:first-child]:pl-3 [&_td:first-child]:pl-3 [&_th:last-child]:pr-3 [&_td:last-child]:pr-3">
              <TableHeader>
                <TableRow>
                  <TableHead>Asset</TableHead>
                  <TableHead>Model</TableHead>
                  <TableHead>Serial</TableHead>
                  <TableHead>User/Location</TableHead>
                  <TableHead>Status</TableHead>
                  <TableHead>Modified</TableHead>
                  <TableHead className="text-right">Modified By</TableHead>
                </TableRow>
              </TableHeader>
              <TableBody>
                {tableItems.map((item) => (
                  <TableRow key={item.asset}>
                    <TableCell>
                      <Link
                        href={`/asset/${item.asset}`}
                        className="no-underline underline-offset-2 hover:underline focus:underline"
                        aria-label={`View Asset ${item.asset}`}
                        onClick={(e) => {
                          // Allow new tab/window and non-left clicks to behave normally
                          if (
                            e.defaultPrevented ||
                            e.metaKey ||
                            e.ctrlKey ||
                            e.shiftKey ||
                            e.altKey ||
                            (e as unknown as MouseEvent).button !== 0
                          ) {
                            return;
                          }
                          e.preventDefault();
                          setAssetOverlayId(item.asset);
                          setAssetOverlayOpen(true);
                        }}
                      >
                        {item.asset}
                      </Link>
                      {item._latestChangedField === "asset" && (
                        <span className="ml-0.5 inline-block size-2 rounded-full bg-emerald-500 dark:bg-emerald-400 align-middle" />
                      )}
                    </TableCell>
                    <TableCell>
                      {item.model}
                      {item._latestChangedField === "model" && (
                        <span className="ml-0.5 inline-block size-2 rounded-full bg-emerald-500 dark:bg-emerald-400 align-middle" />
                      )}
                    </TableCell>
                    <TableCell>
                      {item.serial}
                      {item._latestChangedField === "serial" && (
                        <span className="ml-0.5 inline-block size-2 rounded-full bg-emerald-500 dark:bg-emerald-400 align-middle" />
                      )}
                    </TableCell>
                    <TableCell className="text-muted-foreground">
                      {item.userLocation}
                      {item._latestChangedField === "userLocation" && (
                        <span className="ml-0.5 inline-block size-2 rounded-full bg-emerald-500 dark:bg-emerald-400 align-middle" />
                      )}
                    </TableCell>
                    <TableCell>
                      <Badge
                        variant={
                          item.status === "deployed"
                            ? "checkout"
                            : item.status === "ready_to_deploy"
                            ? "checkin"
                            : "destructive"
                        }
                      >
                        {item.status === "deployed"
                          ? "Deployed"
                          : item.status === "ready_to_deploy"
                          ? "Ready to Deploy"
                          : "Retired"}
                      </Badge>
                      {item._latestChangedField === "status" && (
                        <span className="ml-0.5 inline-block size-2 rounded-full bg-emerald-500 dark:bg-emerald-400 align-middle" />
                      )}
                    </TableCell>
                    <TableCell>{item.modified}</TableCell>
                    <TableCell className="text-right">{item.modifiedBy}</TableCell>
                  </TableRow>
                ))}
              </TableBody>
            </Table>
          </ScrollArea>
        </CardContent>
      </Card>
      {/* Overlay for viewing an asset without leaving the current page */}
      <AssetViewOverlay
        open={assetOverlayOpen}
        onOpenChange={setAssetOverlayOpen}
        asset={assetOverlayId ?? undefined}
      />
    </>
  );
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/components/loading/loading-provider.tsx ====
BEGIN_CONTENT
"use client";

import * as React from "react";

type LoadingContextValue = {
  start: () => void;
  stop: () => void;
  withGlobalLoading: <T>(p: Promise<T>) => Promise<T>;
  count: number;
  visible: boolean;
};

const LoadingContext = React.createContext<LoadingContextValue | null>(null);

export function useGlobalLoading() {
  const ctx = React.useContext(LoadingContext);
  if (!ctx) {
    throw new Error("useGlobalLoading must be used within GlobalLoadingProvider");
  }
  return ctx;
}

type Props = {
  children: React.ReactNode;
  /**
   * Show delay in ms to avoid flicker on very fast operations
   */
  showDelayMs?: number;
  /**
   * Minimum visible duration in ms once shown to avoid flicker on rapid sequences
   */
  minVisibleMs?: number;
};

export function GlobalLoadingProvider({
  children,
  showDelayMs = 250,
  minVisibleMs = 300,
}: Props) {
  const [count, setCount] = React.useState(0);
  const [visible, setVisible] = React.useState(false);

  const showTimerRef = React.useRef<ReturnType<typeof setTimeout> | null>(null);
  const hideTimerRef = React.useRef<ReturnType<typeof setTimeout> | null>(null);
  const lastShownAtRef = React.useRef<number | null>(null);

  const clearTimers = () => {
    if (showTimerRef.current) {
      clearTimeout(showTimerRef.current);
      showTimerRef.current = null;
    }
    if (hideTimerRef.current) {
      clearTimeout(hideTimerRef.current);
      hideTimerRef.current = null;
    }
  };

  React.useEffect(() => {
    return () => clearTimers();
  }, []);

  React.useEffect(() => {
    clearTimers();

    if (count > 0) {
      // schedule show after delay (if not already visible)
      if (!visible) {
        showTimerRef.current = setTimeout(() => {
          setVisible(true);
          lastShownAtRef.current = Date.now();
        }, showDelayMs);
      }
    } else {
      // schedule hide respecting min visible time
      const elapsed = lastShownAtRef.current
        ? Date.now() - lastShownAtRef.current
        : Infinity;
      const remaining = Math.max(0, minVisibleMs - elapsed);

      hideTimerRef.current = setTimeout(() => {
        setVisible(false);
        lastShownAtRef.current = null;
      }, remaining);
    }
    // eslint-disable-next-line react-hooks/exhaustive-deps
  }, [count, showDelayMs, minVisibleMs]);

  const start = React.useCallback(() => {
    setCount((c) => c + 1);
  }, []);

  const stop = React.useCallback(() => {
    setCount((c) => Math.max(0, c - 1));
  }, []);

  const withGlobalLoading = React.useCallback(
    async <T,>(p: Promise<T>) => {
      start();
      try {
        return await p;
      } finally {
        stop();
      }
    },
    [start, stop]
  );

  const value = React.useMemo<LoadingContextValue>(
    () => ({ start, stop, withGlobalLoading, count, visible }),
    [start, stop, withGlobalLoading, count, visible]
  );

  return (
    <LoadingContext.Provider value={value}>{children}</LoadingContext.Provider>
  );
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/components/lottie/lottie-overlay.tsx ====
BEGIN_CONTENT
"use client";

import * as React from "react";
import { createPortal } from "react-dom";
import LottiePlayer, { LottiePlayerRef } from "@/components/lottie/lottie-player";
import { useLottieOverlay } from "@/components/lottie/overlay-provider";
import { Spinner } from "@/components/ui/spinner";

function useEscape(handler: () => void, active: boolean) {
  React.useEffect(() => {
    if (!active) return;
    const onKey = (e: KeyboardEvent) => {
      if (e.key === "Escape") handler();
    };
    window.addEventListener("keydown", onKey);
    return () => window.removeEventListener("keydown", onKey);
  }, [handler, active]);
}

export default function LottieOverlay() {
  const { isOpen, animationData, spinner, loop, autoplay, speed, close, closeWith, version } = useLottieOverlay();
  const ref = React.useRef<LottiePlayerRef>(null);
  const [mounted, setMounted] = React.useState(false);
  const [visible, setVisible] = React.useState(false);

  useEscape(close, isOpen);

  // Stop on unmount/close for cleanup
  React.useEffect(() => {
    if (!isOpen) {
      ref.current?.stop?.();
    }
  }, [isOpen]);

  // Start playback exactly when overlay becomes visible (sync with fade-in)
  React.useEffect(() => {
    if (isOpen && visible && animationData && ref.current?.play) {
      try {
        ref.current.stop?.();
        ref.current.play?.();
      } catch {
        // no-op
      }
    }
  }, [isOpen, visible, animationData]);

  // Mount/unmount with fade/scale transitions for ease-in/out
  React.useEffect(() => {
    if (isOpen && (animationData || spinner)) {
      setMounted(true);
      const id = requestAnimationFrame(() => setVisible(true));
      return () => cancelAnimationFrame(id);
    } else if (mounted) {
      setVisible(false);
      const t = setTimeout(() => setMounted(false), 500);
      return () => clearTimeout(t);
    }
  }, [isOpen, animationData, spinner, mounted]);


  if (!mounted) return null;

  const overlay = (
    <div
      role="dialog"
      aria-modal="true"
      className="fixed inset-0 z-[100] flex items-center justify-center"
    >
      {/* Backdrop */}
      <div
        className={`absolute inset-0 bg-black/30 ${visible ? "backdrop-blur-sm opacity-100" : "backdrop-blur-0 opacity-0"} transition-all duration-500 ease-in-out`}
        onClick={close}
        aria-hidden="true"
      />
      {/* Panel */}
      <div
        className={`relative z-[101] mx-4 w-[min(90vw,1000px)] h-[min(80vh,700px)] bg-transparent outline-none transform transition-transform duration-500 ease-in-out ${visible ? "scale-100" : "scale-95"}`}
      >
        <div className="absolute inset-0 grid place-items-center p-4">
          <div className="h-full w-full">
            {animationData ? (
              <LottiePlayer
                key={version}
                ref={ref}
                animationData={animationData}
                loop={loop}
                speed={typeof speed === "number" ? speed : 1.2}
                autoplay={false}
                onComplete={() => (closeWith ? closeWith("complete") : close())}
                className="h-full w-full"
              />
            ) : spinner ? (
              <div className="h-full w-full grid place-items-center">
                <Spinner size="lg" aria-label="Loading" />
              </div>
            ) : null}
          </div>
        </div>
      </div>
    </div>
  );

  if (typeof document !== "undefined") {
    return createPortal(overlay, document.body);
  }
  return overlay;
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/components/lottie/lottie-player.tsx ====
BEGIN_CONTENT
/* 
  Reusable client-safe Lottie wrapper for future animations.
  - No animations are imported or rendered here.
  - Marked as a client component to avoid SSR issues.
  - Exposes the Lottie instance via forwardRef for imperative control.
*/
"use client";

import React from "react";
import Lottie, { LottieRefCurrentProps } from "lottie-react";

export type LottiePlayerProps = {
  animationData: object; // JSON content for the animation (to be provided by consumers later)
  loop?: boolean | number;
  autoplay?: boolean;
  speed?: number; // applied via ref when available
  direction?: 1 | -1; // applied via ref when available
  className?: string;
  style?: React.CSSProperties;
  initialSegment?: [number, number];
  role?: string;
  ariaLabel?: string;

  // Event handlers supported by lottie-react (pass-through)
  onComplete?: () => void;
  onLoopComplete?: () => void;
  onEnterFrame?: () => void;

  // Escape hatch for additional Lottie props (excluding ones we control)
  lottieProps?: Omit<
    React.ComponentProps<typeof Lottie>,
    | "animationData"
    | "loop"
    | "autoplay"
    | "lottieRef"
    | "initialSegment"
    | "onComplete"
    | "onLoopComplete"
    | "onEnterFrame"
  >;
};

/**
 * LottiePlayer
 * - Client-only wrapper around lottie-react's <Lottie />
 * - Provides a stable API and forwards the internal Lottie instance via ref
 *
 * Example (for later use):
 *   const ref = useRef<LottieRefCurrentProps>(null);
 *   <LottiePlayer ref={ref} animationData={data} loop autoplay className="h-24 w-24" />
 *   // ref.current?.play(); ref.current?.pause(); ref.current?.setSpeed(1.5); etc.
 */
const LottiePlayer = React.forwardRef<LottieRefCurrentProps, LottiePlayerProps>(
  (
    {
      animationData,
      loop = true,
      autoplay = true,
      speed,
      direction,
      className,
      style,
      initialSegment,
      role,
      ariaLabel,
      onComplete,
      onLoopComplete,
      onEnterFrame,
      lottieProps,
    },
    forwardedRef
  ) => {
    const innerRef = React.useRef<LottieRefCurrentProps>(null);

    // Expose the inner Lottie instance to consumers (mirror lottieRef to forwardedRef)
    const setRef = (ref: React.ForwardedRef<LottieRefCurrentProps>, value: LottieRefCurrentProps | null) => {
      if (typeof ref === "function") {
        ref(value);
      } else if (ref && typeof ref === "object") {
        (ref as React.MutableRefObject<LottieRefCurrentProps | null>).current = value;
      }
    };

    React.useLayoutEffect(() => {
      // assign current instance to forwarded ref on mount, and cleanup on unmount
      setRef(forwardedRef, innerRef.current ?? null);
      return () => {
        setRef(forwardedRef, null);
      };
    }, []);

    // Apply speed/direction imperatively if provided
    React.useEffect(() => {
      const inst = innerRef.current;
      if (!inst) return;
      if (typeof speed === "number") inst.setSpeed(speed);
      if (typeof direction === "number") inst.setDirection(direction as 1 | -1);
    }, [speed, direction]);

    return (
      <Lottie
        animationData={animationData}
        loop={loop}
        autoplay={autoplay}
        lottieRef={innerRef}
        className={className}
        style={style}
        initialSegment={initialSegment}
        role={role ?? "img"}
        aria-label={ariaLabel}
        onComplete={onComplete}
        onLoopComplete={onLoopComplete}
        onEnterFrame={onEnterFrame}
        {...lottieProps}
      />
    );
  }
);

LottiePlayer.displayName = "LottiePlayer";

export type { LottieRefCurrentProps as LottiePlayerRef };
export default LottiePlayer;
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/components/lottie/overlay-provider.tsx ====
BEGIN_CONTENT
"use client";

import * as React from "react";

export type LottieOverlayOptions = {
  data?: object;
  url?: string;
  loop?: boolean;
  autoplay?: boolean;
  speed?: number;
  spinner?: boolean;
  onClose?: (reason: "complete" | "dismissed") => void;
};

type LottieOverlayContextType = {
  isOpen: boolean;
  animationData: object | null;
  spinner: boolean;
  loop: boolean;
  autoplay: boolean;
  speed?: number;
  version: number;
  open: (opts: LottieOverlayOptions) => Promise<boolean>;
  close: () => void;
  closeWith?: (reason: "complete" | "dismissed") => void;
};

const LottieOverlayContext = React.createContext<LottieOverlayContextType | null>(
  null
);

export function useLottieOverlay(): LottieOverlayContextType {
  const ctx = React.useContext(LottieOverlayContext);
  if (!ctx) {
    throw new Error("useLottieOverlay must be used within LottieOverlayProvider");
  }
  return ctx;
}

export function LottieOverlayProvider({ children }: { children: React.ReactNode }) {
  const [isOpen, setIsOpen] = React.useState(false);
  const [animationData, setAnimationData] = React.useState<object | null>(null);
  const [spinner, setSpinner] = React.useState<boolean>(false);
  const [loop, setLoop] = React.useState<boolean>(false);
  const [autoplay, setAutoplay] = React.useState<boolean>(true);
  const [speed, setSpeed] = React.useState<number | undefined>(undefined);
  const [version, setVersion] = React.useState<number>(0);
  const onCloseRef = React.useRef<((reason: "complete" | "dismissed") => void) | undefined>(undefined);

  const getPrefersReducedMotion = React.useCallback(() => {
    if (typeof window === "undefined") return false;
    try {
      return window.matchMedia("(prefers-reduced-motion: reduce)").matches;
    } catch {
      return false;
    }
  }, []);

  const closeWith = React.useCallback((reason: "complete" | "dismissed") => {
    setIsOpen(false);
    setSpinner(false);
    // Defer clearing animationData to allow unmount cleanup in overlay
    setTimeout(() => setAnimationData(null), 0);
    const cb = onCloseRef.current;
    onCloseRef.current = undefined;
    try {
      cb?.(reason);
    } catch {
      // ignore callback errors
    }
  }, []);

  const close = React.useCallback(() => {
    closeWith("dismissed");
  }, [closeWith]);

  const open = React.useCallback(
    async (opts: LottieOverlayOptions) => {
      const reduced = getPrefersReducedMotion();
      const finalLoop = typeof opts.loop === "boolean" ? opts.loop : false;
      const finalAutoplay =
        typeof opts.autoplay === "boolean" ? opts.autoplay : !reduced;
      const finalSpeed =
        typeof opts.speed === "number" ? opts.speed : undefined;

      setLoop(finalLoop);
      setAutoplay(finalAutoplay);
      setSpeed(finalSpeed);
      onCloseRef.current = opts.onClose;

      if (opts.spinner) {
        setSpinner(true);
        setAnimationData(null);
        setVersion((v) => v + 1);
        setIsOpen(true);
        return true;
      }

      if (opts.data) {
        setSpinner(false);
        setAnimationData(opts.data);
        setVersion((v) => v + 1);
        setIsOpen(true);
        return true;
      }

      if (opts.url) {
        try {
          setSpinner(false);
          const res = await fetch(opts.url);
          if (!res.ok) throw new Error(`Failed to load animation: ${res.status}`);
          const json = (await res.json()) as object;
          setAnimationData(json);
          setVersion((v) => v + 1);
          setIsOpen(true);
          return true;
        } catch (e) {
          // eslint-disable-next-line no-console
          console.error(e);
          setIsOpen(false);
          setAnimationData(null);
          return false;
        }
      }

      // If neither provided, no-op
      return false;
    },
    [getPrefersReducedMotion]
  );

  const value = React.useMemo(
    () => ({ isOpen, animationData, spinner, loop, autoplay, speed, version, open, close, closeWith }),
    [isOpen, animationData, spinner, loop, autoplay, speed, version, open, close, closeWith]
  );

  return (
    <LottieOverlayContext.Provider value={value}>
      {children}
    </LottieOverlayContext.Provider>
  );
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/components/page-header.tsx ====
BEGIN_CONTENT
"use client";

import * as React from "react";

type PageHeaderProps = {
  title?: string;
  className?: string;
};

/**
 * Standard page header matching the Home/Dashboard header.
 * Usage:
 *  - <PageHeader /> for default title and sizing
 *  - <PageHeader className=\"md:col-span-3\" /> to span grid columns like Dashboard
 */
export default function PageHeader({ title = "CURATOR", className }: PageHeaderProps) {
  return (
    <div className={className}>
      <div className="flex items-center justify-between">
      <h3 className="text-2xl font-semibold tracking-tight leading-none">
        <span className="sr-only">{title}</span>
        <svg
          className="block h-16 w-auto align-middle"
          width="372"
          height="138"
          viewBox="0 0 372 138"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          aria-hidden="true"
          focusable="false"
        >
<path d="M69.56 82.328C69.56 84.632 68.984 86.744 67.832 88.664C66.68 90.584 65.144 92.12 63.224 93.272C61.304 94.424 59.192 95 56.888 95H39.608C37.304 95 35.16 94.424 33.176 93.272C31.256 92.12 29.72 90.584 28.568 88.664C27.416 86.744 26.84 84.632 26.84 82.328V42.872C26.84 40.504 27.416 38.36 28.568 36.44C29.72 34.52 31.256 32.984 33.176 31.832C35.16 30.68 37.304 30.104 39.608 30.104H56.888C59.192 30.104 61.304 30.68 63.224 31.832C65.144 32.984 66.68 34.52 67.832 36.44C68.984 38.36 69.56 40.504 69.56 42.872V45.464C69.56 46.68 69.144 47.704 68.312 48.536C67.48 49.368 66.424 49.784 65.144 49.784H62.552C61.336 49.784 60.28 49.368 59.384 48.536C58.552 47.704 58.136 46.68 58.136 45.464V42.872C58.136 41.976 57.72 41.528 56.888 41.528H39.608C38.776 41.528 38.36 41.976 38.36 42.872V82.328C38.36 82.648 38.488 82.968 38.744 83.288C39 83.544 39.288 83.672 39.608 83.672H56.888C57.208 83.672 57.496 83.544 57.752 83.288C58.008 82.968 58.136 82.648 58.136 82.328V79.448C58.136 78.232 58.552 77.208 59.384 76.376C60.28 75.48 61.336 75.032 62.552 75.032H65.144C66.424 75.032 67.48 75.48 68.312 76.376C69.144 77.208 69.56 78.232 69.56 79.448V82.328ZM95.4193 95.576C90.6832 95.576 87.0032 94.264 84.3792 91.64C81.7552 88.952 80.4432 85.048 80.4432 79.928V43.544H92.3472V76.472C92.3472 79.864 93.1152 82.136 94.6512 83.288C96.2513 84.44 98.3953 85.016 101.083 85.016C103.323 85.016 105.499 84.664 107.611 83.96C109.723 83.256 111.707 82.232 113.563 80.888V43.544H125.467V95H115.771L113.563 89.624C111.131 91.16 108.347 92.536 105.211 93.752C102.139 94.968 98.8753 95.576 95.4193 95.576ZM138.405 95V43.544H147.621L150.309 51.8C152.357 49.304 154.629 47.192 157.125 45.464C159.622 43.736 162.597 42.872 166.053 42.872C166.757 42.872 167.493 42.936 168.261 43.064C169.029 43.128 169.733 43.256 170.374 43.448V55.544C169.478 55.416 168.518 55.32 167.494 55.256C166.47 55.192 165.477 55.16 164.517 55.16C162.533 55.16 160.71 55.384 159.046 55.832C157.446 56.28 155.941 56.984 154.533 57.944C153.125 58.84 151.717 59.992 150.309 61.4V95H138.405ZM188.365 95.576C184.525 95.576 181.389 94.424 178.957 92.12C176.525 89.816 175.309 86.648 175.309 82.616V78.296C175.309 74.328 176.653 71.096 179.341 68.6C182.093 66.104 186.285 64.856 191.917 64.856H206.605V60.344C206.605 58.552 206.285 57.048 205.645 55.832C205.005 54.616 203.853 53.72 202.189 53.144C200.525 52.504 197.997 52.184 194.605 52.184H179.053V45.272C181.421 44.632 184.205 44.088 187.405 43.64C190.605 43.128 194.413 42.872 198.829 42.872C203.053 42.808 206.637 43.32 209.581 44.408C212.525 45.432 214.733 47.16 216.205 49.592C217.741 52.024 218.509 55.352 218.509 59.576V95H209.197L207.181 89.432C206.733 89.816 205.933 90.328 204.781 90.968C203.629 91.608 202.189 92.312 200.461 93.08C198.733 93.784 196.813 94.392 194.701 94.904C192.653 95.352 190.541 95.576 188.365 95.576ZM194.125 87.224C194.957 87.224 195.885 87.128 196.909 86.936C197.997 86.68 199.085 86.424 200.173 86.168C201.261 85.848 202.253 85.56 203.149 85.304C204.109 84.984 204.877 84.696 205.453 84.44C206.093 84.184 206.477 84.024 206.605 83.96V70.52L195.469 71.096C192.525 71.352 190.381 72.12 189.037 73.4C187.757 74.68 187.117 76.376 187.117 78.488V80.6C187.117 82.2 187.437 83.512 188.077 84.536C188.781 85.496 189.645 86.168 190.669 86.552C191.757 86.936 192.909 87.16 194.125 87.224ZM249.983 95C246.271 95 243.231 94.456 240.863 93.368C238.495 92.216 236.767 90.328 235.679 87.704C234.655 85.08 234.175 81.624 234.239 77.336L234.623 53.144H226.559V45.464L235.007 43.544L236.735 29.144H246.047V43.544H259.103V53.144H246.047V77.24C246.047 78.904 246.207 80.28 246.527 81.368C246.847 82.392 247.295 83.224 247.871 83.864C248.511 84.44 249.183 84.856 249.887 85.112C250.591 85.368 251.327 85.528 252.095 85.592L258.527 86.264V95H249.983ZM320.956 95V43.544H330.172L332.86 51.8C334.908 49.304 337.18 47.192 339.676 45.464C342.172 43.736 345.148 42.872 348.604 42.872C349.308 42.872 350.044 42.936 350.812 43.064C351.58 43.128 352.284 43.256 352.924 43.448V55.544C352.028 55.416 351.068 55.32 350.044 55.256C349.02 55.192 348.028 55.16 347.068 55.16C345.084 55.16 343.26 55.384 341.596 55.832C339.996 56.28 338.492 56.984 337.084 57.944C335.676 58.84 334.268 59.992 332.86 61.4V95H320.956Z" fill="black"/>
<path d="M272.205 53.9693C270.937 54.7306 269.888 55.8062 269.159 57.0919C268.43 58.3776 268.045 59.8299 268.042 61.3081V80.0627L289.5 92.9377L310.958 80.0627V61.3081C310.955 59.8299 310.57 58.3776 309.841 57.0919C309.111 55.8062 308.062 54.7306 306.795 53.9693L293.92 46.2443C292.585 45.4423 291.057 45.0186 289.5 45.0186C287.943 45.0186 286.415 45.4423 285.08 46.2443L272.205 53.9693Z" stroke="black" strokeWidth="7" strokeLinecap="round" strokeLinejoin="round"/>
<path d="M289.5 69.3338L269.157 57.1025" stroke="black" strokeWidth="7" strokeLinecap="round" strokeLinejoin="round"/>
<path d="M289.5 69.3338L309.843 57.1025" stroke="black" strokeWidth="7" strokeLinecap="round" strokeLinejoin="round"/>
<path d="M289.5 92.9372V69.333" stroke="black" strokeWidth="7" strokeLinecap="round" strokeLinejoin="round"/>
        </svg>
      </h3>
        <svg
          className="block h-[3.2rem] w-auto align-middle"
          width="1488"
          height="1484"
          viewBox="0 0 1488 1484"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          aria-hidden="true"
          focusable="false"
        >
<path d="M1459.53 1450.05H1372.14L1246.98 1313.44L1280.43 1054.21L1367.82 926.208L1330.06 1291.93L1365.66 1380.14H1401.27L1459.53 1450.05Z" fill="#1C1C21"/>
<path d="M1108.57 911L943.197 735.134L992.576 995.983L1002.24 1342.71L1024.78 1334.12L1122.46 1475.82H1215.85L1162.18 1396.38H1131.05L1095.63 1334.12L1108.57 911Z" fill="#484858"/>
<path d="M1108.57 911L1101.07 981L1106.36 974.514L1108.57 911Z" fill="black"/>
<path d="M1028.07 445.5L1021.56 445.302L942.124 734.06L1108.57 911L1154.86 811.5L1028.07 445.5Z" fill="#2F2F39"/>
<path d="M582.814 720.105L547.093 838.355L679.607 830.558L775 881L746.44 850.05L582.814 720.105Z" fill="#232323"/>
<path d="M641.557 655.699L506.302 476.432L602.913 688.976L641.557 655.699Z" fill="black"/>
<path d="M1248.06 1313.72L1371.5 1447.91L1291 1452.2L1239.47 1318.02L1206.57 958L1370.43 902.592V922.988L1281.33 1055.02L1248.06 1313.72Z" fill="black"/>
<path d="M1108.57 911L1100.57 982.5L1204.57 956.368L1304.95 839.832L1265.24 715.812L1154.86 811.5L1108.57 911Z" fill="black"/>
<path d="M1171.84 859.655L1108.57 911L1154.86 811.5L1171.84 859.655Z" fill="#2F2F39"/>
<path d="M203.466 1170.95L221.072 1178.6L164.572 1374.99H200.119L249.21 1452.2L126.482 1448.89L112.072 1245.1L203.466 1170.95Z" fill="#2F2F39"/>
<path d="M113.419 1249.32L132.741 1450.05H115.566L86.5824 1435.02L113.419 1249.32Z" fill="black"/>
<path d="M210.172 1181.69L226.072 1180.1L289.136 1124.41L437.054 933.106L468.195 874.683L221.294 1029.33L128.984 1131.29L210.172 1181.69Z" fill="#2F2F39"/>
<path d="M219.072 1181.6L130.594 1131.24L114.492 1247.17L219.072 1181.6Z" fill="black"/>
<path d="M676.981 828.524L551.387 834.965L508.449 903.666L527.771 1052.88L456.923 1158.07L542.799 1415.7H719.919L654.439 1337.34H609.354L569.636 1177.4L542.799 1052.88L713.478 1016.38L743.535 860.728L676.981 828.524Z" fill="#1C1C21"/>
<path d="M713.572 1016.1L570.072 1182.6L528.845 1046.34L713.572 1016.1Z" fill="black"/>
<path d="M642.631 648.57L614.498 694.343L511.072 477.604L642.631 648.57Z" fill="#2F2F39"/>
<path d="M1021.56 445.302L511.572 478.104L641.557 649.258L1021.56 445.302Z" fill="#484858"/>
<path d="M279.072 739.604L464.681 894.005L513.072 478.104L371.989 549.959L325.572 641.604L279.072 739.604Z" fill="#2F2F39"/>
<path d="M641.072 649.5L878.847 876.83L945.245 732.314L1026.07 447.75L1017.07 445.5L641.072 649.5Z" fill="#1C1C21"/>
<path d="M281.128 739.428L220.764 1042.14L463.572 881.604L281.128 739.428Z" fill="#1C1C21"/>
<path d="M512.634 477.235L641 650.111L540.072 794.604L497.572 845.604L477.072 864.104L462.072 881.604L512.634 477.235Z" fill="#1C1C21"/>
<path d="M434.017 934.128L310.572 1097.1L486.699 938.461L553.359 834.478L677.003 826.896L740.437 859.391L947.572 959.104L1000.43 1278L996.325 999.118L942.567 729.411L872.681 869.139L641.522 649.258L461.971 881.054L434.017 934.128Z" fill="black"/>
<path d="M72.0719 548.104L95.0719 563.604L377.072 544.104L227.072 529.104L118.786 467.293L5 369.087L72.0719 548.104Z" fill="#484858"/>
<path d="M94.0966 561.479L386.076 541.913L335.072 624.604L202.196 627.789L94.0966 561.479Z" fill="black"/>
<path d="M357.072 543.604L201.122 632.083L101.572 560.104L357.072 543.604Z" fill="#2F2F39"/>
<path d="M1287.78 738.985L1171.61 859.655L1028.07 447L1287.78 738.985Z" fill="#484858"/>
<path d="M1184.08 969.146L1178.28 968.026L1282.69 846.997L1390.2 679.455L1465.97 561.234L1462.57 665L1456.57 762.5L1370.57 907L1184.08 969.146Z" fill="#484858"/>
<path d="M1390.2 679.455L1367.27 916.399L1266.7 949.851L1175.7 969.851V858.955L1262.07 722.104L1390.2 679.455Z" fill="black"/>
<path d="M1122.46 1472.59L1122.46 1475.82L1060 1477.1H1053.07L1020.07 1388.1L1004.57 1339.6L1001.16 1299.77L1122.46 1472.59Z" fill="black"/>
<path d="M1360.67 530.726L1224.5 654L1262.07 722.104L1390.2 679.455L1432.69 617.052L1360.67 530.726Z" fill="#2F2F39"/>
<path d="M1031.57 118L901.072 162L903.706 163.715L970.521 179.356L938.186 233.354L1003.93 301.391C1066.81 307.151 1192.99 318.67 1194.71 318.67C1196.44 318.67 1168.12 328.75 1153.75 333.789L1338.57 506L1300.85 371.976L1260.46 290.179L1253.99 187.996L1260.57 14.5L1146.07 6L1056.57 57.5L1031.57 118Z" fill="#2F2F39"/>
<path d="M1122.5 148.846L1178.55 113.278L1103.1 87.4102L1093.4 111.122L1095.56 132.678L1107.41 146.69L1122.5 148.846Z" fill="black"/>
<path d="M1294.95 225.37L1321.9 318.062L1416.74 223.214L1481.41 124.056V108.966L1344.53 18.4299L1269.08 14.1187L1289.56 94.9546L1294.95 225.37Z" fill="#2F2F39"/>
<path d="M1478.98 110.44L1287.94 96.4483L1266.95 18.418L1343.37 22.7232L1478.98 110.44Z" fill="#484858"/>
<path d="M1381.57 507.196L1251.86 701.855L1099.59 404.802L1381.57 507.196Z" fill="#2F2F39"/>
<path d="M903.706 163.715L972.409 177.707L938.603 232.597L1002.94 298.25L1202.51 316.547L1157.8 332.691L1333.57 497L1106.57 409L1263 723.5L1027.07 447.5L1094.07 340L1027.07 327.5L953.572 316.547L916.5 260L903.706 163.715Z" fill="black"/>
<path d="M1424.32 268.115L1300.31 371.976L1332.6 495.748L1435.39 626.516L1468.57 571.5L1424.32 268.115Z" fill="#484858"/>
<path d="M1269.08 14.1187L1259.38 11.9634L1251.84 186.569L1259.38 288.026L1300.85 372.514L1423.21 273.872L1481.41 124.056L1416.74 223.214L1321.9 318.062L1294.95 225.37L1289.56 94.9546L1269.08 14.1187Z" fill="black"/>
<path d="M1056.57 59.5L1031.07 121.5L1082.9 91.9459L1056.57 59.5Z" fill="#484858"/>
<path d="M1108.57 911L943.197 735.134L992.576 995.983L1002.24 1342.71L1024.78 1334.12L1122.46 1475.82M1108.57 911L1095.63 1334.12L1131.05 1396.38H1162.18L1215.85 1475.82H1122.46M1108.57 911L1101.07 981L1106.36 974.514L1108.57 911ZM1108.57 911L1154.86 811.5M1108.57 911L942.124 734.06L1021.56 445.302M1108.57 911L1100.57 982.5L1204.57 956.368L1304.95 839.832L1265.24 715.812L1154.86 811.5M1108.57 911L1171.84 859.655L1154.86 811.5M1122.46 1475.82L1060 1477.1H1053.07L1020.07 1388.1L1004.57 1339.6L1001.16 1299.77L1122.46 1472.59L1122.46 1475.82ZM1154.86 811.5L1028.07 445.5L1021.56 445.302M1021.56 445.302L511.572 478.104L641.557 649.258L1021.56 445.302ZM1026.07 447.75L1017.07 445.5L641.072 649.5L878.847 876.83L945.245 732.314L1026.07 447.75ZM1026.07 447.75L1035.07 450M1390.2 679.455L1465.97 561.234L1462.57 665L1456.57 762.5L1370.57 907L1184.08 969.146L1178.28 968.026L1282.69 846.997L1390.2 679.455ZM1390.2 679.455L1367.27 916.399L1266.7 949.851L1175.7 969.851V858.955L1262.07 722.104M1390.2 679.455L1262.07 722.104M1390.2 679.455L1432.69 617.052L1360.67 530.726L1224.5 654L1262.07 722.104M1269.08 14.1187L1289.56 94.9546L1294.95 225.37L1321.9 318.062L1416.74 223.214L1481.41 124.056M1269.08 14.1187L1344.53 18.4299L1481.41 108.966V124.056M1269.08 14.1187L1259.38 11.9634L1251.84 186.569L1259.38 288.026L1300.85 372.514L1423.21 273.872L1481.41 124.056M903.706 163.715L972.409 177.707L938.603 232.597L1002.94 298.25L1202.51 316.547L1157.8 332.691L1333.57 497L1106.57 409L1263 723.5L1027.07 447.5L1094.07 340L1027.07 327.5L953.572 316.547L916.5 260L903.706 163.715ZM903.706 163.715L970.521 179.356L938.186 233.354L1003.93 301.391C1066.81 307.151 1192.99 318.67 1194.71 318.67C1196.44 318.67 1168.12 328.75 1153.75 333.789L1338.57 506L1300.85 371.976L1260.46 290.179L1253.99 187.996L1260.57 14.5L1146.07 6L1056.57 57.5L1031.57 118L901.072 162L903.706 163.715ZM1372.14 1450.05H1459.53L1401.27 1380.14H1365.66L1330.06 1291.93L1367.82 926.208L1280.43 1054.21L1246.98 1313.44L1372.14 1450.05ZM547.093 838.355L582.814 720.105L746.44 850.05L775 881L679.607 830.558L547.093 838.355ZM506.302 476.432L641.557 655.699L602.913 688.976L506.302 476.432ZM1371.5 1447.91L1248.06 1313.72L1281.33 1055.02L1370.43 922.988V902.592L1206.57 958L1239.47 1318.02L1291 1452.2L1371.5 1447.91ZM221.072 1178.6L203.466 1170.95L112.072 1245.1L126.482 1448.89L249.21 1452.2L200.119 1374.99H164.572L221.072 1178.6ZM132.741 1450.05L113.419 1249.32L86.5824 1435.02L115.566 1450.05H132.741ZM226.072 1180.1L210.172 1181.69L128.984 1131.29L221.294 1029.33L468.195 874.683L437.054 933.106L289.136 1124.41L226.072 1180.1ZM130.594 1131.24L219.072 1181.6L114.492 1247.17L130.594 1131.24ZM551.387 834.965L676.981 828.524L743.535 860.728L713.478 1016.38L542.799 1052.88L569.636 1177.4L609.354 1337.34H654.439L719.919 1415.7H542.799L456.923 1158.07L527.771 1052.88L508.449 903.666L551.387 834.965ZM570.072 1182.6L713.572 1016.1L528.845 1046.34L570.072 1182.6ZM614.498 694.343L642.631 648.57L511.072 477.604L614.498 694.343ZM464.681 894.005L279.072 739.604L325.572 641.604L371.989 549.959L513.072 478.104L464.681 894.005ZM220.764 1042.14L281.128 739.428L463.572 881.604L220.764 1042.14ZM641 650.111L512.634 477.235L462.072 881.604L477.072 864.104L497.572 845.604L540.072 794.604L641 650.111ZM310.572 1097.1L434.017 934.128L461.971 881.054L641.522 649.258L872.681 869.139L942.567 729.411L996.325 999.118L1000.43 1278L947.572 959.104L740.437 859.391L677.003 826.896L553.359 834.478L486.699 938.461L310.572 1097.1ZM95.0719 563.604L72.0719 548.104L5 369.087L118.786 467.293L227.072 529.104L377.072 544.104L95.0719 563.604ZM386.076 541.913L94.0966 561.479L202.196 627.789L335.072 624.604L386.076 541.913ZM201.122 632.083L357.072 543.604L101.572 560.104L201.122 632.083ZM1171.61 859.655L1287.78 738.985L1028.07 447L1171.61 859.655ZM1178.55 113.278L1122.5 148.846L1107.41 146.69L1095.56 132.678L1093.4 111.122L1103.1 87.4102L1178.55 113.278ZM1287.94 96.4483L1478.98 110.44L1343.37 22.7232L1266.95 18.418L1287.94 96.4483ZM1251.86 701.855L1381.57 507.196L1099.59 404.802L1251.86 701.855ZM1300.31 371.976L1424.32 268.115L1468.57 571.5L1435.39 626.516L1332.6 495.748L1300.31 371.976ZM1031.07 121.5L1056.57 59.5L1082.9 91.9459L1031.07 121.5Z" stroke="#484858" strokeWidth="0.001"/>
<path d="M1321.05 319.448L1415.52 228.205M1415.52 228.205L1482.07 128.374V111.198L1344.67 19.9549L1142.86 6L1052.69 58.5992L1028 119.786L899.186 162.724L914.214 259.335L949.638 319.448L1090.26 341.991L1034.44 446.115L508.449 480.466L378.561 543.8L227.205 528.771L112.345 463.291L5 372.047L72.6275 548.093L196.074 629.676L328.5 627L277.657 735.948L219.69 1032.22L129.52 1127.76L85.5089 1436.91L111.272 1450.87H248.674L202.515 1378.95H164.944L219.69 1183.58L488.053 942.05L507.376 900.186L529.918 1052.62L457.997 1158.89L541.726 1417.59H717.772L653.365 1340.3H609.354L569.636 1183.58L712.405 1018.27L743.535 866.909L945.344 960.299L992.576 1246.91L1001.16 1340.3L1053.76 1478.78H1214.78L1163.26 1399.34H1128.9L1096.7 1334.93L1105.5 986L1209.41 960.299L1237.32 1319.91L1292.07 1451.94H1462.75L1401.56 1381.09H1366.14L1332.86 1296.29L1370.43 910.92L1456.31 764.931L1469.19 566.342L1415.52 228.205Z" stroke="black" strokeWidth="10"/>
        </svg>
      </div>
    </div>
  );
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/components/search-command.tsx ====
BEGIN_CONTENT
"use client";

import * as React from "react";
import { createPortal } from "react-dom";
import { cn } from "@/lib/utils";
import {
  Command,
  CommandEmpty,
  CommandGroup,
  CommandInput,
  CommandItem,
  CommandList,
  CommandSeparator,
} from "@/components/ui/command";
import { useMsal } from "@azure/msal-react";
import type { AccountInfo, AuthenticationResult } from "@azure/msal-browser";
import { useRouter } from "next/navigation";
import type { InventoryItem } from "@/types/inventory";

const isMock =
  process.env.NEXT_PUBLIC_USE_MOCK_INVENTORY === "true" ||
  process.env.USE_MOCK_INVENTORY === "true";

const API_SCOPE =
  process.env.NEXT_PUBLIC_AZURE_API_SCOPE ||
  process.env.AZURE_API_SCOPE ||
  "";

// Minimal result shape used by the UI
type SearchResult = Pick<InventoryItem, "asset" | "model" | "userLocation" | "status">;

function isDigitsOnly(s: string): boolean {
  return /^[0-9]+$/.test(s);
}

function escapeRegExp(s: string) {
  return s.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
}

function Highlight({ text, tokens }: { text: string | number; tokens: string[] }) {
  const str = String(text ?? "");
  if (!tokens.length || !str) return <>{str}</>;
  const escaped = tokens.filter(Boolean).map(escapeRegExp);
  if (!escaped.length) return <>{str}</>;
  const regex = new RegExp(`(${escaped.join("|")})`, "ig");
  const parts = str.split(regex);
  return (
    <>
      {parts.map((part, i) => {
        const isMatch = tokens.some((t) => part.toLowerCase() === t.toLowerCase());
        return isMatch ? (
          <span key={i} className="font-semibold bg-yellow-200 dark:bg-yellow-800/40 rounded-sm px-0.5">
            {part}
          </span>
        ) : (
          <React.Fragment key={i}>{part}</React.Fragment>
        );
      })}
    </>
  );
}

export function SearchCommand({ className }: { className?: string }) {
  const router = useRouter();
  const { instance, accounts } = useMsal();
  const [msalReady, setMsalReady] = React.useState(false);
  const [needsLogin, setNeedsLogin] = React.useState(false);
  const triggerLogin = React.useCallback(async () => {
    if (!API_SCOPE) return;
    try {
      await instance.initialize();
    } catch {
      // ignore
    }
    await instance.loginRedirect({ scopes: [API_SCOPE] });
  }, [instance]);

  const containerRef = React.useRef<HTMLDivElement>(null);
  const anchorRef = React.useRef<HTMLDivElement>(null);
  const overlayRef = React.useRef<HTMLDivElement>(null);

  const [value, setValue] = React.useState("");
  const trimmed = value.trim();
  const isNumericQuery = trimmed.length > 0 && isDigitsOnly(trimmed);
  const isOpen = trimmed.length > 0;
  const tokens = React.useMemo(() => (trimmed ? trimmed.split(/\s+/) : []), [trimmed]);

  const [results, setResults] = React.useState<SearchResult[]>([]);
  const [loading, setLoading] = React.useState(false);
  const [apiError, setApiError] = React.useState<string | null>(null);

  // Candidate labels for simple prefix autocompletion.
  const actions = React.useMemo(() => ["Create Item", "Import CSV", "Export CSV"], []);
  const navigation = React.useMemo(
    () => ["Home", "Inventory", "Orders", "Reports", "Settings"],
    []
  );
  const allLabels = React.useMemo(() => [...actions, ...navigation], [actions, navigation]);

  const suggestion = React.useMemo(() => {
    const v = trimmed;
    if (!v) return "";
    const lower = v.toLowerCase();
    return allLabels.find((l) => l.toLowerCase().startsWith(lower)) ?? "";
  }, [trimmed, allLabels]);

  const activeAccount = React.useMemo<AccountInfo | null>(() => {
    return instance.getActiveAccount() || accounts[0] || null;
  }, [instance, accounts]);

  React.useEffect(() => {
    let cancelled = false;
    (async () => {
      try {
        await instance.initialize();
      } catch {
        // ignore init error
      }
      if (!cancelled) setMsalReady(true);
    })();
    const t = setTimeout(() => {
      if (!cancelled) setMsalReady(true);
    }, 1500);
    return () => {
      cancelled = true;
      clearTimeout(t);
    };
  }, [instance]);

  // Positioning for overlay dropdown (portal)
  const [overlayPos, setOverlayPos] = React.useState<{ left: number; top: number; width: number } | null>(null);
  const updateOverlayPos = React.useCallback(() => {
    const el = anchorRef.current;
    if (!el) return;
    const r = el.getBoundingClientRect();
    setOverlayPos({ left: r.left, top: r.bottom + 4, width: r.width }); // 4px offset
  }, []);

  React.useEffect(() => {
    if (!isOpen) return;
    updateOverlayPos();
    const onScrollOrResize = () => updateOverlayPos();

    window.addEventListener("resize", onScrollOrResize);
    window.addEventListener("scroll", onScrollOrResize, true);

    return () => {
      window.removeEventListener("resize", onScrollOrResize);
      window.removeEventListener("scroll", onScrollOrResize, true);
    };
  }, [isOpen, updateOverlayPos]);

  // Close on outside click (including overlay)
  React.useEffect(() => {
    function onDocMouseDown(e: MouseEvent) {
      const target = e.target as Node;
      if (containerRef.current?.contains(target)) return;
      if (overlayRef.current?.contains(target)) return;
      // Clicked outside both input container and overlay
      setValue("");
      setResults([]);
      setApiError(null);
    }
    document.addEventListener("mousedown", onDocMouseDown);
    return () => document.removeEventListener("mousedown", onDocMouseDown);
  }, []);

  // Debounced search to backend when numeric query is present
  const abortRef = React.useRef<AbortController | null>(null);
  React.useEffect(() => {
    // Clear previous results on query change
    setApiError(null);

    if (!isNumericQuery) {
      setResults([]);
      setLoading(false);
      if (abortRef.current) abortRef.current.abort();
      return;
    }

    const controller = new AbortController();
    abortRef.current = controller;

    const doSearch = async () => {
      setLoading(true);
      try {
        let headers: HeadersInit = {};
        if (!isMock) {
          if (!API_SCOPE) {
            setApiError("Missing API scope");
            setLoading(false);
            return;
          }
          if (!msalReady || !activeAccount) {
            setNeedsLogin(true);
            setLoading(false);
            return;
          }
          // Try silent token; do not force login from this component
          try {
            const result = (await instance.acquireTokenSilent({
              scopes: [API_SCOPE],
              account: activeAccount || undefined,
              forceRefresh: false,
            })) as AuthenticationResult;
            headers = { Authorization: `Bearer ${result.accessToken}` };
          } catch {
            setNeedsLogin(true);
            setLoading(false);
            return;
          }
        }

        const params = new URLSearchParams();
        params.set("q", trimmed);
        params.set("top", "10");

        const res = await fetch(`/api/inventory/search?${params.toString()}`, {
          method: "GET",
          headers,
          signal: controller.signal,
          cache: "no-store",
        });
        if (!res.ok) {
          if (res.status === 401) {
            setNeedsLogin(true);
            setResults([]);
            setLoading(false);
            return;
          }
          const text = await res.text();
          throw new Error(`Search ${res.status}: ${text}`);
        }
        const data = (await res.json()) as SearchResult[];
        setResults(data || []);
        setLoading(false);
      } catch (e) {
        if (e instanceof DOMException && e.name === "AbortError") return;
        setApiError(e instanceof Error ? e.message : "Search failed");
        setLoading(false);
      }
    };

    const t = setTimeout(doSearch, 250); // debounce
    return () => {
      clearTimeout(t);
      controller.abort();
    };
  }, [trimmed, isNumericQuery, instance, activeAccount, msalReady]);

  return (
    <div ref={containerRef} className={cn("w-full", className)}>
      <Command
        className={cn(
          // input-like chrome
          "border rounded-md bg-background shadow-sm transition-[box-shadow]",
          // ring when focused/open
          "focus-within:ring-1 focus-within:ring-ring/50",
          // normalize heights; hide internal divider when closed
          "[&_[data-slot=command-input-wrapper]]:h-10 [&_[data-slot=command-input]]:h-10",
          isOpen ? "ring-2 ring-ring/50" : "[&_[data-slot=command-input-wrapper]]:border-0"
        )}>
        {/* Anchor strictly around the input wrapper for accurate overlay positioning */}
        <div ref={anchorRef} className="relative">
          <CommandInput
            value={value}
            onValueChange={(v) => {
              setValue(v);
              if (!v.trim()) {
                setResults([]);
                setApiError(null);
              }
            }}
            placeholder="Search inventory or actions…"
            onKeyDown={(e) => {
              // Accept autocompletion with Tab or ArrowRight when caret is at the end
              if ((e.key === "Tab" || e.key === "ArrowRight") && suggestion) {
                const t = e.currentTarget as HTMLInputElement;
                const atEnd =
                  t.selectionStart === t.value.length && t.selectionEnd === t.value.length;
                if (atEnd) {
                  e.preventDefault();
                  setValue(suggestion);
                  return;
                }
              }
              if (e.key === "Escape") {
                setValue("");
                setResults([]);
                setApiError(null);
              }
              if (e.key === "Enter") {
                const v = (e.currentTarget as HTMLInputElement).value.trim();
                if (isDigitsOnly(v)) {
                  // Navigate directly to asset page
                  router.push(`/asset/${v}`);
                  setValue("");
                  setResults([]);
                }
              }
            }}
            // Do not open on focus alone; only typing opens it
            onFocus={() => {
              // no-op
            }}
          />

          {/* Ghost autocompletion overlay.
              Offset left to account for: px-3 (12px) + icon (16px) + gap-2 (8px) = 36px (pl-9) */}
          {value && suggestion && suggestion.toLowerCase().startsWith(trimmed.toLowerCase()) && (
            <div className="pointer-events-none absolute inset-0 flex items-center pl-9 pr-3">
              <div className="relative w-full text-sm text-muted-foreground/50 whitespace-nowrap overflow-hidden">
                <span className="invisible">{value}</span>
                <span>{suggestion.slice(value.length)}</span>
              </div>
            </div>
          )}
        </div>

        {/* Results list is rendered in a portal as an overlay so it does not affect layout */}
        {isOpen &&
          overlayPos &&
          typeof document !== "undefined" &&
          createPortal(
            <div
              ref={overlayRef}
              style={{
                position: "fixed",
                left: overlayPos.left,
                top: overlayPos.top,
                width: overlayPos.width,
              }}
              className="z-50"
            >
              <div className="bg-popover text-popover-foreground border rounded-md shadow-lg overflow-hidden">
                <CommandList>
                  <CommandEmpty>No results found.</CommandEmpty>

                  {/* Asset results (only when numeric query) */}
                  {isNumericQuery && (
                    <>
                      <CommandGroup heading="Assets">
                        {/* Direct navigation option */}
                        <CommandItem
                          key={`open-${trimmed}`}
                          onSelect={() => {
                            router.push(`/asset/${trimmed}`);
                            setValue("");
                            setResults([]);
                          }}
                        >
                          <>Open asset <Highlight text={trimmed} tokens={tokens} /></>
                        </CommandItem>
                        {/* Auth prompt when needed */}
                        {!isMock && needsLogin && (
                          <CommandItem
                            key="signin"
                            onSelect={() => {
                              void triggerLogin();
                            }}
                          >
                            Sign in to search
                          </CommandItem>
                        )}
                        {loading && <CommandItem disabled>Searching…</CommandItem>}
                        {!loading && apiError && (
                          <CommandItem disabled className="text-destructive">
                            {apiError}
                          </CommandItem>
                        )}
                        {!loading &&
                          !apiError &&
                          results.map((r) => (
                            <CommandItem
                              key={r.asset}
                              onSelect={() => {
                                router.push(`/asset/${r.asset}`);
                                setValue("");
                                setResults([]);
                              }}
                            >
                              <span className="font-mono text-xs mr-2">
                                <Highlight text={r.asset} tokens={tokens} />
                              </span>
                              <span className="font-medium">
                                <Highlight text={r.model} tokens={tokens} />
                              </span>
                              <span className="mx-2 text-muted-foreground">—</span>
                              <span className="text-muted-foreground">
                                <Highlight text={r.userLocation} tokens={tokens} />
                              </span>
                            </CommandItem>
                          ))}
                        {!loading && !apiError && results.length === 0 && (
                          <CommandItem disabled>No matching assets</CommandItem>
                        )}
                      </CommandGroup>
                      <CommandSeparator />
                    </>
                  )}

                  <CommandGroup heading="Actions">
                    {actions.map((label) => (
                      <CommandItem key={label}>{label}</CommandItem>
                    ))}
                  </CommandGroup>

                  <CommandSeparator />

                  <CommandGroup heading="Navigation">
                    {navigation.map((label) => (
                      <CommandItem key={label}>{label}</CommandItem>
                    ))}
                  </CommandGroup>
                </CommandList>
              </div>
            </div>,
            document.body
          )}
      </Command>
    </div>
  );
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/components/ui/alert-dialog.tsx ====
BEGIN_CONTENT
"use client"

import * as React from "react"
import * as AlertDialogPrimitive from "@radix-ui/react-alert-dialog"
import { cn } from "@/lib/utils"

function AlertDialog({
  ...props
}: React.ComponentProps<typeof AlertDialogPrimitive.Root>) {
  return <AlertDialogPrimitive.Root data-slot="alert-dialog" {...props} />
}

function AlertDialogTrigger({
  ...props
}: React.ComponentProps<typeof AlertDialogPrimitive.Trigger>) {
  return <AlertDialogPrimitive.Trigger data-slot="alert-dialog-trigger" {...props} />
}

function AlertDialogPortal({
  ...props
}: React.ComponentProps<typeof AlertDialogPrimitive.Portal>) {
  return <AlertDialogPrimitive.Portal data-slot="alert-dialog-portal" {...props} />
}

function AlertDialogOverlay({
  className,
  ...props
}: React.ComponentProps<typeof AlertDialogPrimitive.Overlay>) {
  return (
    <AlertDialogPrimitive.Overlay
      data-slot="alert-dialog-overlay"
      className={cn(
        "data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50 backdrop-blur-sm",
        className
      )}
      {...props}
    />
  )
}

function AlertDialogContent({
  className,
  children,
  ...props
}: React.ComponentProps<typeof AlertDialogPrimitive.Content>) {
  return (
    <AlertDialogPortal data-slot="alert-dialog-portal">
      <AlertDialogOverlay />
      <AlertDialogPrimitive.Content
        data-slot="alert-dialog-content"
        className={cn(
          "bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",
          className
        )}
        {...props}
      >
        {children}
      </AlertDialogPrimitive.Content>
    </AlertDialogPortal>
  )
}

function AlertDialogHeader({
  className,
  ...props
}: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="alert-dialog-header"
      className={cn("flex flex-col gap-2 text-center sm:text-left", className)}
      {...props}
    />
  )
}

function AlertDialogFooter({
  className,
  ...props
}: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="alert-dialog-footer"
      className={cn(
        "flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",
        className
      )}
      {...props}
    />
  )
}

function AlertDialogTitle({
  className,
  ...props
}: React.ComponentProps<typeof AlertDialogPrimitive.Title>) {
  return (
    <AlertDialogPrimitive.Title
      data-slot="alert-dialog-title"
      className={cn("text-lg leading-none font-semibold", className)}
      {...props}
    />
  )
}

function AlertDialogDescription({
  className,
  ...props
}: React.ComponentProps<typeof AlertDialogPrimitive.Description>) {
  return (
    <AlertDialogPrimitive.Description
      data-slot="alert-dialog-description"
      className={cn("text-muted-foreground text-sm", className)}
      {...props}
    />
  )
}

function AlertDialogAction({
  className,
  ...props
}: React.ComponentProps<typeof AlertDialogPrimitive.Action>) {
  return (
    <AlertDialogPrimitive.Action
      data-slot="alert-dialog-action"
      className={cn(
        "inline-flex h-9 items-center justify-center whitespace-nowrap rounded-md bg-foreground px-4 text-sm font-medium text-background shadow-xs transition-colors hover:bg-foreground/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",
        className
      )}
      {...props}
    />
  )
}

function AlertDialogCancel({
  className,
  ...props
}: React.ComponentProps<typeof AlertDialogPrimitive.Cancel>) {
  return (
    <AlertDialogPrimitive.Cancel
      data-slot="alert-dialog-cancel"
      className={cn(
        "inline-flex h-9 items-center justify-center whitespace-nowrap rounded-md border bg-background px-4 text-sm font-medium shadow-xs transition-colors hover:bg-accent hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",
        className
      )}
      {...props}
    />
  )
}

export {
  AlertDialog,
  AlertDialogAction,
  AlertDialogCancel,
  AlertDialogContent,
  AlertDialogDescription,
  AlertDialogFooter,
  AlertDialogHeader,
  AlertDialogOverlay,
  AlertDialogPortal,
  AlertDialogTitle,
  AlertDialogTrigger,
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/components/ui/badge.tsx ====
BEGIN_CONTENT
import * as React from "react"
import { Slot } from "@radix-ui/react-slot"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const badgeVariants = cva(
  "inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",
  {
    variants: {
      variant: {
        default:
          "border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",
        secondary:
          "border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",
        destructive:
          "border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",
        checkin:
          "border-transparent bg-sky-500 text-white [a&]:hover:bg-sky-500/90 focus-visible:ring-sky-500/20",
        checkout:
          "border-transparent bg-emerald-600 text-white [a&]:hover:bg-emerald-600/90 focus-visible:ring-emerald-600/20",
        outline:
          "text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",
      },
    },
    defaultVariants: {
      variant: "default",
    },
  }
)

function Badge({
  className,
  variant,
  asChild = false,
  ...props
}: React.ComponentProps<"span"> &
  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {
  const Comp = asChild ? Slot : "span"

  return (
    <Comp
      data-slot="badge"
      className={cn(badgeVariants({ variant }), className)}
      {...props}
    />
  )
}

export { Badge, badgeVariants }
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/components/ui/button-group.tsx ====
BEGIN_CONTENT
"use client";

import * as React from "react";
import { Button } from "@/components/ui/button";
import { cn } from "@/lib/utils";

type ColorKey = "ready" | "deployed" | "retired";

type ButtonGroupOption = {
  label: string;
  value: string;
  color: ColorKey;
  testId?: string;
};

type ButtonGroupProps = {
  value: string;
  onChange: (value: string) => void;
  options: ButtonGroupOption[];
  ariaLabel?: string;
  className?: string;
};

/**
 * Accessible radio-style button group built with shadcn/ui Button
 * - Uses role="radiogroup" and role="radio" for a11y parity with radios.
 * - ArrowLeft/ArrowRight switch the selected option.
 * - Hover styles rely on default Button variant. Selected style is applied inline so it remains stable on hover.
 */
const COLOR_STYLES: Record<ColorKey, { bg: string; text: string }> = {
  ready: { bg: "rgba(0,166,244,0.3)", text: "#00A6F4" },     // Ready to Deploy
  deployed: { bg: "rgba(0,188,125,0.3)", text: "#00BC7D" },  // Deployed
  retired: { bg: "rgba(239,68,68,0.3)", text: "#EF4444" },   // Retired
};

const COLOR_INTERACTIONS: Record<ColorKey, { hoverRing: string; focusRing: string }> = {
  ready: { hoverRing: "hover:ring-sky-300/40", focusRing: "focus-visible:ring-sky-400" },
  deployed: { hoverRing: "hover:ring-emerald-300/40", focusRing: "focus-visible:ring-emerald-400" },
  retired: { hoverRing: "hover:ring-red-300/40", focusRing: "focus-visible:ring-red-400" },
};

export function ButtonGroup({
  value,
  onChange,
  options,
  ariaLabel,
  className,
}: ButtonGroupProps) {
  const baseId = React.useId();

  const selectedIndex = Math.max(
    0,
    options.findIndex((o) => o.value === value)
  );

  function focusIndex(idx: number) {
    const el = document.getElementById(`${baseId}-${idx}`) as HTMLButtonElement | null;
    if (el) el.focus();
  }

  function handleKeyDown(e: React.KeyboardEvent<HTMLDivElement>) {
    if (e.key !== "ArrowLeft" && e.key !== "ArrowRight") return;
    e.preventDefault();
    const dir = e.key === "ArrowRight" ? 1 : -1;
    const len = options.length;
    const current = selectedIndex >= 0 ? selectedIndex : 0;
    const next = (current + dir + len) % len;
    onChange(options[next].value);
    // Move focus to the newly selected button for roving tabindex UX
    requestAnimationFrame(() => focusIndex(next));
  }

  return (
    <div
      role="radiogroup"
      aria-label={ariaLabel}
      className={cn("inline-flex items-center gap-2", className)}
      onKeyDown={handleKeyDown}
    >
      {options.map((opt, i) => {
        const selected = value === opt.value;
        const colors = COLOR_STYLES[opt.color];
        const interactions = COLOR_INTERACTIONS[opt.color];
        return (
          <Button
            key={opt.value}
            id={`${baseId}-${i}`}
            role="radio"
            aria-checked={selected}
            tabIndex={selected ? 0 : -1}
            variant="outline"
            size="sm"
            data-selected={selected ? "true" : "false"}
            data-testid={opt.testId}
            className={cn(
              "rounded-full px-4 py-1.5 border",
              "text-sm",
              "transition-all duration-200 ease-out hover:bg-accent/80 hover:shadow-sm hover:ring-1 focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:outline-none",
              interactions.hoverRing,
              interactions.focusRing,
              !selected && "bg-background",
              selected && "border-transparent"
            )}
            // Inline style ensures selected color is stable and not overridden by hover classes
            style={selected ? { backgroundColor: colors.bg, color: colors.text } : undefined}
            onClick={() => onChange(opt.value)}
          >
            {opt.label}
          </Button>
        );
      })}
    </div>
  );
}

export type { ButtonGroupProps, ButtonGroupOption, ColorKey };
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/components/ui/button.tsx ====
BEGIN_CONTENT
import * as React from "react"
import { Slot } from "@radix-ui/react-slot"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const buttonVariants = cva(
  "inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",
  {
    variants: {
      variant: {
        default:
          "bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",
        destructive:
          "bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",
        outline:
          "border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",
        secondary:
          "bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",
        ghost:
          "hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",
        link: "text-primary underline-offset-4 hover:underline",
      },
      size: {
        default: "h-9 px-4 py-2 has-[>svg]:px-3",
        sm: "h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",
        lg: "h-10 rounded-md px-6 has-[>svg]:px-4",
        icon: "size-9",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  }
)

function Button({
  className,
  variant,
  size,
  asChild = false,
  ...props
}: React.ComponentProps<"button"> &
  VariantProps<typeof buttonVariants> & {
    asChild?: boolean
  }) {
  const Comp = asChild ? Slot : "button"

  return (
    <Comp
      data-slot="button"
      className={cn(buttonVariants({ variant, size, className }))}
      {...props}
    />
  )
}

export { Button, buttonVariants }
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/components/ui/card.tsx ====
BEGIN_CONTENT
import * as React from "react"

import { cn } from "@/lib/utils"

function Card({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card"
      className={cn(
        "bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",
        className
      )}
      {...props}
    />
  )
}

function CardHeader({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-header"
      className={cn(
        "@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",
        className
      )}
      {...props}
    />
  )
}

function CardTitle({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-title"
      className={cn("leading-none font-semibold", className)}
      {...props}
    />
  )
}

function CardDescription({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-description"
      className={cn("text-muted-foreground text-sm", className)}
      {...props}
    />
  )
}

function CardAction({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-action"
      className={cn(
        "col-start-2 row-span-2 row-start-1 self-start justify-self-end",
        className
      )}
      {...props}
    />
  )
}

function CardContent({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-content"
      className={cn("px-6", className)}
      {...props}
    />
  )
}

function CardFooter({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-footer"
      className={cn("flex items-center px-6 [.border-t]:pt-6", className)}
      {...props}
    />
  )
}

export {
  Card,
  CardHeader,
  CardFooter,
  CardTitle,
  CardAction,
  CardDescription,
  CardContent,
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/components/ui/checkbox.tsx ====
BEGIN_CONTENT
"use client"

import * as React from "react"
import * as CheckboxPrimitive from "@radix-ui/react-checkbox"
import { CheckIcon } from "lucide-react"

import { cn } from "@/lib/utils"

function Checkbox({
  className,
  ...props
}: React.ComponentProps<typeof CheckboxPrimitive.Root>) {
  return (
    <CheckboxPrimitive.Root
      data-slot="checkbox"
      className={cn(
        "peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",
        className
      )}
      {...props}
    >
      <CheckboxPrimitive.Indicator
        data-slot="checkbox-indicator"
        className="flex items-center justify-center text-current transition-none"
      >
        <CheckIcon className="size-3.5" />
      </CheckboxPrimitive.Indicator>
    </CheckboxPrimitive.Root>
  )
}

export { Checkbox }
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/components/ui/command.tsx ====
BEGIN_CONTENT
"use client"

import * as React from "react"
import { Command as CommandPrimitive } from "cmdk"
import { SearchIcon } from "lucide-react"

import { cn } from "@/lib/utils"
import {
  Dialog,
  DialogContent,
  DialogDescription,
  DialogHeader,
  DialogTitle,
} from "@/components/ui/dialog"

function Command({
  className,
  ...props
}: React.ComponentProps<typeof CommandPrimitive>) {
  return (
    <CommandPrimitive
      data-slot="command"
      className={cn(
        "bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",
        className
      )}
      {...props}
    />
  )
}

function CommandDialog({
  title = "Command Palette",
  description = "Search for a command to run...",
  children,
  className,
  showCloseButton = true,
  ...props
}: React.ComponentProps<typeof Dialog> & {
  title?: string
  description?: string
  className?: string
  showCloseButton?: boolean
}) {
  return (
    <Dialog {...props}>
      <DialogHeader className="sr-only">
        <DialogTitle>{title}</DialogTitle>
        <DialogDescription>{description}</DialogDescription>
      </DialogHeader>
      <DialogContent
        className={cn("overflow-hidden p-0", className)}
        showCloseButton={showCloseButton}
      >
        <Command className="[&_[cmdk-group-heading]]:text-muted-foreground **:data-[slot=command-input-wrapper]:h-12 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group]]:px-2 [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5">
          {children}
        </Command>
      </DialogContent>
    </Dialog>
  )
}

function CommandInput({
  className,
  ...props
}: React.ComponentProps<typeof CommandPrimitive.Input>) {
  return (
    <div
      data-slot="command-input-wrapper"
      className="flex h-9 items-center gap-2 border-b px-3"
    >
      <SearchIcon className="size-4 shrink-0 opacity-50" />
      <CommandPrimitive.Input
        data-slot="command-input"
        className={cn(
          "placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",
          className
        )}
        {...props}
      />
    </div>
  )
}

function CommandList({
  className,
  ...props
}: React.ComponentProps<typeof CommandPrimitive.List>) {
  return (
    <CommandPrimitive.List
      data-slot="command-list"
      className={cn(
        "max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",
        className
      )}
      {...props}
    />
  )
}

function CommandEmpty({
  ...props
}: React.ComponentProps<typeof CommandPrimitive.Empty>) {
  return (
    <CommandPrimitive.Empty
      data-slot="command-empty"
      className="py-6 text-center text-sm"
      {...props}
    />
  )
}

function CommandGroup({
  className,
  ...props
}: React.ComponentProps<typeof CommandPrimitive.Group>) {
  return (
    <CommandPrimitive.Group
      data-slot="command-group"
      className={cn(
        "text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",
        className
      )}
      {...props}
    />
  )
}

function CommandSeparator({
  className,
  ...props
}: React.ComponentProps<typeof CommandPrimitive.Separator>) {
  return (
    <CommandPrimitive.Separator
      data-slot="command-separator"
      className={cn("bg-border -mx-1 h-px", className)}
      {...props}
    />
  )
}

function CommandItem({
  className,
  ...props
}: React.ComponentProps<typeof CommandPrimitive.Item>) {
  return (
    <CommandPrimitive.Item
      data-slot="command-item"
      className={cn(
        "data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className
      )}
      {...props}
    />
  )
}

function CommandShortcut({
  className,
  ...props
}: React.ComponentProps<"span">) {
  return (
    <span
      data-slot="command-shortcut"
      className={cn(
        "text-muted-foreground ml-auto text-xs tracking-widest",
        className
      )}
      {...props}
    />
  )
}

export {
  Command,
  CommandDialog,
  CommandInput,
  CommandList,
  CommandEmpty,
  CommandGroup,
  CommandItem,
  CommandShortcut,
  CommandSeparator,
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/components/ui/dialog.tsx ====
BEGIN_CONTENT
"use client"

import * as React from "react"
import * as DialogPrimitive from "@radix-ui/react-dialog"
import { XIcon } from "lucide-react"

import { cn } from "@/lib/utils"

function Dialog({
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Root>) {
  return <DialogPrimitive.Root data-slot="dialog" {...props} />
}

function DialogTrigger({
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {
  return <DialogPrimitive.Trigger data-slot="dialog-trigger" {...props} />
}

function DialogPortal({
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Portal>) {
  return <DialogPrimitive.Portal data-slot="dialog-portal" {...props} />
}

function DialogClose({
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Close>) {
  return <DialogPrimitive.Close data-slot="dialog-close" {...props} />
}

function DialogOverlay({
  className,
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {
  return (
    <DialogPrimitive.Overlay
      data-slot="dialog-overlay"
      className={cn(
        "data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50 backdrop-blur-sm",
        className
      )}
      {...props}
    />
  )
}

function DialogContent({
  className,
  children,
  showCloseButton = true,
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Content> & {
  showCloseButton?: boolean
}) {
  return (
    <DialogPortal data-slot="dialog-portal">
      <DialogOverlay />
      <DialogPrimitive.Content
        data-slot="dialog-content"
        className={cn(
          "bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",
          className
        )}
        {...props}
      >
        {children}
        {showCloseButton && (
          <DialogPrimitive.Close
            data-slot="dialog-close"
            className="ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4"
          >
            <XIcon />
            <span className="sr-only">Close</span>
          </DialogPrimitive.Close>
        )}
      </DialogPrimitive.Content>
    </DialogPortal>
  )
}

function DialogHeader({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="dialog-header"
      className={cn("flex flex-col gap-2 text-center sm:text-left", className)}
      {...props}
    />
  )
}

function DialogFooter({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="dialog-footer"
      className={cn(
        "flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",
        className
      )}
      {...props}
    />
  )
}

function DialogTitle({
  className,
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Title>) {
  return (
    <DialogPrimitive.Title
      data-slot="dialog-title"
      className={cn("text-lg leading-none font-semibold", className)}
      {...props}
    />
  )
}

function DialogDescription({
  className,
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Description>) {
  return (
    <DialogPrimitive.Description
      data-slot="dialog-description"
      className={cn("text-muted-foreground text-sm", className)}
      {...props}
    />
  )
}

export {
  Dialog,
  DialogClose,
  DialogContent,
  DialogDescription,
  DialogFooter,
  DialogHeader,
  DialogOverlay,
  DialogPortal,
  DialogTitle,
  DialogTrigger,
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/components/ui/dropdown-menu.tsx ====
BEGIN_CONTENT
"use client"

import * as React from "react"
import * as DropdownMenuPrimitive from "@radix-ui/react-dropdown-menu"
import { CheckIcon, ChevronRightIcon, CircleIcon } from "lucide-react"

import { cn } from "@/lib/utils"

function DropdownMenu({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Root>) {
  return <DropdownMenuPrimitive.Root data-slot="dropdown-menu" {...props} />
}

function DropdownMenuPortal({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Portal>) {
  return (
    <DropdownMenuPrimitive.Portal data-slot="dropdown-menu-portal" {...props} />
  )
}

function DropdownMenuTrigger({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Trigger>) {
  return (
    <DropdownMenuPrimitive.Trigger
      data-slot="dropdown-menu-trigger"
      {...props}
    />
  )
}

function DropdownMenuContent({
  className,
  sideOffset = 4,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Content>) {
  return (
    <DropdownMenuPrimitive.Portal>
      <DropdownMenuPrimitive.Content
        data-slot="dropdown-menu-content"
        sideOffset={sideOffset}
        className={cn(
          "bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",
          className
        )}
        {...props}
      />
    </DropdownMenuPrimitive.Portal>
  )
}

function DropdownMenuGroup({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Group>) {
  return (
    <DropdownMenuPrimitive.Group data-slot="dropdown-menu-group" {...props} />
  )
}

function DropdownMenuItem({
  className,
  inset,
  variant = "default",
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Item> & {
  inset?: boolean
  variant?: "default" | "destructive"
}) {
  return (
    <DropdownMenuPrimitive.Item
      data-slot="dropdown-menu-item"
      data-inset={inset}
      data-variant={variant}
      className={cn(
        "focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className
      )}
      {...props}
    />
  )
}

function DropdownMenuCheckboxItem({
  className,
  children,
  checked,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.CheckboxItem>) {
  return (
    <DropdownMenuPrimitive.CheckboxItem
      data-slot="dropdown-menu-checkbox-item"
      className={cn(
        "focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className
      )}
      checked={checked}
      {...props}
    >
      <span className="pointer-events-none absolute left-2 flex size-3.5 items-center justify-center">
        <DropdownMenuPrimitive.ItemIndicator>
          <CheckIcon className="size-4" />
        </DropdownMenuPrimitive.ItemIndicator>
      </span>
      {children}
    </DropdownMenuPrimitive.CheckboxItem>
  )
}

function DropdownMenuRadioGroup({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioGroup>) {
  return (
    <DropdownMenuPrimitive.RadioGroup
      data-slot="dropdown-menu-radio-group"
      {...props}
    />
  )
}

function DropdownMenuRadioItem({
  className,
  children,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioItem>) {
  return (
    <DropdownMenuPrimitive.RadioItem
      data-slot="dropdown-menu-radio-item"
      className={cn(
        "focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className
      )}
      {...props}
    >
      <span className="pointer-events-none absolute left-2 flex size-3.5 items-center justify-center">
        <DropdownMenuPrimitive.ItemIndicator>
          <CircleIcon className="size-2 fill-current" />
        </DropdownMenuPrimitive.ItemIndicator>
      </span>
      {children}
    </DropdownMenuPrimitive.RadioItem>
  )
}

function DropdownMenuLabel({
  className,
  inset,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Label> & {
  inset?: boolean
}) {
  return (
    <DropdownMenuPrimitive.Label
      data-slot="dropdown-menu-label"
      data-inset={inset}
      className={cn(
        "px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",
        className
      )}
      {...props}
    />
  )
}

function DropdownMenuSeparator({
  className,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Separator>) {
  return (
    <DropdownMenuPrimitive.Separator
      data-slot="dropdown-menu-separator"
      className={cn("bg-border -mx-1 my-1 h-px", className)}
      {...props}
    />
  )
}

function DropdownMenuShortcut({
  className,
  ...props
}: React.ComponentProps<"span">) {
  return (
    <span
      data-slot="dropdown-menu-shortcut"
      className={cn(
        "text-muted-foreground ml-auto text-xs tracking-widest",
        className
      )}
      {...props}
    />
  )
}

function DropdownMenuSub({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Sub>) {
  return <DropdownMenuPrimitive.Sub data-slot="dropdown-menu-sub" {...props} />
}

function DropdownMenuSubTrigger({
  className,
  inset,
  children,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.SubTrigger> & {
  inset?: boolean
}) {
  return (
    <DropdownMenuPrimitive.SubTrigger
      data-slot="dropdown-menu-sub-trigger"
      data-inset={inset}
      className={cn(
        "focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex cursor-default items-center rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8",
        className
      )}
      {...props}
    >
      {children}
      <ChevronRightIcon className="ml-auto size-4" />
    </DropdownMenuPrimitive.SubTrigger>
  )
}

function DropdownMenuSubContent({
  className,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.SubContent>) {
  return (
    <DropdownMenuPrimitive.SubContent
      data-slot="dropdown-menu-sub-content"
      className={cn(
        "bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg",
        className
      )}
      {...props}
    />
  )
}

export {
  DropdownMenu,
  DropdownMenuPortal,
  DropdownMenuTrigger,
  DropdownMenuContent,
  DropdownMenuGroup,
  DropdownMenuLabel,
  DropdownMenuItem,
  DropdownMenuCheckboxItem,
  DropdownMenuRadioGroup,
  DropdownMenuRadioItem,
  DropdownMenuSeparator,
  DropdownMenuShortcut,
  DropdownMenuSub,
  DropdownMenuSubTrigger,
  DropdownMenuSubContent,
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/components/ui/inline-loader.tsx ====
BEGIN_CONTENT
"use client";

import * as React from "react";
import { Spinner } from "@/components/ui/spinner";
import { cn } from "@/lib/utils";

export type InlineLoaderProps = {
  label?: string | null;
  size?: "sm" | "md" | "lg";
  className?: string;
};

export function InlineLoader({ label = "Loading…", size = "sm", className }: InlineLoaderProps) {
  return (
    <div className={cn("inline-flex items-center gap-2 text-muted-foreground", className)} aria-live="polite">
      <Spinner size={size} />
      {label ? <span>{label}</span> : null}
    </div>
  );
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/components/ui/input.tsx ====
BEGIN_CONTENT
import * as React from "react"

import { cn } from "@/lib/utils"

function Input({ className, type, ...props }: React.ComponentProps<"input">) {
  return (
    <input
      type={type}
      data-slot="input"
      className={cn(
        "file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",
        "focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]",
        "aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",
        className
      )}
      {...props}
    />
  )
}

export { Input }
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/components/ui/label.tsx ====
BEGIN_CONTENT
"use client"

import * as React from "react"
import * as LabelPrimitive from "@radix-ui/react-label"

import { cn } from "@/lib/utils"

function Label({
  className,
  ...props
}: React.ComponentProps<typeof LabelPrimitive.Root>) {
  return (
    <LabelPrimitive.Root
      data-slot="label"
      className={cn(
        "flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",
        className
      )}
      {...props}
    />
  )
}

export { Label }
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/components/ui/scroll-area.tsx ====
BEGIN_CONTENT
"use client"

import * as React from "react"
import * as ScrollAreaPrimitive from "@radix-ui/react-scroll-area"

import { cn } from "@/lib/utils"

function ScrollArea({
  className,
  children,
  ...props
}: React.ComponentProps<typeof ScrollAreaPrimitive.Root>) {
  return (
    <ScrollAreaPrimitive.Root
      data-slot="scroll-area"
      className={cn("relative", className)}
      {...props}
    >
      <ScrollAreaPrimitive.Viewport
        data-slot="scroll-area-viewport"
        className="focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1"
      >
        {children}
      </ScrollAreaPrimitive.Viewport>
      <ScrollBar />
      <ScrollAreaPrimitive.Corner />
    </ScrollAreaPrimitive.Root>
  )
}

function ScrollBar({
  className,
  orientation = "vertical",
  ...props
}: React.ComponentProps<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>) {
  return (
    <ScrollAreaPrimitive.ScrollAreaScrollbar
      data-slot="scroll-area-scrollbar"
      orientation={orientation}
      className={cn(
        "flex touch-none p-px transition-colors select-none",
        orientation === "vertical" &&
          "h-full w-2.5 border-l border-l-transparent",
        orientation === "horizontal" &&
          "h-2.5 flex-col border-t border-t-transparent",
        className
      )}
      {...props}
    >
      <ScrollAreaPrimitive.ScrollAreaThumb
        data-slot="scroll-area-thumb"
        className="bg-border relative flex-1 rounded-full"
      />
    </ScrollAreaPrimitive.ScrollAreaScrollbar>
  )
}

export { ScrollArea, ScrollBar }
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/components/ui/separator.tsx ====
BEGIN_CONTENT
"use client"

import * as React from "react"
import * as SeparatorPrimitive from "@radix-ui/react-separator"

import { cn } from "@/lib/utils"

function Separator({
  className,
  orientation = "horizontal",
  decorative = true,
  ...props
}: React.ComponentProps<typeof SeparatorPrimitive.Root>) {
  return (
    <SeparatorPrimitive.Root
      data-slot="separator"
      decorative={decorative}
      orientation={orientation}
      className={cn(
        "bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",
        className
      )}
      {...props}
    />
  )
}

export { Separator }
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/components/ui/sheet.tsx ====
BEGIN_CONTENT
"use client"

import * as React from "react"
import * as SheetPrimitive from "@radix-ui/react-dialog"
import { XIcon } from "lucide-react"

import { cn } from "@/lib/utils"

function Sheet({ ...props }: React.ComponentProps<typeof SheetPrimitive.Root>) {
  return <SheetPrimitive.Root data-slot="sheet" {...props} />
}

function SheetTrigger({
  ...props
}: React.ComponentProps<typeof SheetPrimitive.Trigger>) {
  return <SheetPrimitive.Trigger data-slot="sheet-trigger" {...props} />
}

function SheetClose({
  ...props
}: React.ComponentProps<typeof SheetPrimitive.Close>) {
  return <SheetPrimitive.Close data-slot="sheet-close" {...props} />
}

function SheetPortal({
  ...props
}: React.ComponentProps<typeof SheetPrimitive.Portal>) {
  return <SheetPrimitive.Portal data-slot="sheet-portal" {...props} />
}

function SheetOverlay({
  className,
  ...props
}: React.ComponentProps<typeof SheetPrimitive.Overlay>) {
  return (
    <SheetPrimitive.Overlay
      data-slot="sheet-overlay"
      className={cn(
        "data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",
        className
      )}
      {...props}
    />
  )
}

function SheetContent({
  className,
  children,
  side = "right",
  ...props
}: React.ComponentProps<typeof SheetPrimitive.Content> & {
  side?: "top" | "right" | "bottom" | "left"
}) {
  return (
    <SheetPortal>
      <SheetOverlay />
      <SheetPrimitive.Content
        data-slot="sheet-content"
        className={cn(
          "bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",
          side === "right" &&
            "data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",
          side === "left" &&
            "data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",
          side === "top" &&
            "data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",
          side === "bottom" &&
            "data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",
          className
        )}
        {...props}
      >
        {children}
        <SheetPrimitive.Close className="ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none">
          <XIcon className="size-4" />
          <span className="sr-only">Close</span>
        </SheetPrimitive.Close>
      </SheetPrimitive.Content>
    </SheetPortal>
  )
}

function SheetHeader({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sheet-header"
      className={cn("flex flex-col gap-1.5 p-4", className)}
      {...props}
    />
  )
}

function SheetFooter({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sheet-footer"
      className={cn("mt-auto flex flex-col gap-2 p-4", className)}
      {...props}
    />
  )
}

function SheetTitle({
  className,
  ...props
}: React.ComponentProps<typeof SheetPrimitive.Title>) {
  return (
    <SheetPrimitive.Title
      data-slot="sheet-title"
      className={cn("text-foreground font-semibold", className)}
      {...props}
    />
  )
}

function SheetDescription({
  className,
  ...props
}: React.ComponentProps<typeof SheetPrimitive.Description>) {
  return (
    <SheetPrimitive.Description
      data-slot="sheet-description"
      className={cn("text-muted-foreground text-sm", className)}
      {...props}
    />
  )
}

export {
  Sheet,
  SheetTrigger,
  SheetClose,
  SheetContent,
  SheetHeader,
  SheetFooter,
  SheetTitle,
  SheetDescription,
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/components/ui/sidebar.tsx ====
BEGIN_CONTENT
"use client"

import * as React from "react"
import { Slot } from "@radix-ui/react-slot"
import { cva, VariantProps } from "class-variance-authority"
import { ChevronLeft, ChevronRight } from "lucide-react"

import { useIsMobile } from "@/hooks/use-mobile"
import { cn } from "@/lib/utils"
import { Button } from "@/components/ui/button"
import { Input } from "@/components/ui/input"
import { Separator } from "@/components/ui/separator"
import {
  Sheet,
  SheetContent,
  SheetDescription,
  SheetHeader,
  SheetTitle,
} from "@/components/ui/sheet"
import { Skeleton } from "@/components/ui/skeleton"
import {
  Tooltip,
  TooltipContent,
  TooltipProvider,
  TooltipTrigger,
} from "@/components/ui/tooltip"

const SIDEBAR_COOKIE_NAME = "sidebar_state"
const SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7
const SIDEBAR_WIDTH = "16rem"
const SIDEBAR_WIDTH_MOBILE = "18rem"
const SIDEBAR_WIDTH_ICON = "5rem"
const SIDEBAR_KEYBOARD_SHORTCUT = "b"

type SidebarContextProps = {
  state: "expanded" | "collapsed"
  open: boolean
  setOpen: (open: boolean) => void
  openMobile: boolean
  setOpenMobile: (open: boolean) => void
  isMobile: boolean
  toggleSidebar: () => void
}

const SidebarContext = React.createContext<SidebarContextProps | null>(null)

function useSidebar() {
  const context = React.useContext(SidebarContext)
  if (!context) {
    throw new Error("useSidebar must be used within a SidebarProvider.")
  }

  return context
}

function SidebarProvider({
  defaultOpen = true,
  open: openProp,
  onOpenChange: setOpenProp,
  className,
  style,
  children,
  ...props
}: React.ComponentProps<"div"> & {
  defaultOpen?: boolean
  open?: boolean
  onOpenChange?: (open: boolean) => void
}) {
  const isMobile = useIsMobile()
  const [openMobile, setOpenMobile] = React.useState(false)

  // This is the internal state of the sidebar.
  // We use openProp and setOpenProp for control from outside the component.
  const [_open, _setOpen] = React.useState(defaultOpen)
  const open = openProp ?? _open
  const setOpen = React.useCallback(
    (value: boolean | ((value: boolean) => boolean)) => {
      const openState = typeof value === "function" ? value(open) : value
      if (setOpenProp) {
        setOpenProp(openState)
      } else {
        _setOpen(openState)
      }

      // This sets the cookie to keep the sidebar state.
      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`
    },
    [setOpenProp, open]
  )

  // Helper to toggle the sidebar.
  const toggleSidebar = React.useCallback(() => {
    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open)
  }, [isMobile, setOpen, setOpenMobile])

  // Adds a keyboard shortcut to toggle the sidebar.
  React.useEffect(() => {
    const handleKeyDown = (event: KeyboardEvent) => {
      if (
        event.key === SIDEBAR_KEYBOARD_SHORTCUT &&
        (event.metaKey || event.ctrlKey)
      ) {
        event.preventDefault()
        toggleSidebar()
      }
    }

    window.addEventListener("keydown", handleKeyDown)
    return () => window.removeEventListener("keydown", handleKeyDown)
  }, [toggleSidebar])

  // We add a state so that we can do data-state="expanded" or "collapsed".
  // This makes it easier to style the sidebar with Tailwind classes.
  const state = open ? "expanded" : "collapsed"

  const contextValue = React.useMemo<SidebarContextProps>(
    () => ({
      state,
      open,
      setOpen,
      isMobile,
      openMobile,
      setOpenMobile,
      toggleSidebar,
    }),
    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]
  )

  return (
    <SidebarContext.Provider value={contextValue}>
      <TooltipProvider delayDuration={0}>
        <div
          data-slot="sidebar-wrapper"
          style={
            {
              "--sidebar-width": SIDEBAR_WIDTH,
              "--sidebar-width-icon": SIDEBAR_WIDTH_ICON,
              ...style,
            } as React.CSSProperties
          }
          className={cn(
            "group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full overflow-hidden",
            className
          )}
          {...props}
        >
          {children}
        </div>
      </TooltipProvider>
    </SidebarContext.Provider>
  )
}

function Sidebar({
  side = "left",
  variant = "sidebar",
  collapsible = "offcanvas",
  hoverExpand = false,
  className,
  children,
  ...props
}: React.ComponentProps<"div"> & {
  side?: "left" | "right"
  variant?: "sidebar" | "floating" | "inset"
  collapsible?: "offcanvas" | "icon" | "none"
  hoverExpand?: boolean
}) {
  const { isMobile, state, openMobile, setOpenMobile, setOpen } = useSidebar()

  if (collapsible === "none") {
    return (
      <div
        data-slot="sidebar"
        className={cn(
          "bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",
          className
        )}
        {...props}
      >
        {children}
      </div>
    )
  }

  if (isMobile) {
    return (
      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>
        <SheetContent
          data-sidebar="sidebar"
          data-slot="sidebar"
          data-mobile="true"
          className="bg-sidebar text-sidebar-foreground w-(--sidebar-width) px-0 py-[40px] [&>button]:hidden"
          style={
            {
              "--sidebar-width": SIDEBAR_WIDTH_MOBILE,
            } as React.CSSProperties
          }
          side={side}
        >
          <SheetHeader className="sr-only">
            <SheetTitle>Sidebar</SheetTitle>
            <SheetDescription>Displays the mobile sidebar.</SheetDescription>
          </SheetHeader>
          <div className="flex h-full w-full flex-col">{children}</div>
        </SheetContent>
      </Sheet>
    )
  }

  return (
    <div
      className="group peer text-sidebar-foreground hidden md:block"
      data-state={state}
      data-collapsible={state === "collapsed" ? collapsible : ""}
      data-variant={variant}
      data-side={side}
      data-slot="sidebar"
    >
      {/* This is what handles the sidebar gap on desktop */}
      <div
        data-slot="sidebar-gap"
        className={cn(
          "relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear group-data-[variant=inset]:w-0",
          "group-data-[collapsible=offcanvas]:w-0",
          "group-data-[side=right]:rotate-180",
          variant === "floating" || variant === "inset"
            ? "group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]"
            : "group-data-[collapsible=icon]:w-(--sidebar-width-icon)"
        )}
      />
      <div
        data-slot="sidebar-container"
        className={cn(
          "fixed inset-y-0 z-50 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex py-[40px]",
          side === "left"
            ? "left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]"
            : "right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",
          // Adjust the padding for floating and inset variants.
          variant === "floating" || variant === "inset"
            ? "px-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]"
            : "group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",
          className
        )}
        {...props}
      >
        <div
          data-sidebar="sidebar"
          data-slot="sidebar-inner"
          className="bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm"
        >
          {children}
        </div>
      </div>
    </div>
  )
}

function SidebarTrigger({
  className,
  onClick,
  ...props
}: React.ComponentProps<typeof Button>) {
  const { toggleSidebar, state } = useSidebar()

  return (
    <Button
      data-sidebar="trigger"
      data-slot="sidebar-trigger"
      variant="ghost"
      size="icon"
      className={cn("size-7", className)} aria-expanded={state === "expanded"}
      onClick={(event) => {
        onClick?.(event)
        toggleSidebar()
      }}
      {...props}
    >
      {state === "collapsed" ? <ChevronRight /> : <ChevronLeft />}
      <span className="sr-only">{state === "collapsed" ? "Expand Sidebar" : "Collapse Sidebar"}</span>
    </Button>
  )
}

function SidebarRail({ className, ...props }: React.ComponentProps<"button"> & { hoverExpand?: boolean }) {
  useSidebar()

  return (
    <button
      data-sidebar="rail"
      data-slot="sidebar-rail"
      aria-hidden="true"
      tabIndex={-1}
      className={cn(
        "hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex",
        "in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize",
        "[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize",
        "hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full",
        "[[data-side=left][data-collapsible=offcanvas]_&]:-right-2",
        "[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",
        className
      )}
      {...props}
    />
  )
}

function SidebarInset({ className, ...props }: React.ComponentProps<"main">) {
  return (
    <main
      data-slot="sidebar-inset"
      className={cn(
        "bg-background relative flex w-full flex-1 min-w-0 overflow-auto flex-col",
        "md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2",
        className
      )}
      {...props}
    />
  )
}

function SidebarInput({
  className,
  ...props
}: React.ComponentProps<typeof Input>) {
  return (
    <Input
      data-slot="sidebar-input"
      data-sidebar="input"
      className={cn("bg-background h-8 w-full shadow-none", className)}
      {...props}
    />
  )
}

function SidebarHeader({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sidebar-header"
      data-sidebar="header"
      className={cn("flex flex-col gap-2 p-2", className)}
      {...props}
    />
  )
}

function SidebarFooter({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sidebar-footer"
      data-sidebar="footer"
      className={cn("flex flex-col gap-2 p-2", className)}
      {...props}
    />
  )
}

function SidebarSeparator({
  className,
  ...props
}: React.ComponentProps<typeof Separator>) {
  return (
    <Separator
      data-slot="sidebar-separator"
      data-sidebar="separator"
      className={cn("bg-sidebar-border mx-2 w-auto", className)}
      {...props}
    />
  )
}

function SidebarContent({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sidebar-content"
      data-sidebar="content"
      className={cn(
        "flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",
        className
      )}
      {...props}
    />
  )
}

function SidebarGroup({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sidebar-group"
      data-sidebar="group"
      className={cn("relative flex w-full min-w-0 flex-col p-2", className)}
      {...props}
    />
  )
}

function SidebarGroupLabel({
  className,
  asChild = false,
  ...props
}: React.ComponentProps<"div"> & { asChild?: boolean }) {
  const Comp = asChild ? Slot : "div"

  return (
    <Comp
      data-slot="sidebar-group-label"
      data-sidebar="group-label"
      className={cn(
        "text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0",
        "group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",
        className
      )}
      {...props}
    />
  )
}

function SidebarGroupAction({
  className,
  asChild = false,
  ...props
}: React.ComponentProps<"button"> & { asChild?: boolean }) {
  const Comp = asChild ? Slot : "button"

  return (
    <Comp
      data-slot="sidebar-group-action"
      data-sidebar="group-action"
      className={cn(
        "text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground absolute top-3.5 right-3 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0",
        // Increases the hit area of the button on mobile.
        "after:absolute after:-inset-2 md:after:hidden",
        "group-data-[collapsible=icon]:hidden",
        className
      )}
      {...props}
    />
  )
}

function SidebarGroupContent({
  className,
  ...props
}: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sidebar-group-content"
      data-sidebar="group-content"
      className={cn("w-full text-sm", className)}
      {...props}
    />
  )
}

function SidebarMenu({ className, ...props }: React.ComponentProps<"ul">) {
  return (
    <ul
      data-slot="sidebar-menu"
      data-sidebar="menu"
      className={cn("flex w-full min-w-0 flex-col gap-1", className)}
      {...props}
    />
  )
}

function SidebarMenuItem({ className, ...props }: React.ComponentProps<"li">) {
  return (
    <li
      data-slot="sidebar-menu-item"
      data-sidebar="menu-item"
      className={cn("group/menu-item relative", className)}
      {...props}
    />
  )
}

const sidebarMenuButtonVariants = cva(
  "peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md px-8 py-7 text-left text-base outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:h-16! group-data-[collapsible=icon]:px-8! group-data-[collapsible=icon]:py-7! group-data-[collapsible=icon]:justify-center group-data-[collapsible=icon]:[&>span:last-child]:hidden [&>span:last-child]:truncate [&>svg]:w-[1.2rem] [&>svg]:h-[1.2rem] [&>svg]:shrink-0 [&>svg]:transition-transform hover:[&>svg]:translate-x-[2px]",
  {
    variants: {
      variant: {
        default: "hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",
        outline:
          "bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]",
      },
      size: {
        default: "h-16",
        sm: "h-14 text-sm",
        lg: "h-20 group-data-[collapsible=icon]:p-0!",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  }
)

function SidebarMenuButton({
  asChild = false,
  isActive = false,
  variant = "default",
  size = "default",
  tooltip,
  className,
  ...props
}: React.ComponentProps<"button"> & {
  asChild?: boolean
  isActive?: boolean
  tooltip?: string | React.ComponentProps<typeof TooltipContent>
} & VariantProps<typeof sidebarMenuButtonVariants>) {
  const Comp = asChild ? Slot : "button"
  const { isMobile, state } = useSidebar()

  const button = (
    <Comp
      data-slot="sidebar-menu-button"
      data-sidebar="menu-button"
      data-size={size}
      data-active={isActive}
      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}
      {...props}
    />
  )

  if (!tooltip) {
    return button
  }

  if (typeof tooltip === "string") {
    tooltip = {
      children: tooltip,
    }
  }

  return (
    <Tooltip>
      <TooltipTrigger asChild>{button}</TooltipTrigger>
      <TooltipContent
        side="right"
        align="center"
        hidden={state !== "collapsed" || isMobile}
        {...tooltip}
      />
    </Tooltip>
  )
}

function SidebarMenuAction({
  className,
  asChild = false,
  showOnHover = false,
  ...props
}: React.ComponentProps<"button"> & {
  asChild?: boolean
  showOnHover?: boolean
}) {
  const Comp = asChild ? Slot : "button"

  return (
    <Comp
      data-slot="sidebar-menu-action"
      data-sidebar="menu-action"
      className={cn(
        "text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0",
        // Increases the hit area of the button on mobile.
        "after:absolute after:-inset-2 md:after:hidden",
        "peer-data-[size=sm]/menu-button:top-1",
        "peer-data-[size=default]/menu-button:top-1.5",
        "peer-data-[size=lg]/menu-button:top-2.5",
        "group-data-[collapsible=icon]:hidden",
        showOnHover &&
          "peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0",
        className
      )}
      {...props}
    />
  )
}

function SidebarMenuBadge({
  className,
  ...props
}: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sidebar-menu-badge"
      data-sidebar="menu-badge"
      className={cn(
        "text-sidebar-foreground pointer-events-none absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums select-none",
        "peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground",
        "peer-data-[size=sm]/menu-button:top-1",
        "peer-data-[size=default]/menu-button:top-1.5",
        "peer-data-[size=lg]/menu-button:top-2.5",
        "group-data-[collapsible=icon]:hidden",
        className
      )}
      {...props}
    />
  )
}

function SidebarMenuSkeleton({
  className,
  showIcon = false,
  ...props
}: React.ComponentProps<"div"> & {
  showIcon?: boolean
}) {
  // Random width between 50 to 90%.
  const width = React.useMemo(() => {
    return `${Math.floor(Math.random() * 40) + 50}%`
  }, [])

  return (
    <div
      data-slot="sidebar-menu-skeleton"
      data-sidebar="menu-skeleton"
      className={cn("flex h-8 items-center gap-2 rounded-md px-2", className)}
      {...props}
    >
      {showIcon && (
        <Skeleton
          className="size-4 rounded-md"
          data-sidebar="menu-skeleton-icon"
        />
      )}
      <Skeleton
        className="h-4 max-w-(--skeleton-width) flex-1"
        data-sidebar="menu-skeleton-text"
        style={
          {
            "--skeleton-width": width,
          } as React.CSSProperties
        }
      />
    </div>
  )
}

function SidebarMenuSub({ className, ...props }: React.ComponentProps<"ul">) {
  return (
    <ul
      data-slot="sidebar-menu-sub"
      data-sidebar="menu-sub"
      className={cn(
        "border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5",
        "group-data-[collapsible=icon]:hidden",
        className
      )}
      {...props}
    />
  )
}

function SidebarMenuSubItem({
  className,
  ...props
}: React.ComponentProps<"li">) {
  return (
    <li
      data-slot="sidebar-menu-sub-item"
      data-sidebar="menu-sub-item"
      className={cn("group/menu-sub-item relative", className)}
      {...props}
    />
  )
}

function SidebarMenuSubButton({
  asChild = false,
  size = "md",
  isActive = false,
  className,
  ...props
}: React.ComponentProps<"a"> & {
  asChild?: boolean
  size?: "sm" | "md"
  isActive?: boolean
}) {
  const Comp = asChild ? Slot : "a"

  return (
    <Comp
      data-slot="sidebar-menu-sub-button"
      data-sidebar="menu-sub-button"
      data-size={size}
      data-active={isActive}
      className={cn(
        "text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline-hidden focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:w-[1.2rem] [&>svg]:h-[1.2rem] [&>svg]:shrink-0 [&>svg]:transition-transform hover:[&>svg]:translate-x-[2px]",
        "data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",
        size === "sm" && "text-xs",
        size === "md" && "text-sm",
        "group-data-[collapsible=icon]:hidden",
        className
      )}
      {...props}
    />
  )
}

export {
  Sidebar,
  SidebarContent,
  SidebarFooter,
  SidebarGroup,
  SidebarGroupAction,
  SidebarGroupContent,
  SidebarGroupLabel,
  SidebarHeader,
  SidebarInput,
  SidebarInset,
  SidebarMenu,
  SidebarMenuAction,
  SidebarMenuBadge,
  SidebarMenuButton,
  SidebarMenuItem,
  SidebarMenuSkeleton,
  SidebarMenuSub,
  SidebarMenuSubButton,
  SidebarMenuSubItem,
  SidebarProvider,
  SidebarRail,
  SidebarSeparator,
  SidebarTrigger,
  useSidebar,
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/components/ui/skeleton.tsx ====
BEGIN_CONTENT
import * as React from "react"
import { cn } from "@/lib/utils"

function Skeleton({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="skeleton"
      className={cn("bg-accent animate-pulse rounded-md", className)}
      {...props}
    />
  )
}

export { Skeleton }
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/components/ui/spinner.tsx ====
BEGIN_CONTENT
"use client";

import * as React from "react";
import { cn } from "@/lib/utils";

type SpinnerSize = "sm" | "md" | "lg";

export type SpinnerProps = {
  size?: SpinnerSize;
  className?: string;
  "aria-label"?: string;
};

const sizeClasses: Record<SpinnerSize, string> = {
  sm: "h-4 w-4",
  md: "h-5 w-5",
  lg: "h-6 w-6",
};

export function Spinner({ size = "md", className, "aria-label": ariaLabel }: SpinnerProps) {
  return (
    <span role="status" aria-live="polite" className={cn("inline-flex items-center justify-center", className)}>
      <span
        className={cn(
          "inline-block animate-spin rounded-full border-2 border-muted-foreground/20 border-t-muted-foreground",
          sizeClasses[size]
        )}
        aria-hidden="true"
      />
      <span className="sr-only">{ariaLabel ?? "Loading…"}</span>
    </span>
  );
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/components/ui/switch.tsx ====
BEGIN_CONTENT
"use client";

import * as React from "react";
import { cn } from "@/lib/utils";

type Props = {
  checked: boolean;
  onCheckedChange: (checked: boolean) => void;
  disabled?: boolean;
  className?: string;
  id?: string;
  "aria-label"?: string;
  "aria-labelledby"?: string;
};

export function Switch({
  checked,
  onCheckedChange,
  disabled,
  className,
  id,
  ...aria
}: Props) {
  return (
    <button
      id={id}
      type="button"
      role="switch"
      aria-checked={checked}
      aria-disabled={disabled || undefined}
      data-state={checked ? "checked" : "unchecked"}
      disabled={disabled}
      onClick={() => !disabled && onCheckedChange(!checked)}
      className={cn(
        "inline-flex h-5 w-10 items-center rounded-full border transition-colors focus-visible:outline-none focus-visible:ring-[3px]",
        checked ? "bg-emerald-500 border-emerald-500 focus-visible:ring-emerald-400" : "bg-sky-500 border-sky-500 focus-visible:ring-sky-400",
        disabled ? "opacity-50 cursor-not-allowed" : "cursor-pointer",
        className
      )}
      {...aria}
    >
      <span
        className={cn(
          "pointer-events-none inline-block h-4 w-4 rounded-full bg-background shadow transition-transform",
          checked ? "translate-x-5" : "translate-x-1"
        )}
      />
    </button>
  );
}

export default Switch;
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/components/ui/table.tsx ====
BEGIN_CONTENT
"use client"

import * as React from "react"

import { cn } from "@/lib/utils"

function Table({ className, ...props }: React.ComponentProps<"table">) {
  return (
    <div
      data-slot="table-container"
      className="relative w-full overflow-x-auto"
    >
      <table
        data-slot="table"
        className={cn("w-full caption-bottom text-sm", className)}
        {...props}
      />
    </div>
  )
}

function TableHeader({ className, ...props }: React.ComponentProps<"thead">) {
  return (
    <thead
      data-slot="table-header"
      className={cn("[&_tr]:border-b", className)}
      {...props}
    />
  )
}

function TableBody({ className, ...props }: React.ComponentProps<"tbody">) {
  return (
    <tbody
      data-slot="table-body"
      className={cn("[&_tr:last-child]:border-0", className)}
      {...props}
    />
  )
}

function TableFooter({ className, ...props }: React.ComponentProps<"tfoot">) {
  return (
    <tfoot
      data-slot="table-footer"
      className={cn(
        "bg-muted/50 border-t font-medium [&>tr]:last:border-b-0",
        className
      )}
      {...props}
    />
  )
}

function TableRow({ className, ...props }: React.ComponentProps<"tr">) {
  return (
    <tr
      data-slot="table-row"
      className={cn(
        "hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",
        className
      )}
      {...props}
    />
  )
}

function TableHead({ className, ...props }: React.ComponentProps<"th">) {
  return (
    <th
      data-slot="table-head"
      className={cn(
        "text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",
        className
      )}
      {...props}
    />
  )
}

function TableCell({ className, ...props }: React.ComponentProps<"td">) {
  return (
    <td
      data-slot="table-cell"
      className={cn(
        "p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",
        className
      )}
      {...props}
    />
  )
}

function TableCaption({
  className,
  ...props
}: React.ComponentProps<"caption">) {
  return (
    <caption
      data-slot="table-caption"
      className={cn("text-muted-foreground mt-4 text-sm", className)}
      {...props}
    />
  )
}

export {
  Table,
  TableHeader,
  TableBody,
  TableFooter,
  TableHead,
  TableRow,
  TableCell,
  TableCaption,
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/components/ui/tabs.tsx ====
BEGIN_CONTENT
"use client";

import * as React from "react";
import * as TabsPrimitive from "@radix-ui/react-tabs";
import { cn } from "@/lib/utils";

const Tabs = TabsPrimitive.Root;

const TabsList = React.forwardRef<
  React.ElementRef<typeof TabsPrimitive.List>,
  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>
>(({ className, ...props }, ref) => (
  <TabsPrimitive.List
    ref={ref}
    className={cn(
      "bg-muted text-muted-foreground inline-flex h-9 items-center justify-center rounded-md p-1",
      className
    )}
    {...props}
  />
));
TabsList.displayName = TabsPrimitive.List.displayName;

const TabsTrigger = React.forwardRef<
  React.ElementRef<typeof TabsPrimitive.Trigger>,
  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>
>(({ className, ...props }, ref) => (
  <TabsPrimitive.Trigger
    ref={ref}
    className={cn(
      "ring-ring data-[state=active]:bg-background data-[state=active]:text-foreground inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 data-[state=inactive]:opacity-60",
      className
    )}
    {...props}
  />
));
TabsTrigger.displayName = TabsPrimitive.Trigger.displayName;

const TabsContent = React.forwardRef<
  React.ElementRef<typeof TabsPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>
>(({ className, ...props }, ref) => (
  <TabsPrimitive.Content
    ref={ref}
    className={cn(
      "focus-visible:ring-ring mt-2 focus-visible:outline-none focus-visible:ring-2 data-[state=active]:block data-[state=inactive]:hidden",
      className
    )}
    {...props}
  />
));
TabsContent.displayName = TabsPrimitive.Content.displayName;

export { Tabs, TabsList, TabsTrigger, TabsContent };
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/components/ui/textarea.tsx ====
BEGIN_CONTENT
import * as React from "react"

import { cn } from "@/lib/utils"

function Textarea({ className, ...props }: React.ComponentProps<"textarea">) {
  return (
    <textarea
      data-slot="textarea"
      className={cn(
        "border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",
        className
      )}
      {...props}
    />
  )
}

export { Textarea }
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/components/ui/toast-provider.tsx ====
BEGIN_CONTENT
"use client";

import * as React from "react";

type ToastVariant = "default" | "destructive";
type Toast = {
  id: number;
  title?: string;
  description?: string;
  variant?: ToastVariant;
  duration?: number; // ms
};

type ToastContextValue = {
  toast: (t: Omit<Toast, "id">) => void;
};

const ToastContext = React.createContext<ToastContextValue | null>(null);

export function useToast(): ToastContextValue {
  const ctx = React.useContext(ToastContext);
  if (!ctx) {
    throw new Error("useToast must be used within a ToastProvider");
  }
  return ctx;
}

export function ToastProvider({ children }: { children: React.ReactNode }) {
  const [toasts, setToasts] = React.useState<Toast[]>([]);

  const toast = React.useCallback((t: Omit<Toast, "id">) => {
    const id = Date.now() + Math.floor(Math.random() * 1000);
    const duration = t.duration ?? 4000;
    const next: Toast = { id, ...t };
    setToasts((prev) => [...prev, next]);

    // auto-dismiss
    window.setTimeout(() => {
      setToasts((prev) => prev.filter((x) => x.id !== id));
    }, Math.max(1000, duration));
  }, []);

  const value = React.useMemo(() => ({ toast }), [toast]);

  return (
    <ToastContext.Provider value={value}>
      {children}
      {/* Render toasts at the end so they sit on top of the app */}
      <Toaster toasts={toasts} />
    </ToastContext.Provider>
  );
}

export function Toaster({ toasts }: { toasts: Toast[] }) {
  return (
    <div
      aria-live="polite"
      aria-atomic="true"
      className="pointer-events-none fixed top-4 right-4 z-50 flex w-full max-w-[420px] flex-col gap-2"
      role="region"
      aria-label="Notifications"
    >
      {toasts.map((t) => (
        <div
          key={t.id}
          role="status"
          className={[
            "pointer-events-auto rounded-md border shadow-lg p-3 text-sm",
            "bg-white text-neutral-900 border-neutral-200",
            "dark:bg-neutral-900 dark:text-neutral-50 dark:border-neutral-800",
            t.variant === "destructive"
              ? "border-red-300/60 bg-red-50 text-red-900 dark:bg-red-900/30 dark:text-red-100 dark:border-red-800"
              : "",
          ].join(" ")}
        >
          {t.title ? <div className="font-semibold">{t.title}</div> : null}
          {t.description ? (
            <div className="mt-0.5 text-[0.9rem] text-neutral-600 dark:text-neutral-300">{t.description}</div>
          ) : null}
        </div>
      ))}
    </div>
  );
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/components/ui/tooltip.tsx ====
BEGIN_CONTENT
"use client"

import * as React from "react"
import * as TooltipPrimitive from "@radix-ui/react-tooltip"

import { cn } from "@/lib/utils"

function TooltipProvider({
  delayDuration = 0,
  ...props
}: React.ComponentProps<typeof TooltipPrimitive.Provider>) {
  return (
    <TooltipPrimitive.Provider
      data-slot="tooltip-provider"
      delayDuration={delayDuration}
      {...props}
    />
  )
}

function Tooltip({
  delayDuration,
  ...props
}: React.ComponentProps<typeof TooltipPrimitive.Root> & { delayDuration?: number }) {
  return (
    <TooltipProvider delayDuration={delayDuration}>
      <TooltipPrimitive.Root data-slot="tooltip" {...props} />
    </TooltipProvider>
  )
}

function TooltipTrigger({
  ...props
}: React.ComponentProps<typeof TooltipPrimitive.Trigger>) {
  return <TooltipPrimitive.Trigger data-slot="tooltip-trigger" {...props} />
}

function TooltipContent({
  className,
  sideOffset = 0,
  children,
  ...props
}: React.ComponentProps<typeof TooltipPrimitive.Content>) {
  return (
    <TooltipPrimitive.Portal>
      <TooltipPrimitive.Content
        data-slot="tooltip-content"
        sideOffset={sideOffset}
        className={cn(
          "bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",
          className
        )}
        {...props}
      >
        {children}
        <TooltipPrimitive.Arrow className="bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]" />
      </TooltipPrimitive.Content>
    </TooltipPrimitive.Portal>
  )
}

export { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/components/ui/top-loader.tsx ====
BEGIN_CONTENT
"use client";

import * as React from "react";
import { useGlobalLoading } from "@/components/loading/loading-provider";
import { cn } from "@/lib/utils";

type TopLoaderProps = {
  className?: string;
  height?: number; // px
};

export function TopLoader({ className, height = 3 }: TopLoaderProps) {
  const { visible } = useGlobalLoading();

  if (!visible) return null;

  return (
    <div
      aria-hidden="true"
      className={cn("fixed left-0 top-0 z-50 w-full overflow-hidden", className)}
      style={{ height }}
    >
      <div className="h-full w-[30%] bg-primary animate-top-loader rounded-r-full" />
    </div>
  );
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/components/user-location-select.tsx ====
BEGIN_CONTENT
"use client";

import * as React from "react";
import { createPortal } from "react-dom";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { ChevronDown, Plus } from "lucide-react";
import { useUserSearch, useLocations, type UserOption } from "@/hooks/use-inventory-options";
import { cn } from "@/lib/utils";
import { Spinner } from "@/components/ui/spinner";
import { InlineLoader } from "@/components/ui/inline-loader";

export type UserLocationSelectProps = {
  id?: string;
  value: string;
  onChange: (value: string) => void;
  placeholder?: string;
  className?: string;
  required?: boolean;
  showManualButton?: boolean;
};

/**
 * Reusable User/Location selector.
 * Mirrors the behavior used in the Create dialog:
 * - Input with dropdown suggestions for Users and Locations
 * - Toggle button to open/close suggestions
 * - Manual entry toggle button
 */
export default function UserLocationSelect({
  id,
  value,
  onChange,
  placeholder = "Name",
  className,
  required,
  showManualButton = true,
}: UserLocationSelectProps) {
  // Open/close + manual state mirrors Create dialog
  const [open, setOpen] = React.useState(false);
  const [query, setQuery] = React.useState("");
  const [manual, setManual] = React.useState(false);
  const closeTimerRef = React.useRef<ReturnType<typeof setTimeout> | null>(null);

  const {
    users: userOptions,
    loading: usersLoading,
    error: usersError,
  } = useUserSearch(query, open);

  const {
    locations,
    loading: locationsLoading,
    error: locationsError,
    refetch: refetchLocations,
  } = useLocations();

  React.useEffect(() => {
    if (open && (locations.length === 0 || locationsError) && !locationsLoading) {
      void refetchLocations();
    }
  }, [open, locations.length, locationsError, locationsLoading, refetchLocations]);

  const filteredLocations = React.useMemo(() => {
    const q = query.trim().toLowerCase();
    return q ? locations.filter((l) => l.toLowerCase().includes(q)) : locations;
  }, [locations, query]);

  const formatUser = React.useCallback((u: UserOption) => {
    const label = u.displayName || u.userPrincipalName || u.mail || u.id;
    const sub = u.mail || u.userPrincipalName || "";
    return { label, sub };
  }, []);

  const containerRef = React.useRef<HTMLDivElement>(null);
  const [menuRect, setMenuRect] = React.useState<DOMRect | null>(null);

  React.useLayoutEffect(() => {
    if (open && !manual) {
      const update = () => {
        const el = containerRef.current;
        if (el) setMenuRect(el.getBoundingClientRect());
      };
      update();
      window.addEventListener("resize", update);
      // capture scroll on ancestors too
      window.addEventListener("scroll", update, true);
      return () => {
        window.removeEventListener("resize", update);
        window.removeEventListener("scroll", update, true);
      };
    } else {
      setMenuRect(null);
    }
  }, [open, manual]);

  return (
    <div className={cn("flex gap-2", className)}>
      <div ref={containerRef} className="relative grow">
        <Input
          id={id}
          role="combobox"
          aria-expanded={open && !manual}
          aria-controls={id ? `${id}-options` : "userloc-options"}
          aria-autocomplete="list"
          placeholder={placeholder}
          value={value}
          className={cn("pr-8")}
          onFocus={() => {
            if (!manual) setOpen(true);
          }}
          onChange={(e) => {
            const v = e.target.value;
            onChange(v);
            setQuery(v);
            if (!manual) setOpen(true);
          }}
          onKeyDown={(e) => {
            if (e.key === "Escape") {
              setOpen(false);
            }
          }}
          onBlur={() => {
            // Delay closing to allow option mousedown to fire first
            if (closeTimerRef.current) {
              clearTimeout(closeTimerRef.current);
            }
            closeTimerRef.current = setTimeout(() => {
              setOpen(false);
              closeTimerRef.current = null;
            }, 100);
          }}
          required={required}
        />
        {(usersLoading || locationsLoading) && (
          <div className="pointer-events-none absolute inset-y-0 right-2 flex items-center">
            <Spinner size="sm" aria-label="Loading options" />
          </div>
        )}
        {open && !manual && menuRect && createPortal(
          <div
            id={id ? `${id}-options` : "userloc-options"}
            role="listbox"
            className="z-[9999] max-h-72 overflow-y-auto rounded-md border bg-popover shadow-md p-1 text-sm"
            style={{ position: "fixed", top: menuRect.bottom + 4, left: menuRect.left, width: menuRect.width }}
          >
            <div className="px-3 py-1 text-xs text-muted-foreground">Users</div>
            {usersLoading ? (
              <div className="px-3 py-2 text-muted-foreground">
                <InlineLoader label="Searching…" size="sm" />
              </div>
            ) : usersError ? (
              <div className="px-3 py-2 text-destructive">{usersError}</div>
            ) : query.trim().length >= 2 && userOptions.length === 0 ? (
              <div className="px-3 py-2 text-muted-foreground">No users</div>
            ) : (
              userOptions.map((u) => {
                const { label, sub } = formatUser(u);
                const v = label + (sub && sub !== label ? ` (${sub})` : "");
                return (
                  <button
                    key={u.id}
                    role="option"
                    className="w-full px-3 py-2 text-left hover:bg-accent"
                    onMouseDown={(e) => {
                      e.preventDefault();
                      if (closeTimerRef.current) {
                        clearTimeout(closeTimerRef.current);
                        closeTimerRef.current = null;
                      }
                      onChange(v);
                      setOpen(false);
                    }}
                  >
                    <div className="flex flex-col">
                      <span>{label}</span>
                      {sub && <span className="text-xs text-muted-foreground">{sub}</span>}
                    </div>
                  </button>
                );
              })
            )}

            <div className="mt-1 px-3 py-1 text-xs text-muted-foreground">Locations</div>
            {locationsLoading ? (
              <div className="px-3 py-2 text-muted-foreground">
                <InlineLoader label="Loading…" size="sm" />
              </div>
            ) : locationsError ? (
              <div className="px-3 py-2 text-destructive">{locationsError}</div>
            ) : filteredLocations.length === 0 ? (
              <div className="px-3 py-2 text-muted-foreground">No locations</div>
            ) : (
              filteredLocations.map((opt) => (
                <button
                  key={opt}
                  role="option"
                  className="w-full px-3 py-2 text-left hover:bg-accent"
                  onMouseDown={(e) => {
                    e.preventDefault();
                    if (closeTimerRef.current) {
                      clearTimeout(closeTimerRef.current);
                      closeTimerRef.current = null;
                    }
                    onChange(opt);
                    setOpen(false);
                  }}
                >
                  {opt}
                </button>
              ))
            )}
          </div>,
          document.body
        )}
      </div>

      <Button
        type="button"
        size="icon"
        variant="outline"
        aria-label="Toggle user/location list"
        title="Toggle user/location list"
        disabled={manual}
        onMouseDown={(e) => {
          // Prevent input blur from immediately closing
          e.preventDefault();
          if (closeTimerRef.current) {
            clearTimeout(closeTimerRef.current);
            closeTimerRef.current = null;
          }
        }}
        onClick={() => {
          if (manual) return;
          setOpen((o) => !o);
        }}
      >
        <ChevronDown className="size-4" />
      </Button>

      {showManualButton && (
        <Button
          type="button"
          size="icon"
          variant={manual ? "default" : "outline"}
          aria-pressed={manual}
          aria-label={manual ? "Manual entry enabled" : "Manual entry"}
          title={manual ? "Manual entry enabled" : "Manual entry"}
          onClick={() => {
            setManual((prev) => {
              const next = !prev;
              if (closeTimerRef.current) {
                clearTimeout(closeTimerRef.current);
                closeTimerRef.current = null;
              }
              if (next) {
                // enabling manual entry closes dropdown
                setOpen(false);
              } else {
                // disabling manual entry reopens suggestions
                setOpen(true);
              }
              return next;
            });
          }}
        >
          <Plus className="size-4" />
        </Button>
      )}
    </div>
  );
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/data/inventory.ts ====
BEGIN_CONTENT
import type { InventoryItem } from "@/types/inventory";
// Re-export domain types and provide optional mock data for development.
export type { InventoryItem, InventoryStatus } from "@/types/inventory";

export const mockInventory: InventoryItem[] = [
  {
    asset: 10001,
    userLocation: "HQ – IT Closet",
    status: "ready_to_deploy",
    serial: "500001",
    model: "Dell OptiPlex 7090",
    assetImage: "/window.svg",
    notes: "Imaged with baseline build",
    modified: "2025-08-15",
    modifiedBy: "Alex Rivera",
    created: "2025-07-20",
    createdBy: "IT Intake",
  },
  {
    asset: 10002,
    userLocation: "Remote – John Doe",
    status: "deployed",
    serial: "500002",
    model: "MacBook Pro 14\" M3",
    assetImage: "/vercel.svg",
    notes: "Assigned to Engineering",
    modified: "2025-08-10",
    modifiedBy: "Sarah Chen",
    created: "2025-06-30",
    createdBy: "Procurement",
  },
  {
    asset: 10003,
    userLocation: "HQ – Marketing",
    status: "deployed",
    serial: "500003",
    model: "Lenovo ThinkPad T14",
    assetImage: "/globe.svg",
    notes: "Docked at desk 3C",
    modified: "2025-08-02",
    modifiedBy: "Mark Li",
    created: "2025-06-15",
    createdBy: "Procurement",
  },
  {
    asset: 10004,
    userLocation: "HQ – IT Staging",
    status: "ready_to_deploy",
    serial: "500004",
    model: "HP EliteDesk 800 G6",
    assetImage: "/file.svg",
    notes: "Needs asset tag applied",
    modified: "2025-08-17",
    modifiedBy: "Alex Rivera",
    created: "2025-08-12",
    createdBy: "IT Intake",
  },
  {
    asset: 10005,
    userLocation: "HQ – Storage",
    status: "retired",
    serial: "500005",
    model: "Apple iMac (2017)",
    assetImage: "/window.svg",
    notes: "To be e-cycled",
    modified: "2025-07-12",
    modifiedBy: "Facilities",
    created: "2021-01-05",
    createdBy: "Procurement",
  },
  {
    asset: 10006,
    userLocation: "Remote – Jane Smith",
    status: "deployed",
    serial: "500006",
    model: "Dell Latitude 7440",
    assetImage: "/globe.svg",
    notes: "VPN configured",
    modified: "2025-08-14",
    modifiedBy: "NOC",
    created: "2025-07-25",
    createdBy: "Procurement",
  },
  {
    asset: 10007,
    userLocation: "HQ – Help Desk",
    status: "ready_to_deploy",
    serial: "500007",
    model: "Logitech C920 Webcam",
    assetImage: "/file.svg",
    notes: "Peripheral kit",
    modified: "2025-08-09",
    modifiedBy: "Help Desk",
    created: "2025-08-08",
    createdBy: "Procurement",
  },
  {
    asset: 10008,
    userLocation: "Remote – Finance",
    status: "deployed",
    serial: "500008",
    model: "Surface Laptop 5",
    assetImage: "/vercel.svg",
    notes: "BitLocker enabled",
    modified: "2025-08-05",
    modifiedBy: "Security",
    created: "2025-07-18",
    createdBy: "Procurement",
  },
  {
    asset: 10009,
    userLocation: "HQ – Storage",
    status: "retired",
    serial: "500009",
    model: "Dell UltraSharp U2719D",
    assetImage: "/window.svg",
    notes: "Panel cracked",
    modified: "2025-06-20",
    modifiedBy: "Facilities",
    created: "2020-04-11",
    createdBy: "Procurement",
  },
  {
    asset: 10010,
    userLocation: "HQ – IT Closet",
    status: "ready_to_deploy",
    serial: "500010",
    model: "Cisco Catalyst 9300",
    assetImage: "/globe.svg",
    notes: "Pending config push",
    modified: "2025-08-16",
    modifiedBy: "NetOps",
    created: "2025-08-01",
    createdBy: "Procurement",
  },
  {
    asset: 10011,
    userLocation: "HQ – Engineering",
    status: "deployed",
    serial: "500011",
    model: "Mac mini M2",
    assetImage: "/file.svg",
    notes: "CI runner host",
    modified: "2025-08-11",
    modifiedBy: "DevOps",
    created: "2025-07-02",
    createdBy: "Procurement",
  },
  {
    asset: 10012,
    userLocation: "HQ – Storage",
    status: "retired",
    serial: "500012",
    model: "HP LaserJet Pro",
    assetImage: "/window.svg",
    notes: "Replaced by MFP",
    modified: "2025-07-01",
    modifiedBy: "Facilities",
    created: "2019-10-21",
    createdBy: "Procurement",
  },
];
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/hooks/use-inventory-options.ts ====
BEGIN_CONTENT
"use client";

import * as React from "react";
import { useMsal } from "@azure/msal-react";
import type { AccountInfo, AuthenticationResult } from "@azure/msal-browser";

export type UserOption = {
  id: string;
  displayName?: string | null;
  mail?: string | null;
  userPrincipalName?: string | null;
};

const isMock =
  process.env.NEXT_PUBLIC_USE_MOCK_INVENTORY === "true" ||
  process.env.USE_MOCK_INVENTORY === "true";

const API_SCOPE =
  process.env.NEXT_PUBLIC_AZURE_API_SCOPE ||
  process.env.AZURE_API_SCOPE ||
  "";

/**
 * Acquire API auth headers using msal-react. Returns {} in mock mode.
 * Throws if live mode and token cannot be acquired.
 */
async function getAuthHeaders(instance: ReturnType<typeof useMsal>["instance"], account: AccountInfo | null, timeoutMs = 10000): Promise<HeadersInit> {
  if (isMock) return {};
  if (!API_SCOPE) {
    throw new Error("Missing API scope. Set NEXT_PUBLIC_AZURE_API_SCOPE or AZURE_API_SCOPE.");
  }
  const acct = account || instance.getActiveAccount() || null;
  if (!acct) throw new Error("Not authenticated");

  const p = instance.acquireTokenSilent({ scopes: [API_SCOPE], account: acct });
  const timeout = new Promise<never>((_, reject) =>
    setTimeout(() => reject(new Error("acquireTokenSilent timeout")), timeoutMs)
  );
  const res = (await Promise.race([p, timeout])) as AuthenticationResult;
  return { Authorization: `Bearer ${res.accessToken}` };
}

function useActiveAccount() {
  const { instance, accounts } = useMsal();
  const active = React.useMemo<AccountInfo | null>(() => {
    return instance.getActiveAccount() || accounts[0] || null;
  }, [instance, accounts]);
  return { instance, activeAccount: active };
}

/**
 * Model options (free-text field today) via /api/inventory/options/models
 * Fetches when the menu is open and search changes (debounced).
 */
export function useModelOptions(open: boolean, search: string, top = 50) {
  const { instance, activeAccount } = useActiveAccount();
  const [models, setModels] = React.useState<string[]>([]);
  const [loading, setLoading] = React.useState(false);
  const [error, setError] = React.useState<string | null>(null);

  React.useEffect(() => {
    if (!open) {
      // Reset transient state when closed
      setLoading(false);
      setError(null);
      return;
    }

    const controller = new AbortController();
    const timer = setTimeout(async () => {
      try {
        setLoading(true);
        setError(null);
        const headers: HeadersInit = isMock ? {} : await getAuthHeaders(instance, activeAccount);
        const url = `/api/inventory/options/models?top=${Math.max(1, Math.min(top, 200))}&search=${encodeURIComponent(search || "")}`;
        const res = await fetch(url, { headers, cache: "no-store", signal: controller.signal });
        if (!res.ok) {
          const t = await res.text().catch(() => "");
          throw new Error(`Models ${res.status}: ${t}`);
        }
        const data = (await res.json()) as { models?: string[] };
        setModels(Array.isArray(data.models) ? data.models : []);
      } catch (e) {
        const err = e as unknown;
        if (typeof err === "object" && err !== null && "name" in err && (err as { name?: string }).name === "AbortError") {
          return;
        }
        setError(e instanceof Error ? e.message : "Unknown error");
        setModels([]);
      } finally {
        setLoading(false);
      }
    }, search ? 250 : 0); // no delay for initial open; debounce when typing

    return () => {
      controller.abort();
      clearTimeout(timer);
    };
  }, [open, search, top, instance, activeAccount]);

  const refresh = React.useCallback(() => {
    // Trigger effect by toggling a no-op dependency: use timestamp
    // Consumers can change `top` or `search` to refire; keeping simple for now.
  }, []);

  return { models, loading, error, refresh };
}

/**
 * User search via /api/inventory/options/users.
 * - When query length ≥ 2: performs directory search (server may fallback to list suggestions).
 * - When query length < 2 (or empty) and menu is open: fetches initial suggestions from SharePoint list scan.
 */
export function useUserSearch(query: string, open: boolean, top = 20) {
  const { instance, activeAccount } = useActiveAccount();
  const [users, setUsers] = React.useState<UserOption[]>([]);
  const [loading, setLoading] = React.useState(false);
  const [error, setError] = React.useState<string | null>(null);

  React.useEffect(() => {
    if (!open) {
      setUsers([]);
      setLoading(false);
      setError(null);
      return;
    }

    const controller = new AbortController();
    const timer = setTimeout(async () => {
      try {
        setLoading(true);
        setError(null);
        const headers: HeadersInit = isMock ? {} : await getAuthHeaders(instance, activeAccount);
        const hasQuery = !!query && query.trim().length >= 2;
        const base = `/api/inventory/options/users?top=${Math.max(1, Math.min(top, 50))}`;
        const url = hasQuery ? `${base}&search=${encodeURIComponent(query.trim())}` : base;
        const res = await fetch(url, { headers, cache: "no-store", signal: controller.signal });
        if (!res.ok) {
          const t = await res.text().catch(() => "");
          throw new Error(`Users ${res.status}: ${t}`);
        }
        const data = (await res.json()) as { users?: UserOption[] };
        setUsers(Array.isArray(data.users) ? data.users : []);
      } catch (e) {
        const err = e as unknown;
        if (typeof err === "object" && err !== null && "name" in err && (err as { name?: string }).name === "AbortError") {
          return;
        }
        setError(e instanceof Error ? e.message : "Unknown error");
        setUsers([]);
      } finally {
        setLoading(false);
      }
    }, 300); // debounce both suggestions and search

    return () => {
      controller.abort();
      clearTimeout(timer);
    };
  }, [open, query, top, instance, activeAccount]);

  return { users, loading, error };
}

/**
 * Static locations list via /api/inventory/options/locations (fetched once).
 */
export function useLocations() {
  const { instance, activeAccount } = useActiveAccount();
  const [locations, setLocations] = React.useState<string[]>([]);
  const [loading, setLoading] = React.useState(false);
  const [error, setError] = React.useState<string | null>(null);

  const fetchOnce = React.useCallback(async () => {
    try {
      setLoading(true);
      setError(null);
      const headers: HeadersInit = isMock ? {} : await getAuthHeaders(instance, activeAccount);
      const res = await fetch(`/api/inventory/options/locations`, { headers, cache: "no-store" });
      if (!res.ok) {
        const t = await res.text().catch(() => "");
        throw new Error(`Locations ${res.status}: ${t}`);
      }
      const data = (await res.json()) as { locations?: string[] };
      setLocations(Array.isArray(data.locations) ? data.locations : []);
    } catch (e) {
      setError(e instanceof Error ? e.message : "Unknown error");
      setLocations([]);
    } finally {
      setLoading(false);
    }
  }, [instance, activeAccount]);

  React.useEffect(() => {
    // Fetch lazily when authenticated (or in mock), and refetch if auth becomes available after initial mount
    if (locations.length === 0 && !loading && !error && (isMock || activeAccount)) {
      void fetchOnce();
    }
  }, [locations.length, loading, error, activeAccount, fetchOnce]);

  return { locations, loading, error, refetch: fetchOnce };
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/hooks/use-mobile.ts ====
BEGIN_CONTENT
"use client";

import { useEffect, useState } from "react";

/**
 * Returns true on small screens (default <= 768px).
 * Used by the shadcn Sidebar to determine mobile behavior.
 */
export function useIsMobile(breakpoint = 768) {
  const [isMobile, setIsMobile] = useState(false);

  useEffect(() => {
    if (typeof window === "undefined" || typeof window.matchMedia !== "function") {
      // Default to desktop in non-browser or test environments
      setIsMobile(false);
      return;
    }

    const media = window.matchMedia(`(max-width: ${breakpoint}px)`);
    const onChange = () => setIsMobile(media.matches);

    // Initialize immediately
    onChange();

    // Add listener (both modern and legacy)
    if (typeof media.addEventListener === "function") {
      media.addEventListener("change", onChange);
      return () => media.removeEventListener("change", onChange);
    } else if ("addListener" in media) {
      const legacy = media as MediaQueryList & {
        addListener?: (listener: (this: MediaQueryList, ev: MediaQueryListEvent) => void) => void;
        removeListener?: (listener: (this: MediaQueryList, ev: MediaQueryListEvent) => void) => void;
      };
      if (typeof legacy.addListener === "function" && typeof legacy.removeListener === "function") {
        const legacyHandler = () => onChange();
        legacy.addListener(legacyHandler);
        return () => legacy.removeListener(legacyHandler);
      }
      return () => {};
    } else {
      return () => {};
    }
  }, [breakpoint]);

  return isMobile;
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/lib/auth/msal-server.ts ====
BEGIN_CONTENT
import { ConfidentialClientApplication, Configuration, LogLevel } from "@azure/msal-node";
import { createRemoteJWKSet, jwtVerify, JWTPayload } from "jose";

let cca: ConfidentialClientApplication | null = null;

function getEnv(name: string, optional = false): string {
  const val = process.env[name];
  if (!val && !optional) {
    throw new Error(`Missing required environment variable: ${name}`);
  }
  return val || "";
}

function getAuthority(): string {
  const tenantId = getEnv("AZURE_TENANT_ID");
  return `https://login.microsoftonline.com/${tenantId}`;
}

export function getConfidentialClient(): ConfidentialClientApplication {
  if (cca) return cca;

  const config: Configuration = {
    auth: {
      clientId: getEnv("AZURE_BACKEND_CLIENT_ID"),
      authority: getAuthority(),
      clientSecret: getEnv("AZURE_BACKEND_CLIENT_SECRET"),
    },
    system: {
      loggerOptions: {
        loggerCallback(_level, _message, _containsPii) {
          // no-op; wire to your logger if desired
        },
        piiLoggingEnabled: false,
        logLevel: LogLevel.Warning,
      },
    },
  };

  cca = new ConfidentialClientApplication(config);
  return cca;
}

/**
 * On-Behalf-Of: Exchange a user access token (for this API) for a Microsoft Graph access token.
 */
export async function acquireOboToken(userAccessToken: string, scopes: string[]): Promise<string> {
  const client = getConfidentialClient();

  const result = await client.acquireTokenOnBehalfOf({
    oboAssertion: userAccessToken,
    scopes,
    authority: getAuthority(),
    skipCache: true,
  });

  if (!result?.accessToken) {
    throw new Error("OBO failed: no access token returned");
  }
  return result.accessToken;
}

export type VerifiedAccessToken = JWTPayload & {
  aud: string | string[];
  iss: string;
  tid?: string;
  oid?: string;
  sub?: string;
  preferred_username?: string;
  scp?: string;
  roles?: string[];
};

/**
 * Optionally verify the inbound API access token using tenant JWKS and expected audience.
 * Accepts both GUID clientId and api://<clientId> audiences.
 */
export async function verifyApiAccessToken(token: string): Promise<VerifiedAccessToken> {
  const tenantId = getEnv("AZURE_TENANT_ID");
  const backendClientId = getEnv("AZURE_BACKEND_CLIENT_ID");
  const issuer = `https://login.microsoftonline.com/${tenantId}/v2.0`;
  const jwksUri = `https://login.microsoftonline.com/${tenantId}/discovery/v2.0/keys`;

  const JWKS = createRemoteJWKSet(new URL(jwksUri));

  const acceptableAudience = [backendClientId, `api://${backendClientId}`];

  const { payload } = await jwtVerify(token, JWKS, {
    issuer,
    audience: acceptableAudience,
  });

  return payload as VerifiedAccessToken;
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/lib/date-utc.ts ====
BEGIN_CONTENT
/**
 * Shared UTC date boundary helpers.
 * These functions compute boundaries in UTC to avoid locale/DST drift between server and client.
 */

/**
 * Start of current day (00:00:00.000 UTC)
 */
export function startOfUtcDay(now = new Date()): Date {
  return new Date(Date.UTC(now.getUTCFullYear(), now.getUTCMonth(), now.getUTCDate(), 0, 0, 0, 0));
}

/**
 * Start of current ISO week (Monday 00:00:00.000 UTC)
 * ISO week starts on Monday. This uses UTC math to avoid DST/locale issues.
 */
export function startOfUtcIsoWeek(now = new Date()): Date {
  const y = now.getUTCFullYear();
  const m = now.getUTCMonth();
  const d = now.getUTCDate();
  const day = now.getUTCDay(); // 0 = Sun, 1 = Mon, ..., 6 = Sat
  const isoOffset = (day + 6) % 7; // Mon->0, Tue->1, ..., Sun->6
  const start = new Date(Date.UTC(y, m, d, 0, 0, 0, 0));
  start.setUTCDate(start.getUTCDate() - isoOffset);
  return start;
}

/**
 * Start of current month (1st 00:00:00.000 UTC)
 */
export function startOfUtcMonth(now = new Date()): Date {
  return new Date(Date.UTC(now.getUTCFullYear(), now.getUTCMonth(), 1, 0, 0, 0, 0));
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/lib/graph/sharepoint.ts ====
BEGIN_CONTENT
import { LRUCache } from "lru-cache";
import type { InventoryItem } from "@/types/inventory";
import {
  SP_FIELDS_SELECT,
  mapGraphListItemToInventory,
  type GraphListItem as SysGraphListItem,
  FIELD_MAP,
  type DomainField,
} from "@/lib/mappers/inventory";
import { acquireOboToken } from "@/lib/auth/msal-server";

function getEnv(name: string, optional = false): string {
  const val = process.env[name];
  if (!val && !optional) {
    throw new Error(`Missing required environment variable: ${name}`);
  }
  return val || "";
}

const GRAPH_BASE = "https://graph.microsoft.com/v1.0";

// Observability types and callback
export interface GraphRequestMetric {
  url: string;
  status: number;
  attempts: number;      // total tries for this call
  retryCount: number;    // 429/503 retries
  durationMs: number;    // total elapsed time for final outcome
  fromCache?: boolean;   // optional flag when cache is used (site/list ids or deployedSince)
  method: "GET";
  timestamp: string;     // ISO
}

let graphMetricsCallback: ((m: GraphRequestMetric) => void) | undefined;

/**
 * Register a callback to receive metrics for Graph GET requests.
 * Pass undefined to clear.
 */
export function setGraphMetricsCallback(cb?: (m: GraphRequestMetric) => void): void {
  graphMetricsCallback = cb;
}

/**
 * Capture Graph metrics for the duration of the provided async function.
 * Restores any previous callback afterward.
 */
export async function captureGraphMetrics<T>(
  fn: () => Promise<T>
): Promise<{ result: T; metrics: GraphRequestMetric[] }> {
  const prev = graphMetricsCallback;
  const metrics: GraphRequestMetric[] = [];
  graphMetricsCallback = (m) => metrics.push(m);
  try {
    const result = await fn();
    return { result, metrics };
  } finally {
    graphMetricsCallback = prev;
  }
}

// Basic sleep helper
function sleep(ms: number) {
  return new Promise((res) => setTimeout(res, ms));
}

function parseRetryAfter(headerVal: string | null): number {
  if (!headerVal) return 1000; // default 1s
  // If integer seconds
  const seconds = Number.parseInt(headerVal, 10);
  if (!Number.isNaN(seconds)) return Math.min(Math.max(seconds, 1), 60) * 1000;
  // HTTP-date
  const when = new Date(headerVal).getTime();
  const delta = when - Date.now();
  if (Number.isNaN(when) || delta <= 0) return 1000;
  return Math.min(delta, 60_000);
}

// Jittered exponential backoff (when Retry-After is absent)
function backoffDelay(attempt: number): number {
  const base = 1000 * Math.pow(2, attempt); // 1s, 2s, 4s, 8s, ...
  const jitter = Math.floor(Math.random() * 250); // 0..250ms
  return Math.min(base + jitter, 60_000);
}

const MAX_RETRIES = Number.parseInt(process.env.GRAPH_MAX_RETRIES || "3", 10);

/**
 * Graph GET with retry/backoff and metrics emission.
 * - Honors Retry-After when present
 * - Otherwise uses jittered exponential backoff
 * - Emits GraphRequestMetric to an optional callback
 */
async function graphGet<T>(url: string, accessToken: string, extraHeaders?: HeadersInit): Promise<T> {
  const started = Date.now();
  let attempt = 0;
  let retryCount = 0;
  let lastErr: unknown;
  let lastStatus = 0;

  while (attempt <= MAX_RETRIES) {
    const res = await fetch(url, {
      method: "GET",
      headers: {
        Authorization: `Bearer ${accessToken}`,
        Accept: "application/json",
        ...(extraHeaders || {}),
      },
    });

    lastStatus = res.status;

    if (res.ok) {
      const durationMs = Date.now() - started;
      const json = (await res.json()) as T;

      if (graphMetricsCallback) {
        graphMetricsCallback({
          url,
          status: res.status,
          attempts: attempt + 1,
          retryCount,
          durationMs,
          method: "GET",
          timestamp: new Date().toISOString(),
        });
      } else if (process.env.DEBUG_GRAPH === "true") {
        // minimal debug to aid diagnostics without spamming logs
        // eslint-disable-next-line no-console
        console.debug("Graph GET ok", { status: res.status, attempts: attempt + 1, retryCount, durationMs, url });
      }

      return json;
    }

    if (res.status === 429 || res.status === 503) {
      if (attempt === MAX_RETRIES) {
        lastErr = new Error(`Graph ${res.status}: exceeded retries`);
        break;
      }
      retryCount++;
      const ra = res.headers.get("Retry-After");
      const delay = ra ? parseRetryAfter(ra) : backoffDelay(attempt);
      await sleep(delay);
      attempt++;
      continue;
    }

    const text = await res.text();
    const durationMs = Date.now() - started;

    if (graphMetricsCallback) {
      graphMetricsCallback({
        url,
        status: res.status,
        attempts: attempt + 1,
        retryCount,
        durationMs,
        method: "GET",
        timestamp: new Date().toISOString(),
      });
    } else if (process.env.DEBUG_GRAPH === "true") {
      // eslint-disable-next-line no-console
      console.debug("Graph GET error", { status: res.status, attempts: attempt + 1, retryCount, durationMs, url });
    }

    throw new Error(`Graph error ${res.status}: ${text}`);
  }

  const durationMs = Date.now() - started;

  if (graphMetricsCallback) {
    graphMetricsCallback({
      url,
      status: lastStatus || 0,
      attempts: attempt + 1,
      retryCount,
      durationMs,
      method: "GET",
      timestamp: new Date().toISOString(),
    });
  } else if (process.env.DEBUG_GRAPH === "true") {
    // eslint-disable-next-line no-console
    console.debug("Graph GET failed", { status: lastStatus, attempts: attempt + 1, retryCount, durationMs, url });
  }

  throw lastErr || new Error("Graph request failed");
}

// Caches (optional)
const ttlMs = Number.parseInt(process.env.CACHE_TTL_SECONDS || "0", 10) * 1000;
const idTtlMs = Number.parseInt(process.env.CACHE_ID_TTL_SECONDS || "300", 10) * 1000;

const siteIdCache = new LRUCache<string, string>({ max: 100, ttl: idTtlMs });
const listIdCache = new LRUCache<string, string>({ max: 200, ttl: idTtlMs });
const itemsCache = new LRUCache<string, InventoryItem[]>({ max: 20, ttl: ttlMs });
const deployedTtlMs = Number.parseInt(process.env.DEPLOYED_CACHE_TTL_SECONDS || "60", 10) * 1000;
const deployedSinceCache = new LRUCache<string, InventoryItem[]>({ max: 20, ttl: deployedTtlMs });
const deployedAtTtlMs = Number.parseInt(process.env.DEPLOYED_AT_TTL_SECONDS || "300", 10) * 1000;
const deployedAtCache = new LRUCache<string, string>({ max: 1000, ttl: deployedAtTtlMs });

// Types for list items payload
type GraphListItemRaw = SysGraphListItem & {
  fields?: Record<string, unknown>;
};

// Tunables for performance
const DEPLOYED_PAGE_SIZE = Number.parseInt(process.env.DEPLOYED_PAGE_SIZE || "50", 10);
const DEPLOYED_CONCURRENCY = Number.parseInt(process.env.DEPLOYED_CONCURRENCY || "10", 10);
const DEPLOYED_MAX_RESULTS = Number.parseInt(process.env.DEPLOYED_MAX_RESULTS || "50", 10);

type GraphListItemsResponse = {
  value: GraphListItemRaw[];
  "@odata.nextLink"?: string;
};

export async function getSiteId(
  accessToken: string,
  hostname: string,
  sitePath: string
): Promise<string> {
  const key = `${hostname}:${sitePath}`;
  const cached = siteIdCache.get(key);
  if (cached) return cached;

  const siteUrl = `${GRAPH_BASE}/sites/${encodeURIComponent(hostname)}:${encodeURI(
    sitePath.startsWith("/") ? sitePath : `/${sitePath}`
  )}?$select=id`;
  const json = await graphGet<{ id: string }>(siteUrl, accessToken);
  const id = json?.id as string | undefined;
  if (!id) throw new Error("Site not found or missing id");
  siteIdCache.set(key, id);
  return id;
}

export async function getListId(
  accessToken: string,
  siteId: string,
  listNameOrId: string
): Promise<string> {
  const key = `${siteId}:${listNameOrId}`;
  const cached = listIdCache.get(key);
  if (cached) return cached;

  const listUrl = `${GRAPH_BASE}/sites/${encodeURIComponent(siteId)}/lists/${encodeURIComponent(
    listNameOrId
  )}?$select=id`;
  const json = await graphGet<{ id: string }>(listUrl, accessToken);
  const id = json?.id as string | undefined;
  if (!id) throw new Error("List not found or missing id");
  listIdCache.set(key, id);
  return id;
}

export async function fetchListItemsPage(params: {
  accessToken: string;
  siteId: string;
  listId: string;
  top?: number;
  skiptoken?: string;
}): Promise<{ items: GraphListItemRaw[]; nextLink?: string }> {
  const { accessToken, siteId, listId, top = 100, skiptoken } = params;

  const select = "id,createdDateTime,lastModifiedDateTime,createdBy,lastModifiedBy";
  const expand = `fields($select=${SP_FIELDS_SELECT})`;

  const searchParams = new URLSearchParams();
  searchParams.set("$top", String(top));
  searchParams.set("$select", select);
  searchParams.set("$expand", expand);
  if (skiptoken) searchParams.set("$skiptoken", skiptoken);

  const url = `${GRAPH_BASE}/sites/${encodeURIComponent(
    siteId
  )}/lists/${encodeURIComponent(listId)}/items?${searchParams.toString()}`;

  const json = await graphGet<GraphListItemsResponse>(url, accessToken, {
    Prefer: "HonorNonIndexedQueriesWarningMayFailRandomly",
  });
  const items = json?.value ?? [];
  const nextLink = json?.["@odata.nextLink"];
  return { items, nextLink };
}

export async function fetchAllListItems(
  accessToken: string,
  siteId: string,
  listId: string
): Promise<GraphListItemRaw[]> {
  let all: GraphListItemRaw[] = [];
  let next: string | undefined = undefined;

  const first = await fetchListItemsPage({ accessToken, siteId, listId, top: 100 });
  all = all.concat(first.items);
  next = first.nextLink;

  while (next) {
    // next contains the full URL including skiptoken
    const json = await graphGet<GraphListItemsResponse>(next, accessToken);
    all = all.concat(json?.value ?? []);
    next = json?.["@odata.nextLink"];
  }
  return all;
}

/**
 * End-to-end: Fetch inventory items using a Graph access token.
 * Applies mapping and validation.
 */
export async function fetchInventoryItems(accessToken: string): Promise<InventoryItem[]> {
  const hostname = getEnv("SP_HOSTNAME");
  const sitePath = getEnv("SP_SITE_PATH");
  const listIdOrName = getEnv("SP_LIST_ID_OR_NAME");

  const cacheKey = `${hostname}|${sitePath}|${listIdOrName}`;
  if (ttlMs > 0) {
    const cached = itemsCache.get(cacheKey);
    if (cached) return cached;
  }

  const siteId = await getSiteId(accessToken, hostname, sitePath);
  const listId = await getListId(accessToken, siteId, listIdOrName);
  const listItems = await fetchAllListItems(accessToken, siteId, listId);

  const items: InventoryItem[] = [];
  for (const li of listItems) {
    try {
      items.push(mapGraphListItemToInventory(li.fields ?? {}, li));
    } catch (e) {
      // Skip invalid items; optionally log
      // console.warn("Skipping invalid list item", li.id, e);
    }
  }

  if (ttlMs > 0) {
    itemsCache.set(cacheKey, items);
  }
  return items;
}

/**
 * Convenience helper that accepts a user access token for this API,
 * performs OBO to acquire a Graph token, and then fetches inventory items.
 */
export async function fetchInventoryItemsWithUserToken(userAccessToken: string): Promise<InventoryItem[]> {
  const scopes = (process.env.GRAPH_SCOPES || "https://graph.microsoft.com/.default")
    .split(/[,\s]+/)
    .filter(Boolean);
  const graphToken = await acquireOboToken(userAccessToken, scopes);
  return fetchInventoryItems(graphToken);
}

/**
 * Fetch a single inventory item by asset number using Graph $filter to avoid full list fetch.
 * Returns null when not found.
 */
export async function fetchInventoryItemByAsset(
  accessToken: string,
  assetNumber: number
): Promise<InventoryItem | null> {
  const hostname = getEnv("SP_HOSTNAME");
  const sitePath = getEnv("SP_SITE_PATH");
  const listIdOrName = getEnv("SP_LIST_ID_OR_NAME");

  const siteId = await getSiteId(accessToken, hostname, sitePath);
  const listId = await getListId(accessToken, siteId, listIdOrName);

  const select = "id,createdDateTime,lastModifiedDateTime,createdBy,lastModifiedBy";
  const expand = `fields($select=${SP_FIELDS_SELECT})`;
  // Asset is mapped to SharePoint "Title" (string) by FIELD_MAP.asset
  const filter = `fields/${FIELD_MAP.asset} eq '${String(assetNumber)}'`;

  const sp = new URLSearchParams();
  sp.set("$top", "1");
  sp.set("$select", select);
  sp.set("$expand", expand);
  sp.set("$filter", filter);

  const url = `${GRAPH_BASE}/sites/${encodeURIComponent(
    siteId
  )}/lists/${encodeURIComponent(listId)}/items?${sp.toString()}`;

  const json = await graphGet<GraphListItemsResponse>(url, accessToken, {
    Prefer: "HonorNonIndexedQueriesWarningMayFailRandomly",
  });
  const raw = (json?.value ?? [])[0];
  if (!raw) return null;
  try {
    return mapGraphListItemToInventory(raw.fields ?? {}, raw);
  } catch {
    return null;
  }
}

/**
 * OBO wrapper to fetch a single inventory item by asset number.
 */
export async function fetchInventoryItemByAssetWithUserToken(
  userAccessToken: string,
  assetNumber: number
): Promise<InventoryItem | null> {
  const scopes = (process.env.GRAPH_SCOPES || "https://graph.microsoft.com/.default")
    .split(/[,\s]+/)
    .filter(Boolean);
  const graphToken = await acquireOboToken(userAccessToken, scopes);
  return fetchInventoryItemByAsset(graphToken, assetNumber);
}

/**
 * Resolve siteId/listId/itemId for an asset number using a filtered query.
 * Returns null if not found.
 */
export async function findListItemIdByAssetWithUserToken(
  userAccessToken: string,
  assetNumber: number
): Promise<{ siteId: string; listId: string; itemId: string } | null> {
  const scopes = (process.env.GRAPH_SCOPES || "https://graph.microsoft.com/.default")
    .split(/[,\s]+/)
    .filter(Boolean);
  const accessToken = await acquireOboToken(userAccessToken, scopes);

  const hostname = getEnv("SP_HOSTNAME");
  const sitePath = getEnv("SP_SITE_PATH");
  const listIdOrName = getEnv("SP_LIST_ID_OR_NAME");

  const siteId = await getSiteId(accessToken, hostname, sitePath);
  const listId = await getListId(accessToken, siteId, listIdOrName);

  const sp = new URLSearchParams();
  sp.set("$top", "1");
  sp.set("$select", "id");
  sp.set("$filter", `fields/${FIELD_MAP.asset} eq '${String(assetNumber)}'`);

  const url = `${GRAPH_BASE}/sites/${encodeURIComponent(
    siteId
  )}/lists/${encodeURIComponent(listId)}/items?${sp.toString()}`;

  const json = await graphGet<{ value: { id: string }[] }>(url, accessToken, {
    Prefer: "HonorNonIndexedQueriesWarningMayFailRandomly",
  });
  const raw = (json?.value ?? [])[0];
  if (!raw?.id) return null;
  return { siteId, listId, itemId: raw.id };
}

/**
 * Search inventory items by asset number prefix using Graph $filter startswith on SharePoint Title (mapped from "asset").
 * Returns up to "top" results mapped to InventoryItem.
 */
export async function searchInventoryByAssetPrefix(
  accessToken: string,
  prefix: string,
  top = 10
): Promise<InventoryItem[]> {
  const hostname = getEnv("SP_HOSTNAME");
  const sitePath = getEnv("SP_SITE_PATH");
  const listIdOrName = getEnv("SP_LIST_ID_OR_NAME");

  // sanitize to digits for asset number prefix
  const pfx = String(prefix || "").trim().replace(/[^0-9]/g, "");
  if (!pfx) return [];

  const siteId = await getSiteId(accessToken, hostname, sitePath);
  const listId = await getListId(accessToken, siteId, listIdOrName);

  const select = "id,createdDateTime,lastModifiedDateTime,createdBy,lastModifiedBy";
  const expand = `fields($select=${SP_FIELDS_SELECT})`;

  const sp = new URLSearchParams();
  sp.set("$top", String(Math.max(1, Math.min(top || 10, 50))));
  sp.set("$select", select);
  sp.set("$expand", expand);
  // Use FIELD_MAP.asset which is "Title" per mapping
  // Escape single quotes in prefix for OData
  const safe = pfx.replace(/'/g, "''");
  sp.set("$filter", `startswith(fields/${FIELD_MAP.asset},'${safe}')`);
  sp.set("$orderby", "lastModifiedDateTime desc");

  const url = `${GRAPH_BASE}/sites/${encodeURIComponent(
    siteId
  )}/lists/${encodeURIComponent(listId)}/items?${sp.toString()}`;

  try {
    const json = await graphGet<GraphListItemsResponse>(url, accessToken, {
      // Correct Prefer header for non-indexed queries in SharePoint via Graph
      Prefer: "HonorNonIndexedQueriesWarning=true",
    });
    const raw = json?.value ?? [];
    const out: InventoryItem[] = [];
    for (const li of raw) {
      try {
        out.push(mapGraphListItemToInventory(li.fields ?? {}, li));
      } catch {
        // skip invalid item
      }
    }
    return out;
  } catch {
    // Fallback: scan first page and filter client-side by Title prefix
    try {
      const { items } = await fetchListItemsPage({ accessToken, siteId, listId, top: 200 });
      const filtered = items
        .filter((li) => {
          const f = (li.fields || {}) as Record<string, unknown>;
          const raw = f[FIELD_MAP.asset];
          const title = typeof raw === "string" || typeof raw === "number" ? String(raw) : "";
          return title.startsWith(pfx);
        })
        .slice(0, Math.max(1, Math.min(top || 10, 50)));
      const out: InventoryItem[] = [];
      for (const li of filtered) {
        try {
          out.push(mapGraphListItemToInventory(li.fields ?? {}, li));
        } catch {
          // skip invalid
        }
      }
      return out;
    } catch {
      return [];
    }
  }
}

/**
 * OBO wrapper to search by asset prefix using the current user's API token.
 */
export async function searchInventoryByAssetPrefixWithUserToken(
  userAccessToken: string,
  prefix: string,
  top = 10
): Promise<InventoryItem[]> {
  const scopes = (process.env.GRAPH_SCOPES || "https://graph.microsoft.com/.default")
    .split(/[,\s]+/)
    .filter(Boolean);
  const graphToken = await acquireOboToken(userAccessToken, scopes);
  return searchInventoryByAssetPrefix(graphToken, prefix, top);
}

/**
 * Recent activity (latest items by lastModifiedDateTime) with per-row latest changed domain field dot.
 */
export type GraphListItemVersion = {
  lastModifiedDateTime?: string;
  lastModifiedBy?: { user?: { displayName?: string | null } | null } | null;
  fields?: Record<string, unknown>;
};

async function fetchRecentListItems(
  accessToken: string,
  siteId: string,
  listId: string,
  top: number
): Promise<GraphListItemRaw[]> {
  const select = "id,createdDateTime,lastModifiedDateTime,createdBy,lastModifiedBy";
  const expand = `fields($select=${SP_FIELDS_SELECT})`;

  const searchParams = new URLSearchParams();
  searchParams.set("$top", String(top));
  searchParams.set("$select", select);
  searchParams.set("$expand", expand);
  searchParams.set("$orderby", "lastModifiedDateTime desc");

  const url = `${GRAPH_BASE}/sites/${encodeURIComponent(
    siteId
  )}/lists/${encodeURIComponent(listId)}/items?${searchParams.toString()}`;

  const json = await graphGet<GraphListItemsResponse>(url, accessToken);
  return json?.value ?? [];
}

export async function fetchListItemVersions(
  accessToken: string,
  siteId: string,
  listId: string,
  itemId: string,
  top = 5
): Promise<GraphListItemVersion[]> {
  const expand = `fields($select=${SP_FIELDS_SELECT})`;
  const select = "lastModifiedDateTime,lastModifiedBy";
  const url = `${GRAPH_BASE}/sites/${encodeURIComponent(siteId)}/lists/${encodeURIComponent(
    listId
  )}/items/${encodeURIComponent(
    itemId
  )}/versions?$top=${top}&$expand=${encodeURIComponent(expand)}&$select=${encodeURIComponent(select)}`;
  const json = await graphGet<{ value: GraphListItemVersion[] }>(url, accessToken);
  return json?.value ?? [];
}

// Fetch candidates with status=Deployed ordered by lastModified desc, stop when older than "since"
async function fetchDeployedCandidates(
  accessToken: string,
  siteId: string,
  listId: string,
  since: Date,
  pageSize = DEPLOYED_PAGE_SIZE
): Promise<GraphListItemRaw[]> {
  const sinceIso = since.toISOString();
  const filter = `fields/${FIELD_MAP.status} eq 'Deployed' and lastModifiedDateTime ge ${sinceIso}`;
  const select = "id,createdDateTime,lastModifiedDateTime,createdBy,lastModifiedBy";
  const expand = `fields($select=${SP_FIELDS_SELECT})`;
  const sinceMs = since.getTime();

  let results: GraphListItemRaw[] = [];
  let next: string | undefined = undefined;

  const buildUrl = () => {
    const sp = new URLSearchParams();
    sp.set("$top", String(pageSize));
    sp.set("$select", select);
    sp.set("$expand", expand);
    sp.set("$orderby", "lastModifiedDateTime desc");
    sp.set("$filter", filter);
    return `${GRAPH_BASE}/sites/${encodeURIComponent(siteId)}/lists/${encodeURIComponent(
      listId
    )}/items?${sp.toString()}`;
  };

  // first page (or continue with @odata.nextLink)
  const url = buildUrl();
  while (true) {
    const json: GraphListItemsResponse = await graphGet<GraphListItemsResponse>(next ?? url, accessToken);
    const pageItems = json?.value ?? [];
    results = results.concat(pageItems);
    // Stop if last item's lastModified < since
    const last = pageItems[pageItems.length - 1];
    const lastMs = last?.lastModifiedDateTime ? new Date(last.lastModifiedDateTime).getTime() : Infinity;
    if (!json?.["@odata.nextLink"] || Number.isNaN(lastMs) || lastMs < sinceMs) {
      break;
    }
    next = json?.["@odata.nextLink"];
  }

  // Filter out older than since
  return results.filter((li) => {
    const t = li.lastModifiedDateTime ? new Date(li.lastModifiedDateTime).getTime() : 0;
    return !Number.isNaN(t) && t >= sinceMs;
  });
}

function toDate(d?: string): Date | undefined {
  if (!d) return undefined;
  const dt = new Date(d);
  return Number.isNaN(dt.getTime()) ? undefined : dt;
}

function isSameUtcDay(a?: string, b?: string): boolean {
  const da = toDate(a);
  const db = toDate(b);
  if (!da || !db) return false;
  return (
    da.getUTCFullYear() === db.getUTCFullYear() &&
    da.getUTCMonth() === db.getUTCMonth() &&
    da.getUTCDate() === db.getUTCDate()
  );
}

function pickField(obj: Record<string, unknown> | undefined, domain: DomainField) {
  if (!obj) return undefined;
  return obj[FIELD_MAP[domain]];
}

function detectLatestChangedFieldForDay(
  versions: GraphListItemVersion[],
  activityDateTime?: string
): DomainField | undefined {
  if (!activityDateTime || versions.length === 0) return undefined;

  // Filter only versions that occurred on the same UTC day as the activity timestamp.
  const sameDay = versions.filter((v) => isSameUtcDay(v.lastModifiedDateTime, activityDateTime));
  if (sameDay.length < 2) {
    // Requirement: only highlight when multiple column changes occurred within the same day.
    return undefined;
  }

  // Determine how many domain fields differ between the newest and oldest version on that day.
  const newest = sameDay[0];
  const oldest = sameDay[sameDay.length - 1];
  if (!newest?.fields || !oldest?.fields) return undefined;

  const DOMAIN_ORDER: DomainField[] = [
    "asset",
    "userLocation",
    "status",
    "serial",
    "model",
    "assetImage",
    "notes",
  ];

  let changedCount = 0;
  for (const key of DOMAIN_ORDER) {
    const a = pickField(newest.fields, key);
    const b = pickField(oldest.fields, key);
    if (String(a ?? "") !== String(b ?? "")) {
      changedCount++;
    }
  }
  if (changedCount <= 1) {
    // Only one field changed across the day -> do not highlight.
    return undefined;
  }

  // Pick the newest changed field (compare newest with the immediately previous version if available).
  const newestIndex = versions.findIndex((v) => v === sameDay[0]);
  const prev = versions[newestIndex + 1];
  const compareTo = prev?.fields ? prev : sameDay[1]; // fallback to the next same-day version
  if (!compareTo?.fields) return undefined;

  for (const key of DOMAIN_ORDER) {
    const a = pickField(newest.fields, key);
    const b = pickField(compareTo.fields, key);
    if (String(a ?? "") !== String(b ?? "")) {
      return key;
    }
  }
  return undefined;
}

/**
 * Fetch latest items and compute _activityDateTime and _latestChangedField dot.
 */
export async function fetchRecentInventoryActivity(
  accessToken: string,
  limit = 10
): Promise<(InventoryItem & { _activityDateTime?: string; _latestChangedField?: DomainField })[]> {
  const hostname = getEnv("SP_HOSTNAME");
  const sitePath = getEnv("SP_SITE_PATH");
  const listIdOrName = getEnv("SP_LIST_ID_OR_NAME");

  const siteId = await getSiteId(accessToken, hostname, sitePath);
  const listId = await getListId(accessToken, siteId, listIdOrName);

  // Fetch a small buffer to account for items we might skip
  const rawItems = await fetchRecentListItems(accessToken, siteId, listId, Math.max(25, limit));
  // Map to domain and compute activity timestamp from system fields
  type EnrichedItem = InventoryItem & { _activityDateTime?: string; _latestChangedField?: DomainField };
  const enrichedAll = await Promise.all(
    rawItems.slice(0, Math.max(25, limit)).map(async (li): Promise<EnrichedItem | null> => {
      const activity = li.lastModifiedDateTime || li.createdDateTime || "";
      let latestChanged: DomainField | undefined = undefined;
      try {
        const versions = await fetchListItemVersions(accessToken, siteId, listId, li.id, 5);
        latestChanged = detectLatestChangedFieldForDay(versions, activity);
      } catch {
        // ignore versions failures; leave highlight undefined
      }
      try {
        const item = mapGraphListItemToInventory(li.fields ?? {}, li);
        return { ...item, _activityDateTime: activity, _latestChangedField: latestChanged };
      } catch {
        // Skip invalid items (e.g., non-numeric serial)
        return null;
      }
    })
  );
  const enriched = enrichedAll.filter((x): x is EnrichedItem => x !== null);

  // Sort by _activityDateTime desc (full precision), then slice top N
  const sorted = enriched
    .filter((x) => !!x._activityDateTime)
    .sort(
      (a, b) =>
        new Date(b._activityDateTime as string).getTime() -
        new Date(a._activityDateTime as string).getTime()
    )
    .slice(0, limit);

  return sorted;
}

/**
 * Convenience wrapper with user token for recent activity.
 */
export async function fetchRecentInventoryActivityWithUserToken(
  userAccessToken: string,
  limit = 10
): Promise<(InventoryItem & { _activityDateTime?: string; _latestChangedField?: DomainField })[]> {
  const scopes = (process.env.GRAPH_SCOPES || "https://graph.microsoft.com/.default")
    .split(/[,\s]+/)
    .filter(Boolean);
  const graphToken = await acquireOboToken(userAccessToken, scopes);
  return fetchRecentInventoryActivity(graphToken, limit);
}

/**
 * Normalize status strings similarly to validation (local copy).
 */
function normalizeStatusValue(val: unknown): string {
  if (typeof val !== "string") return "";
  return val.trim().toLowerCase().replace(/\s+/g, "_").replace(/-/g, "_");
}

/**
 * Pure helper to find the timestamp when status became deployed given versions list.
 * Exported for unit testing.
 */
export function findDeployedTransitionTimestamp(
  versions: GraphListItemVersion[]
): string | undefined {
  // Versions are expected newest-first.
  // Only consider a transition when there is a previous version to compare against.
  for (let i = 0; i < versions.length - 1; i++) {
    const cur = versions[i];
    const prev = versions[i + 1];
    const curFields = cur.fields as Record<string, unknown> | undefined;
    const prevFields = prev?.fields as Record<string, unknown> | undefined;
    const curStatus = normalizeStatusValue(curFields?.[FIELD_MAP.status]);
    const prevStatus = normalizeStatusValue(prevFields?.[FIELD_MAP.status]);
    if (curStatus === "deployed" && prevStatus !== "deployed") {
      return cur.lastModifiedDateTime;
    }
  }
  // Fallback: if newest known version is deployed, return its timestamp.
  if (versions[0]) {
    const newestFields = versions[0].fields as Record<string, unknown> | undefined;
    const newestStatus = normalizeStatusValue(newestFields?.[FIELD_MAP.status]);
    if (newestStatus === "deployed") {
      return versions[0].lastModifiedDateTime;
    }
  }
  return undefined;
}

/**
 * Determine when an item's status became "deployed" by inspecting versions.
 * Returns the version's lastModifiedDateTime at which status transitioned to deployed.
 */
async function getStatusDeployedAt(
  accessToken: string,
  siteId: string,
  listId: string,
  itemId: string
): Promise<string | undefined> {
  // Cache hit short-circuit
  const cached = deployedAtCache.get(itemId);
  if (cached) return cached;

  // Fetch a limited number of versions (tuneable) to find the transition quickly.
  const versions = await fetchListItemVersions(accessToken, siteId, listId, itemId, 10);
  const ts = findDeployedTransitionTimestamp(versions);
  if (ts) {
    deployedAtCache.set(itemId, ts);
    return ts;
  }
  return undefined;
}

/**
 * Fetch items whose status transitioned to "deployed" on/after the given date.
 */
export async function fetchDeployedSince(accessToken: string, since: Date): Promise<InventoryItem[]> {
  const hostname = getEnv("SP_HOSTNAME");
  const sitePath = getEnv("SP_SITE_PATH");
  const listIdOrName = getEnv("SP_LIST_ID_OR_NAME");

  // Cache key rounded to day to avoid excessive keys for identical ranges (week/month)
  const deployedCacheKey = `${hostname}|${sitePath}|${listIdOrName}|${since.toISOString().slice(0, 10)}`;
  if (deployedTtlMs > 0) {
    const cached = deployedSinceCache.get(deployedCacheKey);
    if (cached) return cached;
  }

  const siteId = await getSiteId(accessToken, hostname, sitePath);
  const listId = await getListId(accessToken, siteId, listIdOrName);

  const candidates = await fetchDeployedCandidates(accessToken, siteId, listId, since);

  const sinceMs = since.getTime();
  const out: InventoryItem[] = [];

  // Limit concurrency of version lookups to keep the endpoint responsive.
  const BATCH = DEPLOYED_CONCURRENCY;
  for (let i = 0; i < candidates.length; i += BATCH) {
    const slice = candidates.slice(i, i + BATCH);
    const processed = await Promise.all(
      slice.map(async (li) => {
        try {
          const deployedAt = await getStatusDeployedAt(accessToken, siteId, listId, li.id);
          if (!deployedAt) return null;
          const deployedMs = new Date(deployedAt).getTime();
          if (Number.isNaN(deployedMs) || deployedMs < sinceMs) return null;

          try {
            const item = mapGraphListItemToInventory(li.fields ?? {}, li);
            return item;
          } catch {
            return null;
          }
        } catch {
          return null;
        }
      })
    );
    for (const item of processed) {
      if (item) out.push(item);
    }
    if (DEPLOYED_MAX_RESULTS > 0 && out.length >= DEPLOYED_MAX_RESULTS) {
      break;
    }
  }

  // Sort for stable UI: Modified desc (fallback to Created)
  out.sort((a, b) => {
    const ad = new Date(a.modified || a.created).getTime();
    const bd = new Date(b.modified || b.created).getTime();
    return bd - ad;
  });

  const finalOut = DEPLOYED_MAX_RESULTS > 0 ? out.slice(0, DEPLOYED_MAX_RESULTS) : out;

  if (deployedTtlMs > 0) {
    deployedSinceCache.set(deployedCacheKey, finalOut);
  }
  return finalOut;
}

/**
 * OBO wrapper for deployed-since query.
 */
export async function fetchDeployedSinceWithUserToken(
  userAccessToken: string,
  since: Date
): Promise<InventoryItem[]> {
  const scopes = (process.env.GRAPH_SCOPES || "https://graph.microsoft.com/.default")
    .split(/[,\s]+/)
    .filter(Boolean);
  const graphToken = await acquireOboToken(userAccessToken, scopes);
  return fetchDeployedSince(graphToken, since);
}

/**
 * Internal: generic Graph write (PATCH/POST/DELETE) with limited retry on 429/503.
 * Metrics are not emitted here (kept simple); DEBUG_GRAPH prints minimal diagnostics.
 */
export class GraphHttpError extends Error {
  status: number;
  body?: string;
  constructor(status: number, body?: string) {
    super(`Graph HTTP ${status}${body ? `: ${body}` : ""}`);
    this.name = "GraphHttpError";
    this.status = status;
    this.body = body;
  }
}

type GraphWriteMethod = "PATCH" | "POST" | "DELETE";

async function graphSend(
  method: GraphWriteMethod,
  url: string,
  accessToken: string,
  body?: unknown,
  extraHeaders?: HeadersInit
): Promise<Response> {
  const started = Date.now();
  let attempt = 0;
  let retryCount = 0;
  let lastErr: unknown;
  let lastStatus = 0;

  while (attempt <= MAX_RETRIES) {
    const res = await fetch(url, {
      method,
      headers: {
        Authorization: `Bearer ${accessToken}`,
        Accept: "application/json",
        ...(body !== undefined ? { "Content-Type": "application/json" } : {}),
        ...(extraHeaders || {}),
      },
      body: body !== undefined ? JSON.stringify(body) : undefined,
    });
    lastStatus = res.status;

    if (res.ok) {
      if (process.env.DEBUG_GRAPH === "true") {
        // eslint-disable-next-line no-console
        console.debug("Graph write ok", { method, status: res.status, attempts: attempt + 1, retryCount, ms: Date.now() - started, url });
      }
      return res;
    }

    if (res.status === 429 || res.status === 503) {
      if (attempt === MAX_RETRIES) {
        lastErr = new Error(`Graph ${res.status}: exceeded retries`);
        break;
      }
      retryCount++;
      const ra = res.headers.get("Retry-After");
      const delay = ra ? parseRetryAfter(ra) : backoffDelay(attempt);
      await sleep(delay);
      attempt++;
      continue;
    }

    const text = await res.text();
    if (process.env.DEBUG_GRAPH === "true") {
      // eslint-disable-next-line no-console
      console.debug("Graph write error", { method, status: res.status, attempts: attempt + 1, retryCount, ms: Date.now() - started, url, text });
    }
    throw new GraphHttpError(res.status, text);
  }

  if (lastErr) throw lastErr;
  throw new GraphHttpError(lastStatus || 0);
}

/**
 * PATCH fields for a list item.
 * - fields: object of SharePoint INTERNAL field names to new values (not domain keys)
 * - ifMatch: specific ETag or "*" to force
 * Returns latest eTag when determinable (header or follow-up GET), otherwise undefined.
 */
export async function updateListItemFields(
  accessToken: string,
  siteId: string,
  listId: string,
  itemId: string,
  fields: Record<string, unknown>,
  ifMatch: string = "*"
): Promise<{ eTag?: string }> {
  const url = `${GRAPH_BASE}/sites/${encodeURIComponent(siteId)}/lists/${encodeURIComponent(
    listId
  )}/items/${encodeURIComponent(itemId)}/fields`;

  const res = await graphSend("PATCH", url, accessToken, fields, { "If-Match": ifMatch });
  // Prefer ETag response header when present
  const hdr = res.headers.get("ETag") || res.headers.get("Etag") || res.headers.get("etag");
  if (hdr) return { eTag: hdr };

  // Fallback: fetch item to read ETag
  try {
    const { eTag } = await getListItemETag(accessToken, siteId, listId, itemId);
    return { eTag };
  } catch {
    return { eTag: undefined };
  }
}

/**
 * DELETE a list item by id with If-Match support (defaults to "*").
 */
export async function deleteListItem(
  accessToken: string,
  siteId: string,
  listId: string,
  itemId: string,
  ifMatch: string = "*"
): Promise<void> {
  const url = `${GRAPH_BASE}/sites/${encodeURIComponent(siteId)}/lists/${encodeURIComponent(
    listId
  )}/items/${encodeURIComponent(itemId)}`;
  const res = await graphSend("DELETE", url, accessToken, undefined, { "If-Match": ifMatch });
  if (!res.ok) {
    const t = await res.text().catch(() => "");
    throw new Error(`Graph delete failed ${res.status}: ${t || "unknown"}`);
  }
}

/**
 * Fetch a list item's current ETag from headers or body.
 */
export async function getListItemETag(
  accessToken: string,
  siteId: string,
  listId: string,
  itemId: string
): Promise<{ eTag: string | undefined }> {
  const url = `${GRAPH_BASE}/sites/${encodeURIComponent(siteId)}/lists/${encodeURIComponent(
    listId
  )}/items/${encodeURIComponent(itemId)}`;
  const res = await fetch(url, {
    method: "GET",
    headers: {
      Authorization: `Bearer ${accessToken}`,
      Accept: "application/json",
    },
  });
  if (!res.ok) {
    const t = await res.text().catch(() => "");
    throw new Error(`Graph getListItemETag failed ${res.status}: ${t || "unknown"}`);
  }
  const hdr = res.headers.get("ETag") || res.headers.get("Etag") || res.headers.get("etag");
  if (hdr) return { eTag: hdr };
  try {
    type ETagBody = { eTag?: string } & { "@odata.etag"?: string };
    const js = (await res.json()) as ETagBody;
    return { eTag: js.eTag || js["@odata.etag"] };
  } catch {
    return { eTag: undefined };
  }
}

/**
 * High-level helpers that operate with a user API token (OBO for Graph).
 * These locate the itemId for a given asset number and perform the write.
 */
export async function updateInventoryItemFieldsWithUserToken(
  userAccessToken: string,
  assetNumber: number,
  spFieldPatch: Record<string, unknown>,
  etag?: string
): Promise<{ eTag?: string }> {
  // Resolve ids using existing helper (internally performs OBO)
  const ids = await findListItemIdByAssetWithUserToken(userAccessToken, assetNumber);
  if (!ids) {
    throw new Error("Asset not found");
  }

  const scopes = (process.env.GRAPH_SCOPES || "https://graph.microsoft.com/.default")
    .split(/[,\s]+/)
    .filter(Boolean);
  const graphToken = await acquireOboToken(userAccessToken, scopes);

  return updateListItemFields(graphToken, ids.siteId, ids.listId, ids.itemId, spFieldPatch, etag || "*");
}

export async function deleteInventoryItemWithUserToken(
  userAccessToken: string,
  assetNumber: number,
  etag?: string
): Promise<void> {
  const ids = await findListItemIdByAssetWithUserToken(userAccessToken, assetNumber);
  if (!ids) {
    throw new Error("Asset not found");
  }
  const scopes = (process.env.GRAPH_SCOPES || "https://graph.microsoft.com/.default")
    .split(/[,\s]+/)
    .filter(Boolean);
  const graphToken = await acquireOboToken(userAccessToken, scopes);
  await deleteListItem(graphToken, ids.siteId, ids.listId, ids.itemId, etag || "*");
}

/**
 * Create a list item with given SharePoint INTERNAL fields. Returns new item id and eTag if present.
 */
export async function createListItem(
  accessToken: string,
  siteId: string,
  listId: string,
  fields: Record<string, unknown>
): Promise<{ id?: string; eTag?: string }> {
  const url = `${GRAPH_BASE}/sites/${encodeURIComponent(siteId)}/lists/${encodeURIComponent(
    listId
  )}/items`;
  const res = await graphSend("POST", url, accessToken, { fields });
  const hdr = res.headers.get("ETag") || res.headers.get("Etag") || res.headers.get("etag") || undefined;
  let id: string | undefined;
  try {
    const js = (await res.json()) as { id?: string };
    id = js?.id;
  } catch {
    // ignore
  }
  return { id, eTag: hdr || undefined };
}

/**
 * Create a list item using the user's API token (OBO to Graph).
 * Resolves site/list from env and returns id/eTag.
 */
export async function createInventoryItemWithUserToken(
  userAccessToken: string,
  spFields: Record<string, unknown>
): Promise<{ id?: string; eTag?: string }> {
  const scopes = (process.env.GRAPH_SCOPES || "https://graph.microsoft.com/.default")
    .split(/[,\s]+/)
    .filter(Boolean);
  const accessToken = await acquireOboToken(userAccessToken, scopes);

  const hostname = getEnv("SP_HOSTNAME");
  const sitePath = getEnv("SP_SITE_PATH");
  const listIdOrName = getEnv("SP_LIST_ID_OR_NAME");

  const siteId = await getSiteId(accessToken, hostname, sitePath);
  const listId = await getListId(accessToken, siteId, listIdOrName);
  return createListItem(accessToken, siteId, listId, spFields);
}

/**
 * TTL (ms) for distinct models cache (defaults to 15 minutes).
 */
const MODELS_CACHE_TTL_MS = Number.parseInt(process.env.MODELS_CACHE_TTL_SECONDS || "900", 10) * 1000;

/**
 * In-memory cache for distinct model values per site/list.
 * Keyed by `${hostname}|${sitePath}|${listIdOrName}|models`
 */
const modelsCache = new LRUCache<string, string[]>({ max: 100, ttl: MODELS_CACHE_TTL_MS });

/**
 * Return distinct Model values by scanning list items (Model is a free-text field).
 * Caller supplies a user API token; we perform OBO to Graph.
 */
export async function listDistinctModelsViaScanWithUserToken(userAccessToken: string): Promise<string[]> {
  const scopes = (process.env.GRAPH_SCOPES || "https://graph.microsoft.com/.default")
    .split(/[,\s]+/)
    .filter(Boolean);
  const accessToken = await acquireOboToken(userAccessToken, scopes);

  const hostname = getEnv("SP_HOSTNAME");
  const sitePath = getEnv("SP_SITE_PATH");
  const listIdOrName = getEnv("SP_LIST_ID_OR_NAME");

  const cacheKey = `${hostname}|${sitePath}|${listIdOrName}|models`;
  const cached = modelsCache.get(cacheKey);
  if (cached) return cached.slice();

  const siteId = await getSiteId(accessToken, hostname, sitePath);
  const listId = await getListId(accessToken, siteId, listIdOrName);
  const all = await fetchAllListItems(accessToken, siteId, listId);

  const set = new Set<string>();
  for (const li of all) {
    const f = (li.fields || {}) as Record<string, unknown>;
    const raw = f[FIELD_MAP.model];
    if (typeof raw === "string") {
      const val = raw.trim();
      if (val) set.add(val);
    }
  }
  const models = Array.from(set).sort((a, b) => a.localeCompare(b));
  modelsCache.set(cacheKey, models);
  return models;
}

/**
 * Invalidate cached distinct model values (e.g., after item PATCH that changes Model).
 */
export function invalidateModelsCache(): void {
  modelsCache.clear();
}

/**
 * TTL (ms) for distinct user suggestions cache (defaults to 15 minutes).
 */
const USERS_CACHE_TTL_MS = Number.parseInt(process.env.USERS_CACHE_TTL_SECONDS || "900", 10) * 1000;

/**
 * In-memory cache for distinct user display names per site/list.
 * Keyed by `${hostname}|${sitePath}|${listIdOrName}|users`
 */
const usersCache = new LRUCache<string, string[]>({ max: 100, ttl: USERS_CACHE_TTL_MS });

/**
 * Return distinct user-like display names by scanning list items:
 * - createdBy / lastModifiedBy display names
 * - the prefix segment of the "User/Location" field (before "/", en dash, or hyphen)
 * Caller supplies a user API token; we perform OBO to Graph.
 */
export async function listDistinctUsersViaScanWithUserToken(userAccessToken: string): Promise<string[]> {
  const scopes = (process.env.GRAPH_SCOPES || "https://graph.microsoft.com/.default")
    .split(/[,\s]+/)
    .filter(Boolean);
  const accessToken = await acquireOboToken(userAccessToken, scopes);

  const hostname = getEnv("SP_HOSTNAME");
  const sitePath = getEnv("SP_SITE_PATH");
  const listIdOrName = getEnv("SP_LIST_ID_OR_NAME");

  const cacheKey = `${hostname}|${sitePath}|${listIdOrName}|users`;
  const cached = usersCache.get(cacheKey);
  if (cached) return cached.slice();

  const siteId = await getSiteId(accessToken, hostname, sitePath);
  const listId = await getListId(accessToken, siteId, listIdOrName);
  const all = await fetchAllListItems(accessToken, siteId, listId);

  const set = new Set<string>();
  for (const li of all) {
    const createdBy = li.createdBy?.user?.displayName;
    const modifiedBy = li.lastModifiedBy?.user?.displayName;
    if (typeof createdBy === "string" && createdBy.trim()) set.add(createdBy.trim());
    if (typeof modifiedBy === "string" && modifiedBy.trim()) set.add(modifiedBy.trim());

    const f = (li.fields || {}) as Record<string, unknown>;
    const raw = f[FIELD_MAP.userLocation];
    if (typeof raw === "string" && raw.trim()) {
      const parts = raw.split(/[\/–-]/); // split on "/", en dash, hyphen
      const candidate = (parts[0] || "").trim();
      if (candidate && candidate.length > 1) set.add(candidate);
    }
  }

  const users = Array.from(set).sort((a, b) => a.localeCompare(b));
  usersCache.set(cacheKey, users);
  return users;
}

/**
 * Invalidate cached distinct users (e.g., after edits that change authors or user/location values).
 */
export function invalidateUsersCache(): void {
  usersCache.clear();
}

export type DirectoryUser = {
  id: string;
  displayName?: string | null;
  mail?: string | null;
  userPrincipalName?: string | null;
};

/**
 * Search Azure AD users via Graph /users?$search="..."
 * Requires delegated scope allowing directory read (e.g., User.ReadBasic.All) and header ConsistencyLevel: eventual.
 */
export async function searchUsersWithUserToken(
  userAccessToken: string,
  query: string,
  top = 20
): Promise<DirectoryUser[]> {
  const scopes = (process.env.GRAPH_SCOPES || "https://graph.microsoft.com/.default")
    .split(/[,\s]+/)
    .filter(Boolean);
  const accessToken = await acquireOboToken(userAccessToken, scopes);

  const q = (query || "").trim().replace(/"/g, "");
  const sp = new URLSearchParams();
  // $search searches across multiple indexed fields; requires ConsistencyLevel: eventual header
  sp.set("$search", `"${q}"`);
  sp.set("$select", "id,displayName,mail,userPrincipalName");
  sp.set("$top", String(Math.max(1, Math.min(top || 20, 50))));

  const url = `${GRAPH_BASE}/users?${sp.toString()}`;

  type UsersResp = {
    value: Array<{ id: string; displayName?: string | null; mail?: string | null; userPrincipalName?: string | null }>;
  };

  const json = await graphGet<UsersResp>(url, accessToken, { ConsistencyLevel: "eventual" });
  const arr = json?.value ?? [];
  return arr.map((u) => ({
    id: u.id,
    displayName: u.displayName ?? null,
    mail: u.mail ?? null,
    userPrincipalName: u.userPrincipalName ?? null,
  }));
}

/**
 * Compute the next Asset number by inspecting SharePoint field_1 (numeric), falling back to Title if needed.
 * Returns 1 when the list is empty or values are not numeric.
 */
export async function getNextAssetNumber(accessToken: string): Promise<number> {
  const hostname = getEnv("SP_HOSTNAME");
  const sitePath = getEnv("SP_SITE_PATH");
  const listIdOrName = getEnv("SP_LIST_ID_OR_NAME");

  const siteId = await getSiteId(accessToken, hostname, sitePath);
  const listId = await getListId(accessToken, siteId, listIdOrName);

  // Try efficient top-1 by field_1 desc
  const sp1 = new URLSearchParams();
  sp1.set("$top", "1");
  sp1.set("$select", "id");
  sp1.set("$expand", "fields($select=field_1,Title)");
  sp1.set("$orderby", "fields/field_1 desc");

  type TopResp = { value: Array<{ id: string; fields?: Record<string, unknown> }> };
  try {
    const url1 = `${GRAPH_BASE}/sites/${encodeURIComponent(siteId)}/lists/${encodeURIComponent(
      listId
    )}/items?${sp1.toString()}`;
    const js1 = await graphGet<TopResp>(url1, accessToken, {
      Prefer: "HonorNonIndexedQueriesWarningMayFailRandomly",
    });
    const f1 = (js1?.value?.[0]?.fields || {}) as Record<string, unknown>;
    const candidates = [f1["field_1"], f1["Title"]].map((v) => (typeof v === "string" || typeof v === "number" ? Number(v) : NaN));
    const best = candidates.find((n) => Number.isFinite(n)) as number | undefined;
    if (typeof best === "number" && Number.isFinite(best)) {
      return (best as number) + 1;
    }
  } catch {
    // fall through to scan
  }

  // Fallback: scan first page (up to 200) and compute numeric max across field_1 and Title
  const sp2 = new URLSearchParams();
  sp2.set("$top", "200");
  sp2.set("$select", "id");
  sp2.set("$expand", "fields($select=field_1,Title)");

  try {
    const url2 = `${GRAPH_BASE}/sites/${encodeURIComponent(siteId)}/lists/${encodeURIComponent(
      listId
    )}/items?${sp2.toString()}`;
    const js2 = await graphGet<TopResp>(url2, accessToken, {
      Prefer: "HonorNonIndexedQueriesWarningMayFailRandomly",
    });
    const values: number[] = [];
    for (const it of js2?.value ?? []) {
      const f = (it.fields || {}) as Record<string, unknown>;
      const nums = [f["field_1"], f["Title"]].map((v) =>
        typeof v === "string" || typeof v === "number" ? Number(v) : NaN
      );
      for (const n of nums) if (Number.isFinite(n)) values.push(n as number);
    }
    const max = values.length ? Math.max(...values) : NaN;
    return Number.isFinite(max) ? max + 1 : 1;
  } catch {
    return 1;
  }
}

/**
 * OBO wrapper to compute next asset using the current user's API token.
 */
export async function getNextAssetWithUserToken(userAccessToken: string): Promise<number> {
  const scopes = (process.env.GRAPH_SCOPES || "https://graph.microsoft.com/.default")
    .split(/[,\s]+/)
    .filter(Boolean);
  const accessToken = await acquireOboToken(userAccessToken, scopes);
  return getNextAssetNumber(accessToken);
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/lib/history.ts ====
BEGIN_CONTENT
import type { AssetHistoryEvent, HistoryField } from "@/types/history";
import type { GraphListItemVersion } from "@/lib/graph/sharepoint";
import { FIELD_MAP, type DomainField } from "@/lib/mappers/inventory";

// Fields we consider for history rows (exclude set/system fields)
const DOMAIN_FIELDS: HistoryField[] = [
  "asset",
  "serial",
  "model",
  "userLocation",
  "status",
  "assetImage",
  "notes",
];

// Normalize to string for display and comparison
function toStr(v: unknown): string {
  if (v === null || v === undefined) return "";
  if (typeof v === "string") return v;
  try {
    return String(v);
  } catch {
    return "";
  }
}

function isEmpty(v: unknown): boolean {
  const s = toStr(v).trim();
  return s.length === 0;
}

// Map domain field to its SharePoint internal field name via FIELD_MAP
function getFieldKey(field: HistoryField): string {
  // HistoryField is a subset of DomainField
  return FIELD_MAP[field as DomainField];
}

export function computeAssetHistoryEvents(
  versionsNewestFirst: GraphListItemVersion[]
): AssetHistoryEvent[] {
  const events: AssetHistoryEvent[] = [];
  if (!Array.isArray(versionsNewestFirst) || versionsNewestFirst.length === 0) {
    return events;
  }

  // Iterate adjacent pairs: cur(newer) vs prev(older)
  for (let i = 0; i < versionsNewestFirst.length - 1; i++) {
    const cur = versionsNewestFirst[i];
    const prev = versionsNewestFirst[i + 1];
    const at = cur.lastModifiedDateTime || "";
    const by = cur.lastModifiedBy?.user?.displayName || "";

    const curFields = (cur.fields ?? {}) as Record<string, unknown>;
    const prevFields = (prev?.fields ?? {}) as Record<string, unknown>;

    for (const field of DOMAIN_FIELDS) {
      const key = getFieldKey(field);
      const curVal = curFields[key];
      const prevVal = prevFields[key];

      const curEmpty = isEmpty(curVal);
      const prevEmpty = isEmpty(prevVal);

      if (!prevEmpty && !curEmpty) {
        const sPrev = toStr(prevVal);
        const sCur = toStr(curVal);
        if (sPrev !== sCur) {
          events.push({
            at,
            by,
            field,
            changeType: "changed",
            from: sPrev,
            to: sCur,
          });
        }
      } else if (prevEmpty && !curEmpty) {
        events.push({
          at,
          by,
          field,
          changeType: "added",
          to: toStr(curVal),
        });
      } else if (!prevEmpty && curEmpty) {
        events.push({
          at,
          by,
          field,
          changeType: "removed",
          from: toStr(prevVal),
        });
      }
      // else both empty: no event
    }
  }

  // Sort chronological ascending (oldest at top)
  events.sort((a, b) => {
    const ta = new Date(a.at).getTime();
    const tb = new Date(b.at).getTime();
    return ta - tb;
  });

  return events;
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/lib/inventory-helpers.ts ====
BEGIN_CONTENT
import { InventoryItem } from "@/types/inventory";

/**
 * Returns items that are ready to deploy.
 */
export function readyToDeploy(items: InventoryItem[]): InventoryItem[] {
  return items.filter((i) => i.status === "ready_to_deploy");
}

/**
 * Returns items modified within the last `days` days (default 14).
 */
export function recentModifications(items: InventoryItem[], days = 14): InventoryItem[] {
  const now = Date.now();
  return items.filter((i) => {
    const mod = new Date(i.modified).getTime();
    if (Number.isNaN(mod)) return false;
    const diffDays = (now - mod) / (1000 * 60 * 60 * 24);
    return diffDays <= days;
  });
}

/**
 * Returns deployed assets sorted by most recently modified first.
 */
export function deployedAssets(items: InventoryItem[]): InventoryItem[] {
  return [...items]
    .filter((i) => i.status === "deployed")
    .sort((a, b) => new Date(b.modified).getTime() - new Date(a.modified).getTime());
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/lib/mappers/inventory.ts ====
BEGIN_CONTENT
import type { InventoryItem } from "@/types/inventory";
import { parseInventoryItem } from "@/lib/validation/inventory";

/**
 * SharePoint internal field mapping -> our domain keys.
 * Provided by user:
 *  - Title = Title
 *  - User/Location = field_0
 *  - Asset Status = field_2
 *  - Asset Serial = field_3
 *  - Asset Model = field_4
 *  - Notes = field_5
 *  - Asset Image = AssetImage
 *  - Modified = Modified
 *  - Created = Created
 *  - Created By = Author
 *  - Modified By = Editor
 */
export type DomainField =
  | "asset"
  | "userLocation"
  | "status"
  | "serial"
  | "model"
  | "assetImage"
  | "notes"
  | "modified"
  | "modifiedBy"
  | "created"
  | "createdBy";

export const FIELD_MAP: Record<DomainField, string> = {
  asset: "Title",
  userLocation: "field_0",
  status: "field_2",
  serial: "field_3",
  model: "field_4",
  assetImage: "AssetImage",
  notes: "field_5",
  modified: "Modified",
  modifiedBy: "Editor",
  created: "Created",
  createdBy: "Author",
};

// Use SP internal names for $expand=fields($select=...)
export const SP_FIELDS_SELECT = Array.from(new Set(Object.values(FIELD_MAP))).join(",");

// Minimal system fields shape we care about from Graph list item
export type GraphListItem = {
  id: string;
  createdDateTime?: string;
  lastModifiedDateTime?: string;
  createdBy?: { user?: { displayName?: string | null } | null } | null;
  lastModifiedBy?: { user?: { displayName?: string | null } | null } | null;
};

/**
 * Maps a Graph list item (fields + system metadata) to an InventoryItem,
 * applying coercions and defaults via parseInventoryItem (zod).
 */
export function mapGraphListItemToInventory(
  fields: Record<string, unknown> | undefined,
  sys: GraphListItem
): InventoryItem {
  const f = fields ?? {};
  const pick = (k: DomainField) => f[FIELD_MAP[k] as keyof typeof f];

  const raw = {
    asset: pick("asset") ?? (sys.id ? Number.parseInt(sys.id, 10) : undefined),
    userLocation: pick("userLocation") ?? "",
    status: pick("status") ?? "",
    serial: (() => {
      const v = pick("serial");
      if (v === "" || v === undefined || v === null) return undefined;
      return String(v);
    })(),
    model: pick("model") ?? "",
    assetImage: pick("assetImage") ?? "",
    notes: pick("notes") ?? "",
    // If custom columns are absent, fall back to system timestamps and actors
    modified: (pick("modified") as unknown) ?? sys.lastModifiedDateTime ?? "",
    modifiedBy:
      (pick("modifiedBy") as unknown as string | undefined) ??
      (sys.lastModifiedBy?.user?.displayName ?? ""),
    created: (pick("created") as unknown) ?? sys.createdDateTime ?? "",
    createdBy:
      (pick("createdBy") as unknown as string | undefined) ??
      (sys.createdBy?.user?.displayName ?? ""),
  };

  return parseInventoryItem(raw);
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/lib/status-label.ts ====
BEGIN_CONTENT
import type { InventoryStatus } from "@/types/inventory";

export type StatusLabel = "Ready to Deploy" | "Deployed" | "Retired";

export function statusLabel(s: InventoryStatus): StatusLabel {
  switch (s) {
    case "ready_to_deploy":
      return "Ready to Deploy";
    case "deployed":
      return "Deployed";
    case "retired":
      return "Retired";
    default:
      return "Ready to Deploy";
  }
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/lib/utils.ts ====
BEGIN_CONTENT
import { clsx, type ClassValue } from "clsx"
import { twMerge } from "tailwind-merge"

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs))
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/lib/validation/inventory.ts ====
BEGIN_CONTENT
import { z } from "zod";
import type { InventoryItem, InventoryStatus } from "@/types/inventory";

const ALLOWED_STATUSES = ["ready_to_deploy", "deployed", "retired"] as const;

function normalizeStatus(input: unknown): InventoryStatus {
  if (typeof input !== "string") {
    throw new Error("status must be a string");
  }
  const norm = input.trim().toLowerCase().replace(/\s+/g, "_").replace(/-/g, "_");
  if ((ALLOWED_STATUSES as readonly string[]).includes(norm)) {
    return norm as InventoryStatus;
  }
  throw new Error(`invalid status: ${input}`);
}

function isValidUrlOrPath(val: string): boolean {
  if (!val) return false;
  if (val.startsWith("/")) return true;
  try {
    const u = new URL(val);
    return u.protocol === "http:" || u.protocol === "https:";
  } catch {
    return false;
  }
}

function sanitizeAssetImage(input: unknown): string {
  if (typeof input !== "string") return "";
  const trimmed = input.trim();
  return isValidUrlOrPath(trimmed) ? trimmed : "";
}

function normalizeDate(input: unknown): string {
  if (typeof input !== "string") throw new Error("date must be a string");
  const d = new Date(input);
  if (Number.isNaN(d.getTime())) throw new Error(`invalid date: ${input}`);
  // UI expects YYYY-MM-DD strings
  return d.toISOString().slice(0, 10);
}

export const ZInventoryItem = z.object({
  asset: z.coerce.number().int(),
  userLocation: z.string().trim().min(1),
  status: z
    .any()
    .transform((v) => normalizeStatus(v)),
  serial: z.string().trim().min(1),
  model: z.string().trim().min(1),
  assetImage: z
    .any()
    .transform((v) => sanitizeAssetImage(v)),
  notes: z.string().default("").transform((v) => v.trim()),
  modified: z
    .any()
    .transform((v) => normalizeDate(v)),
  modifiedBy: z.string().trim().min(1),
  created: z
    .any()
    .transform((v) => normalizeDate(v)),
  createdBy: z.string().trim().min(1),
}) satisfies z.ZodType<InventoryItem>;

export type ZInventoryItemInput = z.input<typeof ZInventoryItem>;

export function parseInventoryItem(raw: unknown): InventoryItem {
  const result = ZInventoryItem.safeParse(raw);
  if (!result.success) {
    const msg = result.error.issues.map((i) => `${i.path.join(".") || "(root)"}: ${i.message}`).join("; ");
    throw new Error(`Invalid InventoryItem: ${msg}`);
  }
  return result.data;
}

/**
 * Write-side schemas: partial field updates, create payloads, and optional ETag.
 */

export const ZInventoryUpdateFields = z
  .object({
    serial: z.string().trim().min(1).optional(),
    model: z.string().trim().min(1).optional(),
    userLocation: z.string().trim().min(1).optional(),
    status: z
      .any()
      .transform((v) => normalizeStatus(v))
      .optional(),
    notes: z
      .string()
      .transform((v) => v.trim())
      .optional(),
    assetImage: z
      .any()
      .transform((v) => sanitizeAssetImage(v))
      .optional(),
  })
  // Ensure at least one field is provided
  .refine((obj) => Object.keys(obj).length > 0, {
    message: "At least one field must be provided for update",
  });

export type InventoryUpdateFields = z.infer<typeof ZInventoryUpdateFields>;

// PATCH payload for /api/inventory/[asset]
export const ZInventoryPatchPayload = z.object({
  fields: ZInventoryUpdateFields,
  // Accept missing etag and let server decide whether to use If-Match: * (force) or require concurrency later
  etag: z.string().trim().min(1).optional(),
});
export type InventoryPatchPayload = z.infer<typeof ZInventoryPatchPayload>;

// Minimal create payload; extend as business rules evolve.
export const ZInventoryCreateFields = z.object({
  asset: z.coerce.number().int(),
  userLocation: z.string().trim().min(1),
  status: z
    .any()
    .transform((v) => normalizeStatus(v)),
  serial: z.string().trim().min(1),
  model: z.string().trim().min(1),
  assetImage: z
    .any()
    .transform((v) => sanitizeAssetImage(v))
    .optional(),
  notes: z
    .string()
    .default("")
    .transform((v) => v.trim())
    .optional(),
});
export type InventoryCreateFields = z.infer<typeof ZInventoryCreateFields>;

export const ZInventoryCreatePayload = z.object({
  fields: ZInventoryCreateFields,
});
export type InventoryCreatePayload = z.infer<typeof ZInventoryCreatePayload>;
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/types/history.ts ====
BEGIN_CONTENT
export type HistoryField =
  | "asset"
  | "serial"
  | "model"
  | "userLocation"
  | "status"
  | "assetImage"
  | "notes";

export type HistoryChangeType = "changed" | "added" | "removed";

export type AssetHistoryEvent = {
  at: string; // ISO timestamp of the change (from Graph version's lastModifiedDateTime)
  by: string; // Display name of modifier (from Graph version's lastModifiedBy.user.displayName)
  field: HistoryField;
  changeType: HistoryChangeType;
  from?: string; // previous value (when changed/removed)
  to?: string; // new value (when changed/added)
};
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/src/types/inventory.ts ====
BEGIN_CONTENT
// Centralized domain types for Inventory

export type InventoryStatus = "ready_to_deploy" | "deployed" | "retired";

export type InventoryItem = {
  asset: number;
  userLocation: string;
  status: InventoryStatus;
  serial: string;
  model: string;
  assetImage: string; // path or URL
  notes: string;
  modified: string; // ISO date string (YYYY-MM-DD or full ISO)
  modifiedBy: string;
  created: string; // ISO date string (YYYY-MM-DD or full ISO)
  createdBy: string;
};

export type DeployedWindow = "today" | "week" | "month";
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/tests/api-inventory-route.spec.ts ====
BEGIN_CONTENT
// @vitest-environment node
import { describe, it, expect, vi, beforeAll, afterAll } from "vitest";
import { GET } from "@/app/api/inventory/route";
import type { InventoryItem } from "@/types/inventory";
import { startOfUtcMonth, startOfUtcIsoWeek, startOfUtcDay } from "@/lib/date-utc";
import { mockInventory } from "@/data/inventory";

// Minimal NextRequest-like stub for our GET handler (we only need nextUrl.searchParams + headers.get)
function makeReq(url: string) {
  const u = new URL(url, "http://localhost");
  const searchParams = u.searchParams;
  const headers = new Headers();
  return { nextUrl: { searchParams }, headers } as any;
}

beforeAll(() => {
  // Force mock mode for all tests
  process.env.USE_MOCK_INVENTORY = "true";
  // Lock "now" so UTC boundaries are deterministic
  vi.useFakeTimers();
  vi.setSystemTime(new Date("2025-08-20T12:00:00.000Z"));
});

afterAll(() => {
  vi.useRealTimers();
});

describe("API /api/inventory (mock mode)", () => {
  it("returns full inventory with no-store cache header by default", async () => {
    const res = await GET(makeReq("/api/inventory"));
    expect(res.status).toBe(200);
    expect(res.headers.get("Cache-Control")).toBe("no-store");
    const data = (await res.json()) as InventoryItem[];
    expect(Array.isArray(data)).toBe(true);
    expect(data.length).toBe(mockInventory.length);
  });

  it("returns recent=N items sorted by modified/created desc", async () => {
    const res = await GET(makeReq("/api/inventory?recent=3"));
    expect(res.status).toBe(200);
    const data = (await res.json()) as InventoryItem[];
    expect(data.length).toBe(3);

    const toMs = (s?: string) => (s ? new Date(s).getTime() : 0);
    const ms = data.map((i) => toMs(i.modified || i.created));
    // monotonic non-increasing
    expect(ms[0]).toBeGreaterThanOrEqual(ms[1]);
    expect(ms[1]).toBeGreaterThanOrEqual(ms[2]);
  });

  it("filters deployedSince=month from UTC month start", async () => {
    const now = new Date(); // 2025-08-20
    const since = startOfUtcMonth(now).getTime();

    const res = await GET(makeReq("/api/inventory?deployedSince=month"));
    expect(res.status).toBe(200);
    expect(res.headers.get("Cache-Control")).toBe("no-store");
    const data = (await res.json()) as InventoryItem[];

    // Only deployed items and >= month start
    for (const item of data) {
      expect(item.status).toBe("deployed");
      const t = new Date(item.modified || item.created).getTime();
      expect(t).toBeGreaterThanOrEqual(since);
    }

    // For our mock data set in August 2025, there are 5 deployed entries in-month.
    expect(data.length).toBe(5);
  });

  it("filters deployedSince=week from UTC ISO week (Mon) start", async () => {
    const now = new Date(); // 2025-08-20 (Wed), ISO week start = 2025-08-18
    const since = startOfUtcIsoWeek(now).getTime();

    const res = await GET(makeReq("/api/inventory?deployedSince=week"));
    expect(res.status).toBe(200);
    const data = (await res.json()) as InventoryItem[];

    for (const item of data) {
      expect(item.status).toBe("deployed");
      const t = new Date(item.modified || item.created).getTime();
      expect(t).toBeGreaterThanOrEqual(since);
    }

    // With fixed mock data and this "now", expect none deployed since Monday 18th.
    expect(data.length).toBe(0);
  });

  it("filters deployedSince=today from UTC day start", async () => {
    const now = new Date(); // 2025-08-20
    const since = startOfUtcDay(now).getTime();

    const res = await GET(makeReq("/api/inventory?deployedSince=today"));
    expect(res.status).toBe(200);
    const data = (await res.json()) as InventoryItem[];

    for (const item of data) {
      expect(item.status).toBe("deployed");
      const t = new Date(item.modified || item.created).getTime();
      expect(t).toBeGreaterThanOrEqual(since);
    }

    // With fixed mock data and this "now", there are no deployed items today.
    expect(data.length).toBe(0);
  });
});
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/tests/api-options-endpoints.spec.ts ====
BEGIN_CONTENT
// @vitest-environment node
import { describe, it, expect, beforeAll } from "vitest";
import type { NextRequest } from "next/server";
import { GET as GET_MODELS } from "@/app/api/inventory/options/models/route";
import { GET as GET_USERS } from "@/app/api/inventory/options/users/route";
import { GET as GET_LOCATIONS } from "@/app/api/inventory/options/locations/route";

/**
 * Minimal NextRequest-like stub for our route handlers.
 */
function makeReq(url: string): { nextUrl: { searchParams: URLSearchParams }; headers: Headers } {
  const u = new URL(url, "http://localhost");
  const searchParams = u.searchParams;
  const headers = new Headers(); // no auth required in mock mode
  return { nextUrl: { searchParams }, headers };
}

beforeAll(() => {
  // Force mock mode so routes bypass auth and use mock data
  process.env.USE_MOCK_INVENTORY = "true";
});

describe("API /api/inventory/options/models (mock mode)", () => {
  it("returns distinct, sorted models with no-store header", async () => {
    const res = await GET_MODELS(makeReq("/api/inventory/options/models") as unknown as NextRequest);
    expect(res.status).toBe(200);
    expect(res.headers.get("Cache-Control")).toBe("no-store");
    const body = (await res.json()) as { models: string[] };
    expect(Array.isArray(body.models)).toBe(true);
    // From mock dataset: 12 unique models
    expect(body.models.length).toBe(12);
    // Sorted check: each <= next
    for (let i = 1; i < body.models.length; i++) {
      expect(body.models[i - 1].localeCompare(body.models[i]) <= 0).toBe(true);
    }
  });

  it("applies top limit", async () => {
    const res = await GET_MODELS(makeReq("/api/inventory/options/models?top=3") as unknown as NextRequest);
    const body = (await res.json()) as { models: string[] };
    expect(body.models.length).toBe(3);
  });

  it("filters by search substring (case-insensitive)", async () => {
    const res = await GET_MODELS(makeReq("/api/inventory/options/models?search=Dell") as unknown as NextRequest);
    const body = (await res.json()) as { models: string[] };
    // Expect only Dell-related models
    expect(body.models.length).toBeGreaterThanOrEqual(1);
    for (const m of body.models) {
      expect(m.toLowerCase()).toContain("dell");
    }
  });
});

describe("API /api/inventory/options/users (mock mode)", () => {
  it("rejects short search queries with 400", async () => {
    const res = await GET_USERS(makeReq("/api/inventory/options/users?search=a") as unknown as NextRequest);
    expect(res.status).toBe(400);
  });

  it("returns users matching search with no-store header", async () => {
    const res = await GET_USERS(makeReq("/api/inventory/options/users?search=Alex") as unknown as NextRequest);
    expect(res.status).toBe(200);
    expect(res.headers.get("Cache-Control")).toBe("no-store");
    const body = (await res.json()) as { users: Array<{ id: string; displayName?: string | null }> };
    expect(Array.isArray(body.users)).toBe(true);
    // At least one match for "Alex Rivera" from mock data
    expect(body.users.some((u) => (u.displayName || "").includes("Alex Rivera"))).toBe(true);
  });

  it("applies top limit", async () => {
    const res = await GET_USERS(makeReq("/api/inventory/options/users?search=ro&top=1") as unknown as NextRequest);
    const body = (await res.json()) as { users: Array<{ id: string }> };
    expect(body.users.length).toBe(1);
  });
});

describe("API /api/inventory/options/locations", () => {
  it("returns static locations in provided order with no-store header", async () => {
    const res = await GET_LOCATIONS(makeReq("/api/inventory/options/locations") as unknown as NextRequest);
    expect(res.status).toBe(200);
    expect(res.headers.get("Cache-Control")).toBe("no-store");
    const body = (await res.json()) as { locations: string[] };
    expect(body.locations.length).toBe(15);
    expect(body.locations[0]).toBe("Agency");
    expect(body.locations[body.locations.length - 1]).toBe("Temple");
  });

  it("filters by search", async () => {
    const res = await GET_LOCATIONS(makeReq("/api/inventory/options/locations?search=hou") as unknown as NextRequest);
    const body = (await res.json()) as { locations: string[] };
    expect(body.locations).toContain("Houston");
    // ensure all results contain "hou"
    for (const loc of body.locations) {
      expect(loc.toLowerCase()).toContain("hou");
    }
  });

  it("applies top limit", async () => {
    const res = await GET_LOCATIONS(makeReq("/api/inventory/options/locations?top=5") as unknown as NextRequest);
    const body = (await res.json()) as { locations: string[] };
    expect(body.locations.length).toBe(5);
  });
});
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/tests/asset-create-dialog-overlay.spec.tsx ====
BEGIN_CONTENT
import { describe, it, expect, vi, beforeEach } from "vitest";
import * as React from "react";
import { act } from "react";
import { createRoot } from "react-dom/client";

import AssetCreateDialog from "@/components/asset/asset-create-dialog";

// Mock overlay provider to capture open() calls
vi.mock("@/components/lottie/overlay-provider", () => {
  const open = vi.fn();
  const close = vi.fn();
  const closeWith = vi.fn();
  return {
    __esModule: true,
    useLottieOverlay: () => ({
      isOpen: false,
      animationData: null,
      spinner: false,
      loop: false,
      autoplay: true,
      speed: undefined,
      version: 0,
      open,
      close,
      closeWith,
    }),
    // No-op provider for any accidental usage
    LottieOverlayProvider: ({ children }: { children: React.ReactNode }) => <>{children}</>,
    __openMock: open,
  };
});

// Mock global loading provider hook to just pass through the promise
vi.mock("@/components/loading/loading-provider", async () => {
  const actual = await vi.importActual<typeof import("@/components/loading/loading-provider")>(
    "@/components/loading/loading-provider"
  );
  return {
    __esModule: true,
    ...actual,
    useGlobalLoading: () => ({
      withGlobalLoading: <T,>(p: Promise<T>) => p,
    }),
    GlobalLoadingProvider: ({ children }: { children: React.ReactNode }) => <>{children}</>,
  };
});

// Optional: MSAL hook is imported but not used in mock mode; provide a stub
vi.mock("@azure/msal-react", () => ({
  useMsal: () => ({
    instance: {
      getActiveAccount: () => null,
      acquireTokenSilent: vi.fn(),
    },
    accounts: [],
  }),
}));

// Make sure we run in mock inventory mode to skip auth
beforeEach(() => {
  vi.clearAllMocks();
  document.body.innerHTML = "";
  process.env.USE_MOCK_INVENTORY = "true";

  // Mock fetch to return OK
  vi.stubGlobal(
    "fetch",
    vi.fn().mockResolvedValue({
      ok: true,
      json: vi.fn().mockResolvedValue({}),
    }) as unknown as typeof fetch
  );
});

async function renderIntoDocument(node: React.ReactElement) {
  const container = document.createElement("div");
  document.body.appendChild(container);
  const root = createRoot(container);
  await act(async () => {
    root.render(node);
  });
  await Promise.resolve();
  return { container, root };
}

async function fillRequiredFields(container: HTMLElement) {
  const setVal = (selector: string, value: string) => {
    const el = container.querySelector(selector) as HTMLInputElement | null;
    expect(el).toBeTruthy();
    if (el) {
      el.value = value;
      el.dispatchEvent(new Event("input", { bubbles: true }));
      el.dispatchEvent(new Event("change", { bubbles: true }));
    }
  };
  setVal("#asset", "123");
  setVal("#model", "Model X");
  setVal("#serial", "SN-001");
  setVal("#userloc", "User A");
}

async function submitForm(container: HTMLElement) {
  const submitBtn = container.querySelector('button[type="submit"]') as HTMLButtonElement | null;
  expect(submitBtn).toBeTruthy();
  await act(async () => {
    submitBtn?.click();
    await Promise.resolve();
    await Promise.resolve();
  });
}

describe("AssetCreateDialog Lottie overlay on Create", () => {
  it("plays Ready to Deploy animation when status is ready_to_deploy", async () => {
    const onOpenChange = vi.fn();
    const { container } = await renderIntoDocument(
      <AssetCreateDialog open={true} onOpenChange={onOpenChange} />
    );

    await fillRequiredFields(container);

    // Status is default: ready_to_deploy. Submit
    await submitForm(container);

    // Inspect overlay mock
    type OverlayMockModule = { __openMock: ReturnType<typeof vi.fn> };
    const mod = (await import("@/components/lottie/overlay-provider")) as unknown as OverlayMockModule;
    const openMock = mod.__openMock;
    expect(openMock).toBeTruthy();
    expect(openMock).toHaveBeenCalledTimes(1);
    const arg = openMock.mock.calls[0][0];
    expect(arg.url).toBe("/animations/createreadytodeploy.json");
    expect(arg.loop).toBe(false);
    // Dialog should be instructed to close
    expect(onOpenChange).toHaveBeenCalledWith(false);
  });

  it("plays Deployed animation when status is deployed", async () => {
    const onOpenChange = vi.fn();
    const { container } = await renderIntoDocument(
      <AssetCreateDialog open={true} onOpenChange={onOpenChange} />
    );

    await fillRequiredFields(container);

    // Switch status to Deployed
    const deployedBtn = container.querySelector('[data-testid="status-deployed"]') as HTMLButtonElement | null;
    expect(deployedBtn).toBeTruthy();
    await act(async () => {
      deployedBtn?.click();
      await Promise.resolve();
    });

    await submitForm(container);

    type OverlayMockModule = { __openMock: ReturnType<typeof vi.fn> };
    const mod = (await import("@/components/lottie/overlay-provider")) as unknown as OverlayMockModule;
    const openMock = mod.__openMock;
    expect(openMock).toHaveBeenCalledTimes(1);
    const arg = openMock.mock.calls[0][0];
    expect(arg.url).toBe("/animations/createdeployed.json");
    expect(arg.loop).toBe(false);
    expect(onOpenChange).toHaveBeenCalledWith(false);
  });

  it("plays Retired animation when status is retired", async () => {
    const onOpenChange = vi.fn();
    const { container } = await renderIntoDocument(
      <AssetCreateDialog open={true} onOpenChange={onOpenChange} />
    );

    await fillRequiredFields(container);

    // Switch status to Retired
    const retiredBtn = container.querySelector('[data-testid="status-retired"]') as HTMLButtonElement | null;
    expect(retiredBtn).toBeTruthy();
    await act(async () => {
      retiredBtn?.click();
      await Promise.resolve();
    });

    await submitForm(container);

    type OverlayMockModule = { __openMock: ReturnType<typeof vi.fn> };
    const mod = (await import("@/components/lottie/overlay-provider")) as unknown as OverlayMockModule;
    const openMock = mod.__openMock;
    expect(openMock).toHaveBeenCalledTimes(1);
    const arg = openMock.mock.calls[0][0];
    expect(arg.url).toBe("/animations/createretired.json");
    expect(arg.loop).toBe(false);
    expect(onOpenChange).toHaveBeenCalledWith(false);
  });
});
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/tests/asset-history-table.spec.tsx ====
BEGIN_CONTENT
import { describe, it, expect } from "vitest";
import * as React from "react";
import { createRoot } from "react-dom/client";
import { act } from "react";
import { AssetHistoryTable } from "@/components/asset/asset-history-table";
import type { AssetHistoryEvent } from "@/types/history";

function renderIntoDocument(node: React.ReactElement) {
  const container = document.createElement("div");
  document.body.appendChild(container);
  const root = createRoot(container);
  return { container, root };
}

describe("AssetHistoryTable", () => {
  it('renders "No modifications detected" when events is empty', async () => {
    const { container, root } = renderIntoDocument(<div />);

    await act(async () => {
      root.render(<AssetHistoryTable events={[]} />);
      await Promise.resolve();
    });

    const text = container.textContent || "";
    expect(text).toContain("No modifications detected");

    // No pagination controls should be rendered for empty state
    const prev = container.querySelector('button[aria-label="Previous page"]');
    const next = container.querySelector('button[aria-label="Next page"]');
    expect(prev).toBeNull();
    expect(next).toBeNull();
  });

  it("renders pagination when more than one page of events", async () => {
    const mk = (i: number): AssetHistoryEvent => ({
      field: "model",
      changeType: "changed",
      from: `Model-${i}`,
      to: `Model-${i + 1}`,
      by: "Tester",
      at: new Date(2025, 7, 20, 12, i).toISOString(),
    });

    // 6 events with default pageSize=5 -> 2 pages
    const events: AssetHistoryEvent[] = Array.from({ length: 6 }, (_, i) => mk(i));

    const { container, root } = renderIntoDocument(<div />);

    await act(async () => {
      root.render(<AssetHistoryTable events={events} />);
      await Promise.resolve();
    });

    const next = container.querySelector('button[aria-label="Next page"]');
    const prev = container.querySelector('button[aria-label="Previous page"]');
    expect(next).toBeTruthy();
    expect(prev).toBeTruthy();
  });
});
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/tests/asset-view.spec.tsx ====
BEGIN_CONTENT
import { describe, it, expect, beforeEach, vi } from "vitest";
import * as React from "react";
import { createRoot } from "react-dom/client";
import { act } from "react";
import { MsalProvider } from "@azure/msal-react";
import { PublicClientApplication } from "@azure/msal-browser";
import { AssetView } from "@/components/asset/asset-view";
import type { InventoryItem } from "@/types/inventory";
import type { AssetHistoryEvent } from "@/types/history";

describe("AssetView (mock mode)", () => {
  let container: HTMLDivElement;

  beforeEach(() => {
    process.env.USE_MOCK_INVENTORY = "true";
    container = document.createElement("div");
    document.body.appendChild(container);
  });

  it("renders Asset 1323 header and details from fetched data", async () => {
    const item1323: InventoryItem = {
      asset: 1323,
      userLocation: "HQ – Staging",
      status: "ready_to_deploy",
      serial: "SN-1323",
      model: "Model-X",
      assetImage: "/window.svg",
      notes: "",
      modified: "2025-08-19",
      modifiedBy: "Tester",
      created: "2025-08-01",
      createdBy: "Procurement",
    };

    // Mock /api/inventory/{asset} to return the target asset.
    const fetchMock = vi
      .fn()
      .mockImplementation(async (input: RequestInfo | URL, _init?: RequestInit) => {
        const url = typeof input === "string" ? input : (input as Request).url || input.toString();
        if (url.includes("/api/inventory/1323")) {
          return {
            ok: true,
            status: 200,
            json: async () => item1323,
          } as Response;
        }
        return {
          ok: false,
          status: 404,
          text: async () => "Not found",
        } as Response;
      }) as unknown as typeof fetch;
    (globalThis as unknown as { fetch: typeof fetch }).fetch = fetchMock;

    // Minimal MSAL provider instance (unused in mock mode but required by hook)
    const pca = new PublicClientApplication({
      auth: {
        clientId: "00000000-0000-0000-0000-000000000000",
        authority: "https://login.microsoftonline.com/common",
        redirectUri: "http://localhost/auth/callback",
      },
    });

    const root = createRoot(container);
    await act(async () => {
      root.render(
        <MsalProvider instance={pca}>
          <AssetView asset="1323" />
        </MsalProvider>
      );
      // Allow effects + fetch to resolve
      await Promise.resolve();
      await Promise.resolve();
    });

    const text = container.textContent || "";
    expect(text).toContain("Asset 1323");
    expect(text).toContain("Serial");
    expect(text).toContain("SN-1323");
    expect(text).toContain("Model");
    expect(text).toContain("Model-X");
    expect(text).toContain("Current User/Location");
    expect(text).toContain("HQ – Staging");
    expect(text).toContain("Created By");
    expect(text).toContain("Procurement");

    // Status button shows mapped label (Ready to Deploy)
    expect(text).toContain("Ready to Deploy");

    // Ensure dropdown trigger rendered
    const buttons = Array.from(container.querySelectorAll("button")).map((b) =>
      b.textContent?.trim()
    );
    expect(buttons).toContain("Save");
  });

  it("shows 'Asset not found' when asset is missing", async () => {
    // Mock /api/inventory/99999 to return 404
    const fetchMock = vi
      .fn()
      .mockImplementation(async (input: RequestInfo | URL, _init?: RequestInit) => {
        const url = typeof input === "string" ? input : (input as Request).url || input.toString();
        if (url.includes("/api/inventory/99999")) {
          return {
            ok: false,
            status: 404,
            text: async () => "Not found",
          } as Response;
        }
        return {
          ok: true,
          status: 200,
          json: async () => ({}),
        } as Response;
      }) as unknown as typeof fetch;
    (globalThis as unknown as { fetch: typeof fetch }).fetch = fetchMock;

    const pca = new PublicClientApplication({
      auth: {
        clientId: "00000000-0000-0000-0000-000000000000",
        authority: "https://login.microsoftonline.com/common",
        redirectUri: "http://localhost/auth/callback",
      },
    });

    const root = createRoot(container);
    await act(async () => {
      root.render(
        <MsalProvider instance={pca}>
          <AssetView asset="99999" />
        </MsalProvider>
      );
      await Promise.resolve();
      await Promise.resolve();
    });

    const text = container.textContent || "";
    expect(text).toContain("Asset not found");
  });

  it("loads history events when clicking History tab", async () => {
    const item1323: InventoryItem = {
      asset: 1323,
      userLocation: "HQ – Staging",
      status: "ready_to_deploy",
      serial: "SN-1323",
      model: "Model-X",
      assetImage: "/window.svg",
      notes: "",
      modified: "2025-08-19",
      modifiedBy: "Tester",
      created: "2025-08-01",
      createdBy: "Procurement",
    };

    const history: AssetHistoryEvent[] = [
      {
        field: "model",
        changeType: "changed",
        from: "Model-Wrong",
        to: "Model-X",
        by: "Tester",
        at: "2025-08-20T12:00:00Z",
      },
    ];

    // Mock both asset details and history endpoints
    const fetchMock = vi
      .fn()
      .mockImplementation(async (input: RequestInfo | URL, _init?: RequestInit) => {
        const url = typeof input === "string" ? input : (input as Request).url || input.toString();
        if (url.includes("/api/inventory/1323/history")) {
          return {
            ok: true,
            status: 200,
            json: async () => history,
          } as Response;
        }
        if (url.includes("/api/inventory/1323")) {
          return {
            ok: true,
            status: 200,
            json: async () => item1323,
          } as Response;
        }
        return {
          ok: false,
          status: 404,
          text: async () => "Not found",
        } as Response;
      }) as unknown as typeof fetch;
    (globalThis as unknown as { fetch: typeof fetch }).fetch = fetchMock;

    // Minimal MSAL provider instance (unused in mock mode)
    const pca = new PublicClientApplication({
      auth: {
        clientId: "00000000-0000-0000-0000-000000000000",
        authority: "https://login.microsoftonline.com/common",
        redirectUri: "http://localhost/auth/callback",
      },
    });

    const root = createRoot(container);
    await act(async () => {
      root.render(
        <MsalProvider instance={pca}>
          <AssetView asset="1323" initialTab="history" />
        </MsalProvider>
      );
      // Let initial details load
      await Promise.resolve();
      await Promise.resolve();
    });

    // History tab active by default via initialTab, allow effect + fetch to resolve
    await act(async () => {
      await Promise.resolve();
      await Promise.resolve();
    });

    // History content is lazy-loaded; assert via network call below rather than DOM text,
    // which may be a skeleton or empty state during async transitions.

    // Verify the history endpoint was requested
    const calls = (fetchMock as unknown as { mock: { calls: unknown[][] } }).mock.calls.map((c: unknown[]) => {
      const u = c[0];
      if (typeof u === "string") return u;
      if (typeof u === "object" && u !== null && "url" in u) {
        const url = (u as { url?: unknown }).url;
        if (typeof url === "string") return url;
      }
      return String(u);
    });
    expect(calls.some((u) => u.includes("/api/inventory/1323/history"))).toBe(true);
  });
});
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/tests/checkinout-lottie-toggle.spec.tsx ====
BEGIN_CONTENT
import React from "react";
import { describe, it, expect, vi, beforeEach } from "vitest";
import { act } from "react";
import { createRoot } from "react-dom/client";
import CheckInOutLottieToggle from "@/components/checkinout/checkinout-lottie-toggle";
import type { LottiePlayerRef } from "@/components/lottie/lottie-player";

// Mock requestAnimationFrame to run immediately
beforeEach(() => {
  const g = globalThis as unknown as {
    requestAnimationFrame?: (cb: FrameRequestCallback) => number;
    cancelAnimationFrame?: (id: number) => void;
  };
  g.requestAnimationFrame = (cb: FrameRequestCallback) => {
    const id = setTimeout(() => cb(performance.now()), 0) as unknown as number;
    return id;
  };
  g.cancelAnimationFrame = (id: number) => {
    clearTimeout(id as unknown as number);
  };
});

// Mock lottie-react so our LottiePlayer forwards refs and handlers to a controllable instance
vi.mock("lottie-react", () => {
  const instance: Partial<LottiePlayerRef> & { getDuration: (isFrame?: boolean) => number } = {
    play: vi.fn(),
    pause: vi.fn(),
    stop: vi.fn(),
    setSpeed: vi.fn(),
    setDirection: vi.fn(),
    goToAndStop: vi.fn(),
    goToAndPlay: vi.fn(),
    playSegments: vi.fn(),
    getDuration: vi.fn(() => 100), // 100 frames
  };

  let lastHandlers: {
    onComplete?: (() => void) | undefined;
    onLoopComplete?: (() => void) | undefined;
    onEnterFrame?: (() => void) | undefined;
  } = {};

  type LottieMockProps = {
    lottieRef?: React.MutableRefObject<Partial<LottiePlayerRef> | null>;
    onComplete?: () => void;
    onLoopComplete?: () => void;
    onEnterFrame?: () => void;
  } & React.ComponentProps<"div">;

  const LottieMock = (props: LottieMockProps) => {
    // capture handlers for tests to call
    lastHandlers = {
      onComplete: props.onComplete,
      onLoopComplete: props.onLoopComplete,
      onEnterFrame: props.onEnterFrame,
    };
    if (props?.lottieRef && "current" in props.lottieRef) {
      props.lottieRef.current = instance as Partial<LottiePlayerRef>;
    }
    return React.createElement("div", { "data-testid": "mock-lottie" });
  };

  return {
    __esModule: true,
    default: LottieMock,
    __instance: instance,
    __lastHandlers: () => lastHandlers,
  };
});

type MockMod = {
  __instance: {
    goToAndPlay: (...args: unknown[]) => unknown;
    goToAndStop: (...args: unknown[]) => unknown;
    getDuration: (...args: unknown[]) => number;
  };
  __lastHandlers: () => {
    onComplete?: () => void;
    onLoopComplete?: () => void;
    onEnterFrame?: () => void;
  };
};

describe("CheckInOutLottieToggle", () => {
  beforeEach(() => {
    vi.clearAllMocks();
    document.body.innerHTML = "";
    // Mock fetch for animation JSONs
    vi.stubGlobal("fetch", vi.fn().mockImplementation(async () => {
      return {
        ok: true,
        json: async () => ({}),
      } as unknown as Response;
    }));
  });

  it("renders and sets initial poster to ~1% (goToAndStop called)", async () => {
    const container = document.createElement("div");
    document.body.appendChild(container);
    const root = createRoot(container);

    await act(async () => {
      root.render(<CheckInOutLottieToggle />);
      await Promise.resolve();
      await new Promise((r) => setTimeout(r, 0));
    });

    const mod = (await import("lottie-react")) as unknown as MockMod;
    // After mount and rAF, initial poster should be set at >= 1
    const calls = (mod.__instance.goToAndStop as unknown as { mock: { calls: unknown[][] } }).mock.calls;
    expect(calls.length).toBeGreaterThan(0);
    const firstFrame = calls[0][0];
    expect(firstFrame).toBeGreaterThanOrEqual(1);
  });

  it("plays first animation on first click, blocks re-click until complete, then toggles on next clicks", async () => {
    const container = document.createElement("div");
    document.body.appendChild(container);
    const root = createRoot(container);

    await act(async () => {
      root.render(<CheckInOutLottieToggle />);
      await Promise.resolve();
      await new Promise((r) => setTimeout(r, 0));
    });

    const mod = (await import("lottie-react")) as unknown as MockMod;

    const button = container.querySelector('[role="button"]') as HTMLElement;
    expect(button).toBeTruthy();

    // First click -> should start playing c2i from 0
    await act(async () => {
      button.click();
      await Promise.resolve();
    });

    expect(mod.__instance.goToAndPlay).toHaveBeenCalledTimes(1);
    expect(mod.__instance.goToAndPlay).toHaveBeenLastCalledWith(0, true);

    // Attempt another click during playback should be ignored
    await act(async () => {
      button.click();
      await Promise.resolve();
    });
    expect(mod.__instance.goToAndPlay).toHaveBeenCalledTimes(1); // still 1

    // Complete the first animation
    const handlers = mod.__lastHandlers();
    expect(typeof handlers.onComplete).toBe("function");
    await act(async () => {
      handlers.onComplete && handlers.onComplete();
      await Promise.resolve();
    });

    // Second click -> should play the opposite animation (i2c)
    await act(async () => {
      button.click();
      await Promise.resolve();
    });
    expect(mod.__instance.goToAndPlay).toHaveBeenCalledTimes(2);

    // Complete second animation
    const handlers2 = mod.__lastHandlers();
    await act(async () => {
      handlers2.onComplete && handlers2.onComplete();
      await Promise.resolve();
    });

    // Third click -> toggles back
    await act(async () => {
      button.click();
      await Promise.resolve();
    });
    expect(mod.__instance.goToAndPlay).toHaveBeenCalledTimes(3);

    // On each completion, ensure we poster at last frame (99 for 100 total frames)
    const stopCalls = (mod.__instance.goToAndStop as unknown as { mock: { calls: unknown[][] } }).mock.calls;
    // last completion call will set to last frame
    const lastStopFrame = stopCalls[stopCalls.length - 1][0];
    expect(lastStopFrame).toBe(99);
  });

  it("keeps opacity at 100% at rest, during play, and after pause/complete", async () => {
    const container = document.createElement("div");
    document.body.appendChild(container);
    const root = createRoot(container);

    await act(async () => {
      root.render(<CheckInOutLottieToggle />);
      await Promise.resolve();
      await new Promise((r) => setTimeout(r, 0));
    });

    const button = container.querySelector('[role="button"]') as HTMLElement;
    expect(button).toBeTruthy();

    // At rest
    expect(button.className.includes("opacity-100")).toBe(true);
    expect(button.className.includes("opacity-60")).toBe(false);

    // Start playing
    await act(async () => {
      button.click();
      await Promise.resolve();
    });

    expect(button.className.includes("opacity-100")).toBe(true);
    expect(button.className.includes("opacity-60")).toBe(false);

    // Complete/paused poster
    const mod2 = (await import("lottie-react")) as unknown as MockMod;
    const handlers = mod2.__lastHandlers();
    await act(async () => {
      handlers.onComplete && handlers.onComplete();
      await Promise.resolve();
    });

    expect(button.className.includes("opacity-100")).toBe(true);
    expect(button.className.includes("opacity-60")).toBe(false);
  });

  it("fetches updated animations with no-store cache", async () => {
    const container = document.createElement("div");
    document.body.appendChild(container);
    const root = createRoot(container);

    await act(async () => {
      root.render(<CheckInOutLottieToggle />);
      await Promise.resolve();
      await new Promise((r) => setTimeout(r, 0));
    });

    const fetchMock = globalThis.fetch as unknown as { mock: { calls: unknown[][] } };
    const calls = fetchMock.mock.calls as unknown[][];

    const calledC2I = calls.some(
      (c) => c[0] === "/animations/checkouttocheckin.json" && (c[1] as { cache?: string })?.cache === "no-store"
    );
    const calledI2C = calls.some(
      (c) => c[0] === "/animations/checkintocheckout.json" && (c[1] as { cache?: string })?.cache === "no-store"
    );

    expect(calledC2I).toBe(true);
    expect(calledI2C).toBe(true);
  });

  it("calls onModeChange(false) after initial poster to c2i", async () => {
    const container = document.createElement("div");
    document.body.appendChild(container);
    const root = createRoot(container);
    const onModeChange = vi.fn();

    await act(async () => {
      root.render(<CheckInOutLottieToggle onModeChange={onModeChange} />);
      await Promise.resolve();
      await new Promise((r) => setTimeout(r, 0));
    });

    expect(onModeChange).toHaveBeenCalled();
    expect(onModeChange).toHaveBeenCalledWith(false);
  });

  it("emits onModeChange mapping on animation complete (true for i2c, false for c2i)", async () => {
    const container = document.createElement("div");
    document.body.appendChild(container);
    const root = createRoot(container);
    const onModeChange = vi.fn();

    await act(async () => {
      root.render(<CheckInOutLottieToggle onModeChange={onModeChange} />);
      await Promise.resolve();
      await new Promise((r) => setTimeout(r, 0));
    });

    const mod = (await import("lottie-react")) as unknown as MockMod;
    const button = container.querySelector('[role="button"]') as HTMLElement;

    // First click plays c2i, then complete
    await act(async () => {
      button.click();
      await Promise.resolve();
    });
  const handlers1 = mod.__lastHandlers();
  await act(async () => {
    handlers1.onComplete && handlers1.onComplete();
    await Promise.resolve();
  });
  expect(onModeChange).toHaveBeenCalledWith(false);

    // Second click plays i2c, then complete
    await act(async () => {
      button.click();
      await Promise.resolve();
    });
  const handlers2 = mod.__lastHandlers();
  await act(async () => {
    handlers2.onComplete && handlers2.onComplete();
    await Promise.resolve();
  });
  expect(onModeChange).toHaveBeenCalledWith(true);
  });
});
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/tests/dashboard-asset-links.spec.tsx ====
BEGIN_CONTENT
import { describe, it, expect, vi } from "vitest";
import * as React from "react";
import { createRoot } from "react-dom/client";
import { act } from "react";
import type { InventoryItem } from "@/types/inventory";
import { DataTable } from "@/components/data-table/data-table";
import {
  inventoryColumns,
  deployedCardColumns,
  deployedCardColumnsNoModified,
} from "@/components/data-table/columns";

 // Mock next/link to render plain anchors so jsdom can query hrefs
vi.mock("next/link", () => ({
  default: ({
    href,
    children,
    ...props
  }: {
    href: string | { pathname?: string } | URL;
    children: React.ReactNode;
  } & React.AnchorHTMLAttributes<HTMLAnchorElement>) => {
    const resolved =
      typeof href === "string"
        ? href
        : href instanceof URL
        ? href.toString()
        : (href && (href as { pathname?: string }).pathname) || "/";
    return (
      <a href={resolved} {...props}>
        {children}
      </a>
    );
  },
}));

function renderIntoDocument(node: React.ReactElement) {
  const container = document.createElement("div");
  document.body.appendChild(container);
  const root = createRoot(container);
  return { container, root };
}

const sample: InventoryItem = {
  asset: 1323,
  userLocation: "HQ – Staging",
  status: "ready_to_deploy",
  serial: "SN-1323",
  model: "Model-X",
  assetImage: "/window.svg",
  notes: "",
  modified: "2025-08-19",
  modifiedBy: "Tester",
  created: "2025-08-01",
  createdBy: "Procurement",
};

describe("Dashboard asset links", () => {
  it("renders Asset cell as a link in inventoryColumns", async () => {
    const { container, root } = renderIntoDocument(
      <DataTable columns={inventoryColumns} data={[sample]} showPagination={false} />
    );

    await act(async () => {
      root.render(
        <DataTable columns={inventoryColumns} data={[sample]} showPagination={false} />
      );
      await Promise.resolve();
    });

    const anchor = container.querySelector('a[href="/asset/1323"]');
    expect(anchor).toBeTruthy();
    expect(anchor?.textContent).toContain("1323");
  });

  it("renders Asset cell as a link in deployedCardColumns", async () => {
    const { container, root } = renderIntoDocument(
      <DataTable columns={deployedCardColumns} data={[sample]} showPagination={false} compact />
    );

    await act(async () => {
      root.render(
        <DataTable columns={deployedCardColumns} data={[sample]} showPagination={false} compact />
      );
      await Promise.resolve();
    });

    const anchor = container.querySelector('a[href="/asset/1323"]');
    expect(anchor).toBeTruthy();
    expect(anchor?.textContent).toContain("1323");
  });

  it("renders Asset cell as a link in deployedCardColumnsNoModified", async () => {
    const { container, root } = renderIntoDocument(
      <DataTable columns={deployedCardColumnsNoModified} data={[sample]} showPagination={false} compact />
    );

    await act(async () => {
      root.render(
        <DataTable columns={deployedCardColumnsNoModified} data={[sample]} showPagination={false} compact />
      );
      await Promise.resolve();
    });

    const anchor = container.querySelector('a[href="/asset/1323"]');
    expect(anchor).toBeTruthy();
    expect(anchor?.textContent).toContain("1323");
  });
});
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/tests/dashboard-page-render.spec.tsx ====
BEGIN_CONTENT
import { describe, it, expect, vi } from "vitest";
import * as React from "react";
import { act } from "react";
import { createRoot } from "react-dom/client";

// Mock MSAL hooks used by SearchCommand and InventoryView
vi.mock("@azure/msal-react", () => ({
  useMsal: () => ({
    instance: {
      initialize: vi.fn(async () => {}),
      acquireTokenSilent: vi.fn(async () => {
        // Simulate unauthenticated state in tests; SearchCommand should handle gracefully
        throw new Error("no auth in test");
      }),
      loginRedirect: vi.fn(async () => {}),
      getActiveAccount: vi.fn(() => null),
    },
    accounts: [],
  }),
}));

// Mock Next.js navigation (used by SearchCommand)
vi.mock("next/navigation", () => ({
  useRouter: () => ({ push: vi.fn() }),
}));

// Stub InventoryView to avoid network calls in tests
vi.mock("@/components/inventory/inventory-view", () => ({
  InventoryView: () => <div data-test="inventory-view-stub" />,
}));

// Import the Dashboard page (server component that renders client components)
import DashboardPage from "@/app/dashboard/page";

function renderIntoDocument(node: React.ReactElement) {
  const container = document.createElement("div");
  document.body.appendChild(container);
  const root = createRoot(container);
  return { container, root };
}

describe("Dashboard page", () => {
  it("renders CURATOR header and no header Search Bar", async () => {
    const { container, root } = renderIntoDocument(<DashboardPage />);

    await act(async () => {
      root.render(<DashboardPage />);
      await Promise.resolve();
    });

    // Header present
    const text = container.textContent || "";
    expect(text).toContain("CURATOR");

    // Header Search Bar should be removed; SearchCommand is no longer rendered on the dashboard
    const input = container.querySelector('input[placeholder="Search inventory or actions…"]');
    expect(input).toBeFalsy();

    // Inventory view stub present (confirms the rest of the dashboard renders)
    const stub = container.querySelector('[data-test="inventory-view-stub"]');
    expect(stub).toBeTruthy();
  });
});
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/tests/date-utc.spec.ts ====
BEGIN_CONTENT
import { describe, it, expect } from "vitest";
import { startOfUtcDay, startOfUtcIsoWeek, startOfUtcMonth } from "@/lib/date-utc";

function iso(d: Date) {
  return d.toISOString();
}

describe("UTC date helpers", () => {
  describe("startOfUtcDay", () => {
    it("returns 00:00:00.000 UTC for a given date", () => {
      const d = new Date("2025-08-20T15:45:12.345Z");
      expect(iso(startOfUtcDay(d))).toBe("2025-08-20T00:00:00.000Z");
    });

    it("handles edge near midnight", () => {
      const d = new Date("2025-01-01T00:00:01.000Z");
      expect(iso(startOfUtcDay(d))).toBe("2025-01-01T00:00:00.000Z");
    });

    it("does not drift with local timezone/DST (UTC math only)", () => {
      const d = new Date("2025-03-30T22:15:00.000Z"); // Around DST changes in some locales
      expect(iso(startOfUtcDay(d))).toBe("2025-03-30T00:00:00.000Z");
    });
  });

  describe("startOfUtcIsoWeek (Monday 00:00 UTC)", () => {
    it("returns Monday for a Wednesday date", () => {
      const d = new Date("2025-08-20T15:45:00.000Z"); // Wed
      expect(iso(startOfUtcIsoWeek(d))).toBe("2025-08-18T00:00:00.000Z"); // Mon
    });

    it("returns same-day Monday boundary for a Monday date", () => {
      const d = new Date("2025-08-18T12:00:00.000Z"); // Mon
      expect(iso(startOfUtcIsoWeek(d))).toBe("2025-08-18T00:00:00.000Z");
    });

    it("returns previous Monday for a Sunday date", () => {
      const d = new Date("2025-08-24T08:00:00.000Z"); // Sun
      expect(iso(startOfUtcIsoWeek(d))).toBe("2025-08-18T00:00:00.000Z"); // Previous Mon
    });

    it("handles year-crossing weeks", () => {
      const d = new Date("2025-01-01T10:00:00.000Z"); // Wed
      expect(iso(startOfUtcIsoWeek(d))).toBe("2024-12-30T00:00:00.000Z"); // Monday of that ISO week
    });
  });

  describe("startOfUtcMonth", () => {
    it("returns first of month 00:00 UTC", () => {
      const d = new Date("2025-08-20T15:45:00.000Z");
      expect(iso(startOfUtcMonth(d))).toBe("2025-08-01T00:00:00.000Z");
    });

    it("handles first day already", () => {
      const d = new Date("2025-01-01T12:00:00.000Z");
      expect(iso(startOfUtcMonth(d))).toBe("2025-01-01T00:00:00.000Z");
    });

    it("handles varying month lengths", () => {
      const d = new Date("2025-03-31T23:59:59.000Z");
      expect(iso(startOfUtcMonth(d))).toBe("2025-03-01T00:00:00.000Z");
    });
  });
});
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/tests/lottie-player.spec.tsx ====
BEGIN_CONTENT
import React, { createRef } from "react";
import { describe, it, expect, vi, beforeEach } from "vitest";
import { createRoot } from "react-dom/client";
import { act } from "react";
import LottiePlayer, { LottiePlayerRef } from "@/components/lottie/lottie-player";

// Mock lottie-react without require(); attach a stable mocked instance to lottieRef
vi.mock("lottie-react", () => {
  const instance = {
    play: vi.fn(),
    pause: vi.fn(),
    stop: vi.fn(),
    setSpeed: vi.fn(),
    setDirection: vi.fn(),
    goToAndStop: vi.fn(),
    playSegments: vi.fn(),
  } as unknown as LottiePlayerRef;

  type LottieMockProps = {
    lottieRef?: React.MutableRefObject<LottiePlayerRef | null>;
  } & React.ComponentProps<"div">;

  const LottieMock = (props: LottieMockProps) => {
    if (props?.lottieRef && "current" in props.lottieRef) {
      props.lottieRef.current = instance;
    }
    return React.createElement("div", { "data-testid": "mock-lottie" });
  };

  return {
    __esModule: true,
    default: LottieMock,
  };
});

describe("LottiePlayer (foundation only)", () => {
  beforeEach(() => {
    vi.clearAllMocks();
    document.body.innerHTML = "";
  });

  it("renders without crashing and exposes imperative methods via ref", async () => {
    const ref = createRef<LottiePlayerRef>();
    const container = document.createElement("div");
    document.body.appendChild(container);
    const root = createRoot(container);

    await act(async () => {
      root.render(<LottiePlayer animationData={{}} ref={ref} />);
      // Allow effects to run
      await Promise.resolve();
      await Promise.resolve();
    });

    const el = container.querySelector('[data-testid="mock-lottie"]');
    expect(el).toBeTruthy();

    expect(typeof ref.current?.play).toBe("function");
    expect(typeof ref.current?.pause).toBe("function");
    expect(typeof ref.current?.stop).toBe("function");
    expect(typeof ref.current?.setSpeed).toBe("function");
    expect(typeof ref.current?.setDirection).toBe("function");
  });

  it("applies speed and direction via imperative API when provided", async () => {
    const ref = createRef<LottiePlayerRef>();
    const container = document.createElement("div");
    document.body.appendChild(container);
    const root = createRoot(container);

    await act(async () => {
      root.render(<LottiePlayer animationData={{}} ref={ref} speed={1.5} direction={-1} />);
      await Promise.resolve();
      await Promise.resolve();
    });

    const setSpeed = ref.current?.setSpeed as unknown as { mock: { calls: unknown[][] } } | undefined;
    const setDirection = ref.current?.setDirection as unknown as { mock: { calls: unknown[][] } } | undefined;

    expect(setSpeed).toBeTruthy();
    expect(setDirection).toBeTruthy();

    expect(setSpeed!.mock.calls.some((c) => c[0] === 1.5)).toBe(true);
    expect(setDirection!.mock.calls.some((c) => c[0] === -1)).toBe(true);
  });
});
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/tests/mappers-validation.spec.ts ====
BEGIN_CONTENT
import { describe, it, expect } from "vitest";
import { parseInventoryItem } from "@/lib/validation/inventory";
import {
  mapGraphListItemToInventory,
  FIELD_MAP,
  type GraphListItem,
} from "@/lib/mappers/inventory";

describe("Validation + Mapping", () => {
  describe("parseInventoryItem", () => {
    it("normalizes status, trims strings, normalizes dates, sanitizes assetImage", () => {
      const raw = {
        asset: "42", // coerce to number
        userLocation: "  HQ – IT Closet  ",
        status: "Ready to Deploy", // -> ready_to_deploy
        serial: "  500001 ",
        model: "  Dell OptiPlex 7090 ",
        assetImage: "javascript:alert(1)", // sanitized to ""
        notes: "  Imaged with baseline build ",
        modified: "2025-08-20T15:45:12.000Z", // -> 2025-08-20
        modifiedBy: "  Alex Rivera ",
        created: "2025-07-20",
        createdBy: " IT Intake ",
      };
      const item = parseInventoryItem(raw);
      expect(item).toEqual({
        asset: 42,
        userLocation: "HQ – IT Closet",
        status: "ready_to_deploy",
        serial: "500001",
        model: "Dell OptiPlex 7090",
        assetImage: "",
        notes: "Imaged with baseline build",
        modified: "2025-08-20",
        modifiedBy: "Alex Rivera",
        created: "2025-07-20",
        createdBy: "IT Intake",
      });
    });

    it("rejects invalid status", () => {
      const bad = {
        asset: 1,
        userLocation: "x",
        status: "unknown",
        serial: "s",
        model: "m",
        assetImage: "/ok.svg",
        notes: "",
        modified: "2025-01-01",
        modifiedBy: "u",
        created: "2025-01-01",
        createdBy: "v",
      };
      expect(() => parseInventoryItem(bad)).toThrow(/invalid status/i);
    });

    it("rejects invalid dates", () => {
      const bad = {
        asset: 1,
        userLocation: "x",
        status: "deployed",
        serial: "s",
        model: "m",
        assetImage: "/ok.svg",
        notes: "",
        modified: "not-a-date",
        modifiedBy: "u",
        created: "2025-01-01",
        createdBy: "v",
      };
      expect(() => parseInventoryItem(bad)).toThrow(/invalid date/i);
    });

    it("requires serial string (no coercion here)", () => {
      const bad = {
        asset: 1,
        userLocation: "x",
        status: "deployed",
        // serial numeric -> should fail (mapper handles coercion, validator expects string)
        serial: 12345 as unknown as string,
        model: "m",
        assetImage: "/ok.svg",
        notes: "",
        modified: "2025-01-01",
        modifiedBy: "u",
        created: "2025-01-01",
        createdBy: "v",
      };
      expect(() => parseInventoryItem(bad)).toThrow(/Expected string, received number/i);
    });
  });

  describe("mapGraphListItemToInventory", () => {
    const sys: GraphListItem = {
      id: "70001",
      createdDateTime: "2025-07-20T00:00:00.000Z",
      lastModifiedDateTime: "2025-08-20T12:34:56.000Z",
      createdBy: { user: { displayName: "System Creator" } },
      lastModifiedBy: { user: { displayName: "Editor User" } },
    };

    it("maps fields with fallbacks to system timestamps and actors", () => {
      const fields: Record<string, unknown> = {
        [FIELD_MAP.asset]: 70001,
        [FIELD_MAP.userLocation]: "HQ – Staging",
        [FIELD_MAP.status]: "Deployed",
        [FIELD_MAP.serial]: "50070001",
        [FIELD_MAP.model]: "Lenovo T14",
        [FIELD_MAP.assetImage]: "/globe.svg",
        [FIELD_MAP.notes]: "Docked at desk",
        // intentionally omit Modified/Created and actors to trigger fallbacks
      };

      const item = mapGraphListItemToInventory(fields, sys);
      expect(item.asset).toBe(70001);
      expect(item.userLocation).toBe("HQ – Staging");
      expect(item.status).toBe("deployed");
      expect(item.serial).toBe("50070001");
      expect(item.model).toBe("Lenovo T14");
      expect(item.assetImage).toBe("/globe.svg");
      expect(item.notes).toBe("Docked at desk");
      // Fallbacks
      expect(item.modified).toBe("2025-08-20");
      expect(item.modifiedBy).toBe("Editor User");
      expect(item.created).toBe("2025-07-20");
      expect(item.createdBy).toBe("System Creator");
    });

    it("coerces numeric serial to string and sanitizes bad assetImage", () => {
      const fields: Record<string, unknown> = {
        [FIELD_MAP.asset]: "70002",
        [FIELD_MAP.userLocation]: "Remote – Alice",
        [FIELD_MAP.status]: "ready to deploy",
        [FIELD_MAP.serial]: 555123, // <- numeric
        [FIELD_MAP.model]: "MacBook Pro",
        [FIELD_MAP.assetImage]: "javascript:alert(1)", // sanitized to ""
        [FIELD_MAP.notes]: "N/A",
        [FIELD_MAP.modified]: "2025-08-19T01:23:45.000Z",
        [FIELD_MAP.modifiedBy]: "Ops",
        [FIELD_MAP.created]: "2025-08-01T00:00:00.000Z",
        [FIELD_MAP.createdBy]: "Intake",
      };

      const item = mapGraphListItemToInventory(fields, sys);
      expect(item.asset).toBe(70002);
      expect(item.serial).toBe("555123");
      expect(item.assetImage).toBe("");
      expect(item.status).toBe("ready_to_deploy");
      expect(item.modified).toBe("2025-08-19");
      expect(item.created).toBe("2025-08-01");
    });

    it("falls back asset to numeric sys.id when Title missing", () => {
      const fields: Record<string, unknown> = {
        // Title missing
        [FIELD_MAP.userLocation]: "HQ – IT",
        [FIELD_MAP.status]: "Retired",
        [FIELD_MAP.serial]: "X",
        [FIELD_MAP.model]: "Monitor",
        [FIELD_MAP.assetImage]: "/img.svg",
        [FIELD_MAP.notes]: "",
        [FIELD_MAP.modified]: "2025-08-18T00:00:00.000Z",
        [FIELD_MAP.modifiedBy]: "Ops",
        [FIELD_MAP.created]: "2025-08-01T00:00:00.000Z",
        [FIELD_MAP.createdBy]: "Intake",
      };

      const item = mapGraphListItemToInventory(fields, sys);
      expect(item.asset).toBe(70001); // from sys.id
      expect(item.status).toBe("retired");
    });
  });
});
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/tests/setup.ts ====
BEGIN_CONTENT
/**
 * Vitest setup file.
 * - Forces mock mode for API route tests.
 * - Keeps environment predictable.
 */

process.env.USE_MOCK_INVENTORY = process.env.USE_MOCK_INVENTORY || "true";

// Prefer UTC-like behavior; helpers use UTC methods so this is mostly a safeguard.
process.env.TZ = process.env.TZ || "UTC";

// jsdom does not implement matchMedia; SidebarProvider relies on it via useIsMobile.
if (typeof window !== "undefined") {
  const needsPolyfill = typeof (window as { matchMedia?: unknown }).matchMedia !== "function";
  if (needsPolyfill) {
    Object.defineProperty(window, "matchMedia", {
      writable: true,
      value: (query: string) => ({
        matches: false,
        media: query,
        onchange: null,
        addEventListener: () => {},
        removeEventListener: () => {},
        // Legacy API used by some libs
        addListener: () => {},
        removeListener: () => {},
        dispatchEvent: () => false,
      }),
    });
  }
}

// React act() support: tell React DOM we're in a test environment.
// See https://react.dev/reference/react/act#test-environment
// eslint-disable-next-line @typescript-eslint/no-explicit-any
;(globalThis as unknown as { IS_REACT_ACT_ENVIRONMENT?: boolean }).IS_REACT_ACT_ENVIRONMENT = true;
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/tests/sharepoint-transitions.spec.ts ====
BEGIN_CONTENT
import { describe, it, expect } from "vitest";
import { findDeployedTransitionTimestamp } from "@/lib/graph/sharepoint";

// Helper to build version entries with specific status and timestamp.
// FIELD_MAP.status maps to "field_2" per implementation; we use that key directly.
type VersionStub = { lastModifiedDateTime: string; fields: { field_2: string } };
function v(ts: string, status: string): VersionStub {
  return {
    lastModifiedDateTime: ts,
    fields: { field_2: status },
  };
}

describe("findDeployedTransitionTimestamp", () => {
  it("returns the timestamp where status transitions to deployed (newest first order)", () => {
    const versions = [
      v("2025-08-15T10:00:00.000Z", "Deployed"),
      v("2025-08-14T09:00:00.000Z", "Ready to Deploy"),
      v("2025-08-13T08:00:00.000Z", "Ready to Deploy"),
    ];
    const ts = findDeployedTransitionTimestamp(versions);
    expect(ts).toBe("2025-08-15T10:00:00.000Z");
  });

  it("falls back to newest timestamp when all known versions are deployed", () => {
    const versions = [
      v("2025-08-15T10:00:00.000Z", "Deployed"),
      v("2025-08-14T09:00:00.000Z", "Deployed"),
      v("2025-08-13T08:00:00.000Z", "Deployed"),
    ];
    const ts = findDeployedTransitionTimestamp(versions);
    expect(ts).toBe("2025-08-15T10:00:00.000Z");
  });

  it("returns undefined when there is no deployed status in the scanned versions", () => {
    const versions = [
      v("2025-08-15T10:00:00.000Z", "Ready to Deploy"),
      v("2025-08-14T09:00:00.000Z", "Retired"),
      v("2025-08-13T08:00:00.000Z", "Ready_to_Deploy"),
    ];
    const ts = findDeployedTransitionTimestamp(versions);
    expect(ts).toBeUndefined();
  });

  it("handles mixed casing and delimiters for status values", () => {
    const versions = [
      v("2025-08-15T10:00:00.000Z", "DEPLOYED"),
      v("2025-08-14T09:00:00.000Z", "ready-to-deploy"),
    ];
    const ts = findDeployedTransitionTimestamp(versions);
    expect(ts).toBe("2025-08-15T10:00:00.000Z");
  });
});
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/tests/sidebar-navigation.spec.tsx ====
BEGIN_CONTENT
import { describe, it, expect, vi } from "vitest";
import * as React from "react";
import { act } from "react";
import { createRoot } from "react-dom/client";
vi.mock("next/link", () => ({
  default: ({ href, children, ...props }: { href: any; children: React.ReactNode }) => {
    const resolved =
      typeof href === "string" ? href : (href && (href as any).pathname) || "/";
    // Render as a plain anchor so jsdom can query it
    return (
      <a href={resolved} {...props}>
        {children}
      </a>
    );
  },
}));
import AppSidebar from "@/components/app-sidebar";
import { SidebarProvider } from "@/components/ui/sidebar";

async function renderIntoDocument(node: React.ReactElement) {
  const container = document.createElement("div");
  document.body.appendChild(container);
  const root = createRoot(container);
  await act(async () => {
    root.render(node);
  });
  await Promise.resolve();
  return { container, root };
}

describe("Sidebar navigation links", () => {
  it('renders "Home" linking to "/"', async () => {
    const { container } = await renderIntoDocument(
      <SidebarProvider defaultOpen={false}>
        <AppSidebar />
      </SidebarProvider>
    );

    // JSDOM doesn't compute CSS-based visibility; asserting text presence is sufficient
    const text = container.textContent || "";
    expect(text).toContain("Home");
    expect(text).not.toContain("Asset Page Test");
  });
});
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/tests/sidebar-toggle.spec.tsx ====
BEGIN_CONTENT
import { describe, it, expect, vi } from "vitest";
import * as React from "react";
import { act } from "react";
import { createRoot } from "react-dom/client";

vi.mock("next/link", () => ({
  default: ({ href, children, ...props }: { href: string | { pathname: string }; children: React.ReactNode }) => {
    const resolved = typeof href === "string" ? href : (href && href.pathname) || "/";
    return (
      <a href={resolved} {...props}>
        {children}
      </a>
    );
  },
}));

import AppSidebar from "@/components/app-sidebar";
import { SidebarProvider } from "@/components/ui/sidebar";

async function renderIntoDocument(node: React.ReactElement) {
  const container = document.createElement("div");
  document.body.appendChild(container);
  const root = createRoot(container);
  await act(async () => {
    root.render(node);
  });
  await Promise.resolve();
  return { container, root };
}

describe("Sidebar manual toggle and hover behavior", () => {
  it("starts collapsed, expands on click, and ignores hover enter/leave", async () => {
    const { container } = await renderIntoDocument(
      <SidebarProvider defaultOpen={false}>
        <AppSidebar />
      </SidebarProvider>
    );

    const sidebar = container.querySelector('[data-slot="sidebar"]') as HTMLElement | null;
    expect(sidebar).toBeTruthy();
    expect(sidebar?.getAttribute("data-state")).toBe("collapsed");
    // Wrapper should be a flex row container to allow reflow
    const wrapper = container.querySelector('[data-slot="sidebar-wrapper"]') as HTMLElement | null;
    expect(wrapper).toBeTruthy();
    expect(wrapper?.className).toContain("flex");
    // Gap element participates in layout to reserve space
    const gap = container.querySelector('[data-slot="sidebar-gap"]') as HTMLElement | null;
    expect(gap).toBeTruthy();
    // Collapsed state should mark collapsible="icon" to reduce reserved width
    expect(sidebar?.getAttribute("data-collapsible")).toBe("icon");

    // Rail should not be present (we removed it from AppSidebar usage)
    const rail = container.querySelector('[data-slot="sidebar-rail"]');
    expect(rail).toBeNull();

    // Manual toggle button is removed; ensure it's not rendered
    const trigger = container.querySelector('[data-slot="sidebar-trigger"]') as HTMLButtonElement | null;
    expect(trigger).toBeNull();

    // Hover should do nothing when collapsed
    const containerEl = container.querySelector('[data-slot="sidebar-container"]') as HTMLElement | null;
    expect(containerEl).toBeTruthy();

    containerEl?.dispatchEvent(new MouseEvent("mouseenter", { bubbles: true }));
    expect(sidebar?.getAttribute("data-state")).toBe("collapsed");

    // Manual toggle is unavailable; sidebar should remain collapsed
    expect(sidebar?.getAttribute("data-state")).toBe("collapsed");
    expect(sidebar?.getAttribute("data-collapsible")).toBe("icon");

    // Hover leave should not change state
    containerEl?.dispatchEvent(new MouseEvent("mouseleave", { bubbles: true }));
    expect(sidebar?.getAttribute("data-state")).toBe("collapsed");
  });
});
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/tsconfig.json ====
BEGIN_CONTENT
{
  "compilerOptions": {
    "target": "ES2017",
    "lib": ["dom", "dom.iterable", "esnext"],
    "allowJs": true,
    "skipLibCheck": true,
    "strict": true,
    "noEmit": true,
    "esModuleInterop": true,
    "module": "esnext",
    "moduleResolution": "bundler",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "jsx": "preserve",
    "incremental": true,
    "plugins": [
      {
        "name": "next"
      }
    ],
    "paths": {
      "@/*": ["./src/*"]
    }
  },
  "include": ["next-env.d.ts", "**/*.ts", "**/*.tsx", ".next/types/**/*.ts"],
  "exclude": ["node_modules"]
}
END_CONTENT

==== FILE: workspaces/codespaces-blank/my-app/vitest.config.ts ====
BEGIN_CONTENT
import { defineConfig } from "vitest/config";
import path from "node:path";

export default defineConfig({
  test: {
    environment: "jsdom",
    globals: true,
    setupFiles: ["./tests/setup.ts"],
    include: ["tests/**/*.spec.ts", "tests/**/*.spec.tsx"],
    coverage: {
      provider: "v8",
      reporter: ["text", "html", "lcov"],
    },
  },
  resolve: {
    alias: {
      "@": path.resolve(__dirname, "./src"),
    },
  },
});
END_CONTENT

==== FILE: my-app/package-lock.json ====
BEGIN_CONTENT
{
  "name": "my-app",
  "version": "0.1.0",
  "lockfileVersion": 3,
  "requires": true,
  "packages": {
    "": {
      "name": "my-app",
      "version": "0.1.0",
      "dependencies": {
        "@azure/msal-browser": "^4.20.0",
        "@azure/msal-node": "^3.7.1",
        "@azure/msal-react": "^3.0.18",
        "@heroicons/react": "^2.2.0",
        "@radix-ui/react-alert-dialog": "^1.1.15",
        "@radix-ui/react-checkbox": "^1.3.3",
        "@radix-ui/react-dialog": "^1.1.15",
        "@radix-ui/react-dropdown-menu": "^2.1.16",
        "@radix-ui/react-label": "^2.1.7",
        "@radix-ui/react-scroll-area": "^1.2.10",
        "@radix-ui/react-separator": "^1.1.7",
        "@radix-ui/react-slot": "^1.2.3",
        "@radix-ui/react-tabs": "^1.1.13",
        "@radix-ui/react-tooltip": "^1.2.8",
        "@tanstack/react-table": "^8.21.3",
        "class-variance-authority": "^0.7.1",
        "clsx": "^2.1.1",
        "cmdk": "^1.1.1",
        "jose": "^6.0.12",
        "lottie-react": "^2.4.1",
        "lru-cache": "^11.1.0",
        "lucide-react": "^0.540.0",
        "next": "15.4.6",
        "react": "19.1.0",
        "react-dom": "19.1.0",
        "tailwind-merge": "^3.3.1",
        "tailwindcss-animate": "^1.0.7",
        "zod": "^4.0.17"
      },
      "devDependencies": {
        "@eslint/eslintrc": "^3",
        "@tailwindcss/postcss": "^4",
        "@types/node": "^20",
        "@types/react": "^19",
        "@types/react-dom": "^19",
        "@vitest/coverage-v8": "^3.2.4",
        "eslint": "^9",
        "eslint-config-next": "15.4.6",
        "jsdom": "^26.1.0",
        "tailwindcss": "^4",
        "tw-animate-css": "^1.3.7",
        "typescript": "^5",
        "vitest": "^3.2.4"
      }
    },
    "node_modules/@alloc/quick-lru": {
      "version": "5.2.0",
      "resolved": "https://registry.npmjs.org/@alloc/quick-lru/-/quick-lru-5.2.0.tgz",
      "integrity": "sha512-UrcABB+4bUrFABwbluTIBErXwvbsU/V7TZWfmbgJfbkwiBuziS9gxdODUyuiecfdGQ85jglMW6juS3+z5TsKLw==",
      "dev": true,
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/@ampproject/remapping": {
      "version": "2.3.0",
      "resolved": "https://registry.npmjs.org/@ampproject/remapping/-/remapping-2.3.0.tgz",
      "integrity": "sha512-30iZtAPgz+LTIYoeivqYo853f02jBYSd5uGnGpkFV0M3xOt9aN73erkgYAmZU43x4VfqcnLxW9Kpg3R5LC4YYw==",
      "dev": true,
      "dependencies": {
        "@jridgewell/gen-mapping": "^0.3.5",
        "@jridgewell/trace-mapping": "^0.3.24"
      },
      "engines": {
        "node": ">=6.0.0"
      }
    },
    "node_modules/@asamuzakjp/css-color": {
      "version": "3.2.0",
      "resolved": "https://registry.npmjs.org/@asamuzakjp/css-color/-/css-color-3.2.0.tgz",
      "integrity": "sha512-K1A6z8tS3XsmCMM86xoWdn7Fkdn9m6RSVtocUrJYIwZnFVkng/PvkEoWtOWmP+Scc6saYWHWZYbndEEXxl24jw==",
      "dev": true,
      "dependencies": {
        "@csstools/css-calc": "^2.1.3",
        "@csstools/css-color-parser": "^3.0.9",
        "@csstools/css-parser-algorithms": "^3.0.4",
        "@csstools/css-tokenizer": "^3.0.3",
        "lru-cache": "^10.4.3"
      }
    },
    "node_modules/@asamuzakjp/css-color/node_modules/lru-cache": {
      "version": "10.4.3",
      "resolved": "https://registry.npmjs.org/lru-cache/-/lru-cache-10.4.3.tgz",
      "integrity": "sha512-JNAzZcXrCt42VGLuYz0zfAzDfAvJWW6AfYlDBQyDV5DClI2m5sAmK+OIO7s59XfsRsWHp02jAJrRadPRGTt6SQ==",
      "dev": true
    },
    "node_modules/@azure/msal-browser": {
      "version": "4.20.0",
      "resolved": "https://registry.npmjs.org/@azure/msal-browser/-/msal-browser-4.20.0.tgz",
      "integrity": "sha512-JBGaxnYAvzFsT5TU6XhVpqc4XVMFjzsi6rrAVINX0PL3+wzs+k12fnvN/XFICvzCfV28NvHzxGfRRBoqE6GxNg==",
      "dependencies": {
        "@azure/msal-common": "15.11.0"
      },
      "engines": {
        "node": ">=0.8.0"
      }
    },
    "node_modules/@azure/msal-common": {
      "version": "15.11.0",
      "resolved": "https://registry.npmjs.org/@azure/msal-common/-/msal-common-15.11.0.tgz",
      "integrity": "sha512-1IseGNH6XGWe+5xhZlhasTJP6Ob7tnVSlfFUnjdeH4Kik0n1SORTmdB6xxTwbx9Ro8EuO0XaRzpdABWSf15sdg==",
      "engines": {
        "node": ">=0.8.0"
      }
    },
    "node_modules/@azure/msal-node": {
      "version": "3.7.1",
      "resolved": "https://registry.npmjs.org/@azure/msal-node/-/msal-node-3.7.1.tgz",
      "integrity": "sha512-ZTopY+BmE/OubqTXEQ5Eq+h6M5NKTchQBtvLj1tgiAf26lk2C+9jJTvtHjcyzE3iWn3wzySJLa4ArcjHJaZMQw==",
      "dependencies": {
        "@azure/msal-common": "15.11.0",
        "jsonwebtoken": "^9.0.0",
        "uuid": "^8.3.0"
      },
      "engines": {
        "node": ">=16"
      }
    },
    "node_modules/@azure/msal-react": {
      "version": "3.0.18",
      "resolved": "https://registry.npmjs.org/@azure/msal-react/-/msal-react-3.0.18.tgz",
      "integrity": "sha512-iu8Ri47ni3Z+MdxeGqvt+7AujtVkdw4lgM9PqlQRL7K0I340uwySaccwVdo1McRmKyRn0118hmy+sNjLzQoBcg==",
      "engines": {
        "node": ">=10"
      },
      "peerDependencies": {
        "@azure/msal-browser": "^4.20.0",
        "react": "^16.8.0 || ^17 || ^18 || ^19"
      }
    },
    "node_modules/@babel/helper-string-parser": {
      "version": "7.27.1",
      "resolved": "https://registry.npmjs.org/@babel/helper-string-parser/-/helper-string-parser-7.27.1.tgz",
      "integrity": "sha512-qMlSxKbpRlAridDExk92nSobyDdpPijUq2DW6oDnUqd0iOGxmQjyqhMIihI9+zv4LPyZdRje2cavWPbCbWm3eA==",
      "dev": true,
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/helper-validator-identifier": {
      "version": "7.27.1",
      "resolved": "https://registry.npmjs.org/@babel/helper-validator-identifier/-/helper-validator-identifier-7.27.1.tgz",
      "integrity": "sha512-D2hP9eA+Sqx1kBZgzxZh0y1trbuU+JoDkiEwqhQ36nodYqJwyEIhPSdMNd7lOm/4io72luTPWH20Yda0xOuUow==",
      "dev": true,
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/parser": {
      "version": "7.28.3",
      "resolved": "https://registry.npmjs.org/@babel/parser/-/parser-7.28.3.tgz",
      "integrity": "sha512-7+Ey1mAgYqFAx2h0RuoxcQT5+MlG3GTV0TQrgr7/ZliKsm/MNDxVVutlWaziMq7wJNAz8MTqz55XLpWvva6StA==",
      "dev": true,
      "dependencies": {
        "@babel/types": "^7.28.2"
      },
      "bin": {
        "parser": "bin/babel-parser.js"
      },
      "engines": {
        "node": ">=6.0.0"
      }
    },
    "node_modules/@babel/types": {
      "version": "7.28.2",
      "resolved": "https://registry.npmjs.org/@babel/types/-/types-7.28.2.tgz",
      "integrity": "sha512-ruv7Ae4J5dUYULmeXw1gmb7rYRz57OWCPM57pHojnLq/3Z1CK2lNSLTCVjxVk1F/TZHwOZZrOWi0ur95BbLxNQ==",
      "dev": true,
      "dependencies": {
        "@babel/helper-string-parser": "^7.27.1",
        "@babel/helper-validator-identifier": "^7.27.1"
      },
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@bcoe/v8-coverage": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/@bcoe/v8-coverage/-/v8-coverage-1.0.2.tgz",
      "integrity": "sha512-6zABk/ECA/QYSCQ1NGiVwwbQerUCZ+TQbp64Q3AgmfNvurHH0j8TtXa1qbShXA6qqkpAj4V5W8pP6mLe1mcMqA==",
      "dev": true,
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@csstools/color-helpers": {
      "version": "5.0.2",
      "resolved": "https://registry.npmjs.org/@csstools/color-helpers/-/color-helpers-5.0.2.tgz",
      "integrity": "sha512-JqWH1vsgdGcw2RR6VliXXdA0/59LttzlU8UlRT/iUUsEeWfYq8I+K0yhihEUTTHLRm1EXvpsCx3083EU15ecsA==",
      "dev": true,
      "funding": [
        {
          "type": "github",
          "url": "https://github.com/sponsors/csstools"
        },
        {
          "type": "opencollective",
          "url": "https://opencollective.com/csstools"
        }
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@csstools/css-calc": {
      "version": "2.1.4",
      "resolved": "https://registry.npmjs.org/@csstools/css-calc/-/css-calc-2.1.4.tgz",
      "integrity": "sha512-3N8oaj+0juUw/1H3YwmDDJXCgTB1gKU6Hc/bB502u9zR0q2vd786XJH9QfrKIEgFlZmhZiq6epXl4rHqhzsIgQ==",
      "dev": true,
      "funding": [
        {
          "type": "github",
          "url": "https://github.com/sponsors/csstools"
        },
        {
          "type": "opencollective",
          "url": "https://opencollective.com/csstools"
        }
      ],
      "engines": {
        "node": ">=18"
      },
      "peerDependencies": {
        "@csstools/css-parser-algorithms": "^3.0.5",
        "@csstools/css-tokenizer": "^3.0.4"
      }
    },
    "node_modules/@csstools/css-color-parser": {
      "version": "3.0.10",
      "resolved": "https://registry.npmjs.org/@csstools/css-color-parser/-/css-color-parser-3.0.10.tgz",
      "integrity": "sha512-TiJ5Ajr6WRd1r8HSiwJvZBiJOqtH86aHpUjq5aEKWHiII2Qfjqd/HCWKPOW8EP4vcspXbHnXrwIDlu5savQipg==",
      "dev": true,
      "funding": [
        {
          "type": "github",
          "url": "https://github.com/sponsors/csstools"
        },
        {
          "type": "opencollective",
          "url": "https://opencollective.com/csstools"
        }
      ],
      "dependencies": {
        "@csstools/color-helpers": "^5.0.2",
        "@csstools/css-calc": "^2.1.4"
      },
      "engines": {
        "node": ">=18"
      },
      "peerDependencies": {
        "@csstools/css-parser-algorithms": "^3.0.5",
        "@csstools/css-tokenizer": "^3.0.4"
      }
    },
    "node_modules/@csstools/css-parser-algorithms": {
      "version": "3.0.5",
      "resolved": "https://registry.npmjs.org/@csstools/css-parser-algorithms/-/css-parser-algorithms-3.0.5.tgz",
      "integrity": "sha512-DaDeUkXZKjdGhgYaHNJTV9pV7Y9B3b644jCLs9Upc3VeNGg6LWARAT6O+Q+/COo+2gg/bM5rhpMAtf70WqfBdQ==",
      "dev": true,
      "funding": [
        {
          "type": "github",
          "url": "https://github.com/sponsors/csstools"
        },
        {
          "type": "opencollective",
          "url": "https://opencollective.com/csstools"
        }
      ],
      "engines": {
        "node": ">=18"
      },
      "peerDependencies": {
        "@csstools/css-tokenizer": "^3.0.4"
      }
    },
    "node_modules/@csstools/css-tokenizer": {
      "version": "3.0.4",
      "resolved": "https://registry.npmjs.org/@csstools/css-tokenizer/-/css-tokenizer-3.0.4.tgz",
      "integrity": "sha512-Vd/9EVDiu6PPJt9yAh6roZP6El1xHrdvIVGjyBsHR0RYwNHgL7FJPyIIW4fANJNG6FtyZfvlRPpFI4ZM/lubvw==",
      "dev": true,
      "funding": [
        {
          "type": "github",
          "url": "https://github.com/sponsors/csstools"
        },
        {
          "type": "opencollective",
          "url": "https://opencollective.com/csstools"
        }
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@emnapi/core": {
      "version": "1.4.5",
      "resolved": "https://registry.npmjs.org/@emnapi/core/-/core-1.4.5.tgz",
      "integrity": "sha512-XsLw1dEOpkSX/WucdqUhPWP7hDxSvZiY+fsUC14h+FtQ2Ifni4znbBt8punRX+Uj2JG/uDb8nEHVKvrVlvdZ5Q==",
      "dev": true,
      "optional": true,
      "dependencies": {
        "@emnapi/wasi-threads": "1.0.4",
        "tslib": "^2.4.0"
      }
    },
    "node_modules/@emnapi/runtime": {
      "version": "1.4.5",
      "resolved": "https://registry.npmjs.org/@emnapi/runtime/-/runtime-1.4.5.tgz",
      "integrity": "sha512-++LApOtY0pEEz1zrd9vy1/zXVaVJJ/EbAF3u0fXIzPJEDtnITsBGbbK0EkM72amhl/R5b+5xx0Y/QhcVOpuulg==",
      "optional": true,
      "dependencies": {
        "tslib": "^2.4.0"
      }
    },
    "node_modules/@emnapi/wasi-threads": {
      "version": "1.0.4",
      "resolved": "https://registry.npmjs.org/@emnapi/wasi-threads/-/wasi-threads-1.0.4.tgz",
      "integrity": "sha512-PJR+bOmMOPH8AtcTGAyYNiuJ3/Fcoj2XN/gBEWzDIKh254XO+mM9XoXHk5GNEhodxeMznbg7BlRojVbKN+gC6g==",
      "dev": true,
      "optional": true,
      "dependencies": {
        "tslib": "^2.4.0"
      }
    },
    "node_modules/@esbuild/aix-ppc64": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/aix-ppc64/-/aix-ppc64-0.25.9.tgz",
      "integrity": "sha512-OaGtL73Jck6pBKjNIe24BnFE6agGl+6KxDtTfHhy1HmhthfKouEcOhqpSL64K4/0WCtbKFLOdzD/44cJ4k9opA==",
      "cpu": [
        "ppc64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "aix"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/android-arm": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/android-arm/-/android-arm-0.25.9.tgz",
      "integrity": "sha512-5WNI1DaMtxQ7t7B6xa572XMXpHAaI/9Hnhk8lcxF4zVN4xstUgTlvuGDorBguKEnZO70qwEcLpfifMLoxiPqHQ==",
      "cpu": [
        "arm"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "android"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/android-arm64": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/android-arm64/-/android-arm64-0.25.9.tgz",
      "integrity": "sha512-IDrddSmpSv51ftWslJMvl3Q2ZT98fUSL2/rlUXuVqRXHCs5EUF1/f+jbjF5+NG9UffUDMCiTyh8iec7u8RlTLg==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "android"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/android-x64": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/android-x64/-/android-x64-0.25.9.tgz",
      "integrity": "sha512-I853iMZ1hWZdNllhVZKm34f4wErd4lMyeV7BLzEExGEIZYsOzqDWDf+y082izYUE8gtJnYHdeDpN/6tUdwvfiw==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "android"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/darwin-arm64": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/darwin-arm64/-/darwin-arm64-0.25.9.tgz",
      "integrity": "sha512-XIpIDMAjOELi/9PB30vEbVMs3GV1v2zkkPnuyRRURbhqjyzIINwj+nbQATh4H9GxUgH1kFsEyQMxwiLFKUS6Rg==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/darwin-x64": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/darwin-x64/-/darwin-x64-0.25.9.tgz",
      "integrity": "sha512-jhHfBzjYTA1IQu8VyrjCX4ApJDnH+ez+IYVEoJHeqJm9VhG9Dh2BYaJritkYK3vMaXrf7Ogr/0MQ8/MeIefsPQ==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/freebsd-arm64": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/freebsd-arm64/-/freebsd-arm64-0.25.9.tgz",
      "integrity": "sha512-z93DmbnY6fX9+KdD4Ue/H6sYs+bhFQJNCPZsi4XWJoYblUqT06MQUdBCpcSfuiN72AbqeBFu5LVQTjfXDE2A6Q==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "freebsd"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/freebsd-x64": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/freebsd-x64/-/freebsd-x64-0.25.9.tgz",
      "integrity": "sha512-mrKX6H/vOyo5v71YfXWJxLVxgy1kyt1MQaD8wZJgJfG4gq4DpQGpgTB74e5yBeQdyMTbgxp0YtNj7NuHN0PoZg==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "freebsd"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/linux-arm": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-arm/-/linux-arm-0.25.9.tgz",
      "integrity": "sha512-HBU2Xv78SMgaydBmdor38lg8YDnFKSARg1Q6AT0/y2ezUAKiZvc211RDFHlEZRFNRVhcMamiToo7bDx3VEOYQw==",
      "cpu": [
        "arm"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/linux-arm64": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-arm64/-/linux-arm64-0.25.9.tgz",
      "integrity": "sha512-BlB7bIcLT3G26urh5Dmse7fiLmLXnRlopw4s8DalgZ8ef79Jj4aUcYbk90g8iCa2467HX8SAIidbL7gsqXHdRw==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/linux-ia32": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-ia32/-/linux-ia32-0.25.9.tgz",
      "integrity": "sha512-e7S3MOJPZGp2QW6AK6+Ly81rC7oOSerQ+P8L0ta4FhVi+/j/v2yZzx5CqqDaWjtPFfYz21Vi1S0auHrap3Ma3A==",
      "cpu": [
        "ia32"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/linux-loong64": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-loong64/-/linux-loong64-0.25.9.tgz",
      "integrity": "sha512-Sbe10Bnn0oUAB2AalYztvGcK+o6YFFA/9829PhOCUS9vkJElXGdphz0A3DbMdP8gmKkqPmPcMJmJOrI3VYB1JQ==",
      "cpu": [
        "loong64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/linux-mips64el": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-mips64el/-/linux-mips64el-0.25.9.tgz",
      "integrity": "sha512-YcM5br0mVyZw2jcQeLIkhWtKPeVfAerES5PvOzaDxVtIyZ2NUBZKNLjC5z3/fUlDgT6w89VsxP2qzNipOaaDyA==",
      "cpu": [
        "mips64el"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/linux-ppc64": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-ppc64/-/linux-ppc64-0.25.9.tgz",
      "integrity": "sha512-++0HQvasdo20JytyDpFvQtNrEsAgNG2CY1CLMwGXfFTKGBGQT3bOeLSYE2l1fYdvML5KUuwn9Z8L1EWe2tzs1w==",
      "cpu": [
        "ppc64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/linux-riscv64": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-riscv64/-/linux-riscv64-0.25.9.tgz",
      "integrity": "sha512-uNIBa279Y3fkjV+2cUjx36xkx7eSjb8IvnL01eXUKXez/CBHNRw5ekCGMPM0BcmqBxBcdgUWuUXmVWwm4CH9kg==",
      "cpu": [
        "riscv64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/linux-s390x": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-s390x/-/linux-s390x-0.25.9.tgz",
      "integrity": "sha512-Mfiphvp3MjC/lctb+7D287Xw1DGzqJPb/J2aHHcHxflUo+8tmN/6d4k6I2yFR7BVo5/g7x2Monq4+Yew0EHRIA==",
      "cpu": [
        "s390x"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/linux-x64": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-x64/-/linux-x64-0.25.9.tgz",
      "integrity": "sha512-iSwByxzRe48YVkmpbgoxVzn76BXjlYFXC7NvLYq+b+kDjyyk30J0JY47DIn8z1MO3K0oSl9fZoRmZPQI4Hklzg==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/netbsd-arm64": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/netbsd-arm64/-/netbsd-arm64-0.25.9.tgz",
      "integrity": "sha512-9jNJl6FqaUG+COdQMjSCGW4QiMHH88xWbvZ+kRVblZsWrkXlABuGdFJ1E9L7HK+T0Yqd4akKNa/lO0+jDxQD4Q==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "netbsd"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/netbsd-x64": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/netbsd-x64/-/netbsd-x64-0.25.9.tgz",
      "integrity": "sha512-RLLdkflmqRG8KanPGOU7Rpg829ZHu8nFy5Pqdi9U01VYtG9Y0zOG6Vr2z4/S+/3zIyOxiK6cCeYNWOFR9QP87g==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "netbsd"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/openbsd-arm64": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/openbsd-arm64/-/openbsd-arm64-0.25.9.tgz",
      "integrity": "sha512-YaFBlPGeDasft5IIM+CQAhJAqS3St3nJzDEgsgFixcfZeyGPCd6eJBWzke5piZuZ7CtL656eOSYKk4Ls2C0FRQ==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "openbsd"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/openbsd-x64": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/openbsd-x64/-/openbsd-x64-0.25.9.tgz",
      "integrity": "sha512-1MkgTCuvMGWuqVtAvkpkXFmtL8XhWy+j4jaSO2wxfJtilVCi0ZE37b8uOdMItIHz4I6z1bWWtEX4CJwcKYLcuA==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "openbsd"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/openharmony-arm64": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/openharmony-arm64/-/openharmony-arm64-0.25.9.tgz",
      "integrity": "sha512-4Xd0xNiMVXKh6Fa7HEJQbrpP3m3DDn43jKxMjxLLRjWnRsfxjORYJlXPO4JNcXtOyfajXorRKY9NkOpTHptErg==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "openharmony"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/sunos-x64": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/sunos-x64/-/sunos-x64-0.25.9.tgz",
      "integrity": "sha512-WjH4s6hzo00nNezhp3wFIAfmGZ8U7KtrJNlFMRKxiI9mxEK1scOMAaa9i4crUtu+tBr+0IN6JCuAcSBJZfnphw==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "sunos"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/win32-arm64": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/win32-arm64/-/win32-arm64-0.25.9.tgz",
      "integrity": "sha512-mGFrVJHmZiRqmP8xFOc6b84/7xa5y5YvR1x8djzXpJBSv/UsNK6aqec+6JDjConTgvvQefdGhFDAs2DLAds6gQ==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/win32-ia32": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/win32-ia32/-/win32-ia32-0.25.9.tgz",
      "integrity": "sha512-b33gLVU2k11nVx1OhX3C8QQP6UHQK4ZtN56oFWvVXvz2VkDoe6fbG8TOgHFxEvqeqohmRnIHe5A1+HADk4OQww==",
      "cpu": [
        "ia32"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/win32-x64": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/win32-x64/-/win32-x64-0.25.9.tgz",
      "integrity": "sha512-PPOl1mi6lpLNQxnGoyAfschAodRFYXJ+9fs6WHXz7CSWKbOqiMZsubC+BQsVKuul+3vKLuwTHsS2c2y9EoKwxQ==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@eslint-community/eslint-utils": {
      "version": "4.7.0",
      "resolved": "https://registry.npmjs.org/@eslint-community/eslint-utils/-/eslint-utils-4.7.0.tgz",
      "integrity": "sha512-dyybb3AcajC7uha6CvhdVRJqaKyn7w2YKqKyAN37NKYgZT36w+iRb0Dymmc5qEJ549c/S31cMMSFd75bteCpCw==",
      "dev": true,
      "dependencies": {
        "eslint-visitor-keys": "^3.4.3"
      },
      "engines": {
        "node": "^12.22.0 || ^14.17.0 || >=16.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/eslint"
      },
      "peerDependencies": {
        "eslint": "^6.0.0 || ^7.0.0 || >=8.0.0"
      }
    },
    "node_modules/@eslint-community/eslint-utils/node_modules/eslint-visitor-keys": {
      "version": "3.4.3",
      "resolved": "https://registry.npmjs.org/eslint-visitor-keys/-/eslint-visitor-keys-3.4.3.tgz",
      "integrity": "sha512-wpc+LXeiyiisxPlEkUzU6svyS1frIO3Mgxj1fdy7Pm8Ygzguax2N3Fa/D/ag1WqbOprdI+uY6wMUl8/a2G+iag==",
      "dev": true,
      "engines": {
        "node": "^12.22.0 || ^14.17.0 || >=16.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/eslint"
      }
    },
    "node_modules/@eslint-community/regexpp": {
      "version": "4.12.1",
      "resolved": "https://registry.npmjs.org/@eslint-community/regexpp/-/regexpp-4.12.1.tgz",
      "integrity": "sha512-CCZCDJuduB9OUkFkY2IgppNZMi2lBQgD2qzwXkEia16cge2pijY/aXi96CJMquDMn3nJdlPV1A5KrJEXwfLNzQ==",
      "dev": true,
      "engines": {
        "node": "^12.0.0 || ^14.0.0 || >=16.0.0"
      }
    },
    "node_modules/@eslint/config-array": {
      "version": "0.21.0",
      "resolved": "https://registry.npmjs.org/@eslint/config-array/-/config-array-0.21.0.tgz",
      "integrity": "sha512-ENIdc4iLu0d93HeYirvKmrzshzofPw6VkZRKQGe9Nv46ZnWUzcF1xV01dcvEg/1wXUR61OmmlSfyeyO7EvjLxQ==",
      "dev": true,
      "dependencies": {
        "@eslint/object-schema": "^2.1.6",
        "debug": "^4.3.1",
        "minimatch": "^3.1.2"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      }
    },
    "node_modules/@eslint/config-helpers": {
      "version": "0.3.1",
      "resolved": "https://registry.npmjs.org/@eslint/config-helpers/-/config-helpers-0.3.1.tgz",
      "integrity": "sha512-xR93k9WhrDYpXHORXpxVL5oHj3Era7wo6k/Wd8/IsQNnZUTzkGS29lyn3nAT05v6ltUuTFVCCYDEGfy2Or/sPA==",
      "dev": true,
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      }
    },
    "node_modules/@eslint/core": {
      "version": "0.15.2",
      "resolved": "https://registry.npmjs.org/@eslint/core/-/core-0.15.2.tgz",
      "integrity": "sha512-78Md3/Rrxh83gCxoUc0EiciuOHsIITzLy53m3d9UyiW8y9Dj2D29FeETqyKA+BRK76tnTp6RXWb3pCay8Oyomg==",
      "dev": true,
      "dependencies": {
        "@types/json-schema": "^7.0.15"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      }
    },
    "node_modules/@eslint/eslintrc": {
      "version": "3.3.1",
      "resolved": "https://registry.npmjs.org/@eslint/eslintrc/-/eslintrc-3.3.1.tgz",
      "integrity": "sha512-gtF186CXhIl1p4pJNGZw8Yc6RlshoePRvE0X91oPGb3vZ8pM3qOS9W9NGPat9LziaBV7XrJWGylNQXkGcnM3IQ==",
      "dev": true,
      "dependencies": {
        "ajv": "^6.12.4",
        "debug": "^4.3.2",
        "espree": "^10.0.1",
        "globals": "^14.0.0",
        "ignore": "^5.2.0",
        "import-fresh": "^3.2.1",
        "js-yaml": "^4.1.0",
        "minimatch": "^3.1.2",
        "strip-json-comments": "^3.1.1"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "url": "https://opencollective.com/eslint"
      }
    },
    "node_modules/@eslint/js": {
      "version": "9.33.0",
      "resolved": "https://registry.npmjs.org/@eslint/js/-/js-9.33.0.tgz",
      "integrity": "sha512-5K1/mKhWaMfreBGJTwval43JJmkip0RmM+3+IuqupeSKNC/Th2Kc7ucaq5ovTSra/OOKB9c58CGSz3QMVbWt0A==",
      "dev": true,
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "url": "https://eslint.org/donate"
      }
    },
    "node_modules/@eslint/object-schema": {
      "version": "2.1.6",
      "resolved": "https://registry.npmjs.org/@eslint/object-schema/-/object-schema-2.1.6.tgz",
      "integrity": "sha512-RBMg5FRL0I0gs51M/guSAj5/e14VQ4tpZnQNWwuDT66P14I43ItmPfIZRhO9fUVIPOAQXU47atlywZ/czoqFPA==",
      "dev": true,
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      }
    },
    "node_modules/@eslint/plugin-kit": {
      "version": "0.3.5",
      "resolved": "https://registry.npmjs.org/@eslint/plugin-kit/-/plugin-kit-0.3.5.tgz",
      "integrity": "sha512-Z5kJ+wU3oA7MMIqVR9tyZRtjYPr4OC004Q4Rw7pgOKUOKkJfZ3O24nz3WYfGRpMDNmcOi3TwQOmgm7B7Tpii0w==",
      "dev": true,
      "dependencies": {
        "@eslint/core": "^0.15.2",
        "levn": "^0.4.1"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      }
    },
    "node_modules/@floating-ui/core": {
      "version": "1.7.3",
      "resolved": "https://registry.npmjs.org/@floating-ui/core/-/core-1.7.3.tgz",
      "integrity": "sha512-sGnvb5dmrJaKEZ+LDIpguvdX3bDlEllmv4/ClQ9awcmCZrlx5jQyyMWFM5kBI+EyNOCDDiKk8il0zeuX3Zlg/w==",
      "dependencies": {
        "@floating-ui/utils": "^0.2.10"
      }
    },
    "node_modules/@floating-ui/dom": {
      "version": "1.7.3",
      "resolved": "https://registry.npmjs.org/@floating-ui/dom/-/dom-1.7.3.tgz",
      "integrity": "sha512-uZA413QEpNuhtb3/iIKoYMSK07keHPYeXF02Zhd6e213j+d1NamLix/mCLxBUDW/Gx52sPH2m+chlUsyaBs/Ag==",
      "dependencies": {
        "@floating-ui/core": "^1.7.3",
        "@floating-ui/utils": "^0.2.10"
      }
    },
    "node_modules/@floating-ui/react-dom": {
      "version": "2.1.5",
      "resolved": "https://registry.npmjs.org/@floating-ui/react-dom/-/react-dom-2.1.5.tgz",
      "integrity": "sha512-HDO/1/1oH9fjj4eLgegrlH3dklZpHtUYYFiVwMUwfGvk9jWDRWqkklA2/NFScknrcNSspbV868WjXORvreDX+Q==",
      "dependencies": {
        "@floating-ui/dom": "^1.7.3"
      },
      "peerDependencies": {
        "react": ">=16.8.0",
        "react-dom": ">=16.8.0"
      }
    },
    "node_modules/@floating-ui/utils": {
      "version": "0.2.10",
      "resolved": "https://registry.npmjs.org/@floating-ui/utils/-/utils-0.2.10.tgz",
      "integrity": "sha512-aGTxbpbg8/b5JfU1HXSrbH3wXZuLPJcNEcZQFMxLs3oSzgtVu6nFPkbbGGUvBcUjKV2YyB9Wxxabo+HEH9tcRQ=="
    },
    "node_modules/@heroicons/react": {
      "version": "2.2.0",
      "resolved": "https://registry.npmjs.org/@heroicons/react/-/react-2.2.0.tgz",
      "integrity": "sha512-LMcepvRaS9LYHJGsF0zzmgKCUim/X3N/DQKc4jepAXJ7l8QxJ1PmxJzqplF2Z3FE4PqBAIGyJAQ/w4B5dsqbtQ==",
      "peerDependencies": {
        "react": ">= 16 || ^19.0.0-rc"
      }
    },
    "node_modules/@humanfs/core": {
      "version": "0.19.1",
      "resolved": "https://registry.npmjs.org/@humanfs/core/-/core-0.19.1.tgz",
      "integrity": "sha512-5DyQ4+1JEUzejeK1JGICcideyfUbGixgS9jNgex5nqkW+cY7WZhxBigmieN5Qnw9ZosSNVC9KQKyb+GUaGyKUA==",
      "dev": true,
      "engines": {
        "node": ">=18.18.0"
      }
    },
    "node_modules/@humanfs/node": {
      "version": "0.16.6",
      "resolved": "https://registry.npmjs.org/@humanfs/node/-/node-0.16.6.tgz",
      "integrity": "sha512-YuI2ZHQL78Q5HbhDiBA1X4LmYdXCKCMQIfw0pw7piHJwyREFebJUvrQN4cMssyES6x+vfUbx1CIpaQUKYdQZOw==",
      "dev": true,
      "dependencies": {
        "@humanfs/core": "^0.19.1",
        "@humanwhocodes/retry": "^0.3.0"
      },
      "engines": {
        "node": ">=18.18.0"
      }
    },
    "node_modules/@humanfs/node/node_modules/@humanwhocodes/retry": {
      "version": "0.3.1",
      "resolved": "https://registry.npmjs.org/@humanwhocodes/retry/-/retry-0.3.1.tgz",
      "integrity": "sha512-JBxkERygn7Bv/GbN5Rv8Ul6LVknS+5Bp6RgDC/O8gEBU/yeH5Ui5C/OlWrTb6qct7LjjfT6Re2NxB0ln0yYybA==",
      "dev": true,
      "engines": {
        "node": ">=18.18"
      },
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/nzakas"
      }
    },
    "node_modules/@humanwhocodes/module-importer": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/@humanwhocodes/module-importer/-/module-importer-1.0.1.tgz",
      "integrity": "sha512-bxveV4V8v5Yb4ncFTT3rPSgZBOpCkjfK0y4oVVVJwIuDVBRMDXrPyXRL988i5ap9m9bnyEEjWfm5WkBmtffLfA==",
      "dev": true,
      "engines": {
        "node": ">=12.22"
      },
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/nzakas"
      }
    },
    "node_modules/@humanwhocodes/retry": {
      "version": "0.4.3",
      "resolved": "https://registry.npmjs.org/@humanwhocodes/retry/-/retry-0.4.3.tgz",
      "integrity": "sha512-bV0Tgo9K4hfPCek+aMAn81RppFKv2ySDQeMoSZuvTASywNTnVJCArCZE2FWqpvIatKu7VMRLWlR1EazvVhDyhQ==",
      "dev": true,
      "engines": {
        "node": ">=18.18"
      },
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/nzakas"
      }
    },
    "node_modules/@img/sharp-darwin-arm64": {
      "version": "0.34.3",
      "resolved": "https://registry.npmjs.org/@img/sharp-darwin-arm64/-/sharp-darwin-arm64-0.34.3.tgz",
      "integrity": "sha512-ryFMfvxxpQRsgZJqBd4wsttYQbCxsJksrv9Lw/v798JcQ8+w84mBWuXwl+TT0WJ/WrYOLaYpwQXi3sA9nTIaIg==",
      "cpu": [
        "arm64"
      ],
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/libvips"
      },
      "optionalDependencies": {
        "@img/sharp-libvips-darwin-arm64": "1.2.0"
      }
    },
    "node_modules/@img/sharp-darwin-x64": {
      "version": "0.34.3",
      "resolved": "https://registry.npmjs.org/@img/sharp-darwin-x64/-/sharp-darwin-x64-0.34.3.tgz",
      "integrity": "sha512-yHpJYynROAj12TA6qil58hmPmAwxKKC7reUqtGLzsOHfP7/rniNGTL8tjWX6L3CTV4+5P4ypcS7Pp+7OB+8ihA==",
      "cpu": [
        "x64"
      ],
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/libvips"
      },
      "optionalDependencies": {
        "@img/sharp-libvips-darwin-x64": "1.2.0"
      }
    },
    "node_modules/@img/sharp-libvips-darwin-arm64": {
      "version": "1.2.0",
      "resolved": "https://registry.npmjs.org/@img/sharp-libvips-darwin-arm64/-/sharp-libvips-darwin-arm64-1.2.0.tgz",
      "integrity": "sha512-sBZmpwmxqwlqG9ueWFXtockhsxefaV6O84BMOrhtg/YqbTaRdqDE7hxraVE3y6gVM4eExmfzW4a8el9ArLeEiQ==",
      "cpu": [
        "arm64"
      ],
      "optional": true,
      "os": [
        "darwin"
      ],
      "funding": {
        "url": "https://opencollective.com/libvips"
      }
    },
    "node_modules/@img/sharp-libvips-darwin-x64": {
      "version": "1.2.0",
      "resolved": "https://registry.npmjs.org/@img/sharp-libvips-darwin-x64/-/sharp-libvips-darwin-x64-1.2.0.tgz",
      "integrity": "sha512-M64XVuL94OgiNHa5/m2YvEQI5q2cl9d/wk0qFTDVXcYzi43lxuiFTftMR1tOnFQovVXNZJ5TURSDK2pNe9Yzqg==",
      "cpu": [
        "x64"
      ],
      "optional": true,
      "os": [
        "darwin"
      ],
      "funding": {
        "url": "https://opencollective.com/libvips"
      }
    },
    "node_modules/@img/sharp-libvips-linux-arm": {
      "version": "1.2.0",
      "resolved": "https://registry.npmjs.org/@img/sharp-libvips-linux-arm/-/sharp-libvips-linux-arm-1.2.0.tgz",
      "integrity": "sha512-mWd2uWvDtL/nvIzThLq3fr2nnGfyr/XMXlq8ZJ9WMR6PXijHlC3ksp0IpuhK6bougvQrchUAfzRLnbsen0Cqvw==",
      "cpu": [
        "arm"
      ],
      "optional": true,
      "os": [
        "linux"
      ],
      "funding": {
        "url": "https://opencollective.com/libvips"
      }
    },
    "node_modules/@img/sharp-libvips-linux-arm64": {
      "version": "1.2.0",
      "resolved": "https://registry.npmjs.org/@img/sharp-libvips-linux-arm64/-/sharp-libvips-linux-arm64-1.2.0.tgz",
      "integrity": "sha512-RXwd0CgG+uPRX5YYrkzKyalt2OJYRiJQ8ED/fi1tq9WQW2jsQIn0tqrlR5l5dr/rjqq6AHAxURhj2DVjyQWSOA==",
      "cpu": [
        "arm64"
      ],
      "optional": true,
      "os": [
        "linux"
      ],
      "funding": {
        "url": "https://opencollective.com/libvips"
      }
    },
    "node_modules/@img/sharp-libvips-linux-ppc64": {
      "version": "1.2.0",
      "resolved": "https://registry.npmjs.org/@img/sharp-libvips-linux-ppc64/-/sharp-libvips-linux-ppc64-1.2.0.tgz",
      "integrity": "sha512-Xod/7KaDDHkYu2phxxfeEPXfVXFKx70EAFZ0qyUdOjCcxbjqyJOEUpDe6RIyaunGxT34Anf9ue/wuWOqBW2WcQ==",
      "cpu": [
        "ppc64"
      ],
      "optional": true,
      "os": [
        "linux"
      ],
      "funding": {
        "url": "https://opencollective.com/libvips"
      }
    },
    "node_modules/@img/sharp-libvips-linux-s390x": {
      "version": "1.2.0",
      "resolved": "https://registry.npmjs.org/@img/sharp-libvips-linux-s390x/-/sharp-libvips-linux-s390x-1.2.0.tgz",
      "integrity": "sha512-eMKfzDxLGT8mnmPJTNMcjfO33fLiTDsrMlUVcp6b96ETbnJmd4uvZxVJSKPQfS+odwfVaGifhsB07J1LynFehw==",
      "cpu": [
        "s390x"
      ],
      "optional": true,
      "os": [
        "linux"
      ],
      "funding": {
        "url": "https://opencollective.com/libvips"
      }
    },
    "node_modules/@img/sharp-libvips-linux-x64": {
      "version": "1.2.0",
      "resolved": "https://registry.npmjs.org/@img/sharp-libvips-linux-x64/-/sharp-libvips-linux-x64-1.2.0.tgz",
      "integrity": "sha512-ZW3FPWIc7K1sH9E3nxIGB3y3dZkpJlMnkk7z5tu1nSkBoCgw2nSRTFHI5pB/3CQaJM0pdzMF3paf9ckKMSE9Tg==",
      "cpu": [
        "x64"
      ],
      "optional": true,
      "os": [
        "linux"
      ],
      "funding": {
        "url": "https://opencollective.com/libvips"
      }
    },
    "node_modules/@img/sharp-libvips-linuxmusl-arm64": {
      "version": "1.2.0",
      "resolved": "https://registry.npmjs.org/@img/sharp-libvips-linuxmusl-arm64/-/sharp-libvips-linuxmusl-arm64-1.2.0.tgz",
      "integrity": "sha512-UG+LqQJbf5VJ8NWJ5Z3tdIe/HXjuIdo4JeVNADXBFuG7z9zjoegpzzGIyV5zQKi4zaJjnAd2+g2nna8TZvuW9Q==",
      "cpu": [
        "arm64"
      ],
      "optional": true,
      "os": [
        "linux"
      ],
      "funding": {
        "url": "https://opencollective.com/libvips"
      }
    },
    "node_modules/@img/sharp-libvips-linuxmusl-x64": {
      "version": "1.2.0",
      "resolved": "https://registry.npmjs.org/@img/sharp-libvips-linuxmusl-x64/-/sharp-libvips-linuxmusl-x64-1.2.0.tgz",
      "integrity": "sha512-SRYOLR7CXPgNze8akZwjoGBoN1ThNZoqpOgfnOxmWsklTGVfJiGJoC/Lod7aNMGA1jSsKWM1+HRX43OP6p9+6Q==",
      "cpu": [
        "x64"
      ],
      "optional": true,
      "os": [
        "linux"
      ],
      "funding": {
        "url": "https://opencollective.com/libvips"
      }
    },
    "node_modules/@img/sharp-linux-arm": {
      "version": "0.34.3",
      "resolved": "https://registry.npmjs.org/@img/sharp-linux-arm/-/sharp-linux-arm-0.34.3.tgz",
      "integrity": "sha512-oBK9l+h6KBN0i3dC8rYntLiVfW8D8wH+NPNT3O/WBHeW0OQWCjfWksLUaPidsrDKpJgXp3G3/hkmhptAW0I3+A==",
      "cpu": [
        "arm"
      ],
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/libvips"
      },
      "optionalDependencies": {
        "@img/sharp-libvips-linux-arm": "1.2.0"
      }
    },
    "node_modules/@img/sharp-linux-arm64": {
      "version": "0.34.3",
      "resolved": "https://registry.npmjs.org/@img/sharp-linux-arm64/-/sharp-linux-arm64-0.34.3.tgz",
      "integrity": "sha512-QdrKe3EvQrqwkDrtuTIjI0bu6YEJHTgEeqdzI3uWJOH6G1O8Nl1iEeVYRGdj1h5I21CqxSvQp1Yv7xeU3ZewbA==",
      "cpu": [
        "arm64"
      ],
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/libvips"
      },
      "optionalDependencies": {
        "@img/sharp-libvips-linux-arm64": "1.2.0"
      }
    },
    "node_modules/@img/sharp-linux-ppc64": {
      "version": "0.34.3",
      "resolved": "https://registry.npmjs.org/@img/sharp-linux-ppc64/-/sharp-linux-ppc64-0.34.3.tgz",
      "integrity": "sha512-GLtbLQMCNC5nxuImPR2+RgrviwKwVql28FWZIW1zWruy6zLgA5/x2ZXk3mxj58X/tszVF69KK0Is83V8YgWhLA==",
      "cpu": [
        "ppc64"
      ],
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/libvips"
      },
      "optionalDependencies": {
        "@img/sharp-libvips-linux-ppc64": "1.2.0"
      }
    },
    "node_modules/@img/sharp-linux-s390x": {
      "version": "0.34.3",
      "resolved": "https://registry.npmjs.org/@img/sharp-linux-s390x/-/sharp-linux-s390x-0.34.3.tgz",
      "integrity": "sha512-3gahT+A6c4cdc2edhsLHmIOXMb17ltffJlxR0aC2VPZfwKoTGZec6u5GrFgdR7ciJSsHT27BD3TIuGcuRT0KmQ==",
      "cpu": [
        "s390x"
      ],
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/libvips"
      },
      "optionalDependencies": {
        "@img/sharp-libvips-linux-s390x": "1.2.0"
      }
    },
    "node_modules/@img/sharp-linux-x64": {
      "version": "0.34.3",
      "resolved": "https://registry.npmjs.org/@img/sharp-linux-x64/-/sharp-linux-x64-0.34.3.tgz",
      "integrity": "sha512-8kYso8d806ypnSq3/Ly0QEw90V5ZoHh10yH0HnrzOCr6DKAPI6QVHvwleqMkVQ0m+fc7EH8ah0BB0QPuWY6zJQ==",
      "cpu": [
        "x64"
      ],
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/libvips"
      },
      "optionalDependencies": {
        "@img/sharp-libvips-linux-x64": "1.2.0"
      }
    },
    "node_modules/@img/sharp-linuxmusl-arm64": {
      "version": "0.34.3",
      "resolved": "https://registry.npmjs.org/@img/sharp-linuxmusl-arm64/-/sharp-linuxmusl-arm64-0.34.3.tgz",
      "integrity": "sha512-vAjbHDlr4izEiXM1OTggpCcPg9tn4YriK5vAjowJsHwdBIdx0fYRsURkxLG2RLm9gyBq66gwtWI8Gx0/ov+JKQ==",
      "cpu": [
        "arm64"
      ],
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/libvips"
      },
      "optionalDependencies": {
        "@img/sharp-libvips-linuxmusl-arm64": "1.2.0"
      }
    },
    "node_modules/@img/sharp-linuxmusl-x64": {
      "version": "0.34.3",
      "resolved": "https://registry.npmjs.org/@img/sharp-linuxmusl-x64/-/sharp-linuxmusl-x64-0.34.3.tgz",
      "integrity": "sha512-gCWUn9547K5bwvOn9l5XGAEjVTTRji4aPTqLzGXHvIr6bIDZKNTA34seMPgM0WmSf+RYBH411VavCejp3PkOeQ==",
      "cpu": [
        "x64"
      ],
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/libvips"
      },
      "optionalDependencies": {
        "@img/sharp-libvips-linuxmusl-x64": "1.2.0"
      }
    },
    "node_modules/@img/sharp-wasm32": {
      "version": "0.34.3",
      "resolved": "https://registry.npmjs.org/@img/sharp-wasm32/-/sharp-wasm32-0.34.3.tgz",
      "integrity": "sha512-+CyRcpagHMGteySaWos8IbnXcHgfDn7pO2fiC2slJxvNq9gDipYBN42/RagzctVRKgxATmfqOSulgZv5e1RdMg==",
      "cpu": [
        "wasm32"
      ],
      "optional": true,
      "dependencies": {
        "@emnapi/runtime": "^1.4.4"
      },
      "engines": {
        "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/libvips"
      }
    },
    "node_modules/@img/sharp-win32-arm64": {
      "version": "0.34.3",
      "resolved": "https://registry.npmjs.org/@img/sharp-win32-arm64/-/sharp-win32-arm64-0.34.3.tgz",
      "integrity": "sha512-MjnHPnbqMXNC2UgeLJtX4XqoVHHlZNd+nPt1kRPmj63wURegwBhZlApELdtxM2OIZDRv/DFtLcNhVbd1z8GYXQ==",
      "cpu": [
        "arm64"
      ],
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/libvips"
      }
    },
    "node_modules/@img/sharp-win32-ia32": {
      "version": "0.34.3",
      "resolved": "https://registry.npmjs.org/@img/sharp-win32-ia32/-/sharp-win32-ia32-0.34.3.tgz",
      "integrity": "sha512-xuCdhH44WxuXgOM714hn4amodJMZl3OEvf0GVTm0BEyMeA2to+8HEdRPShH0SLYptJY1uBw+SCFP9WVQi1Q/cw==",
      "cpu": [
        "ia32"
      ],
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/libvips"
      }
    },
    "node_modules/@img/sharp-win32-x64": {
      "version": "0.34.3",
      "resolved": "https://registry.npmjs.org/@img/sharp-win32-x64/-/sharp-win32-x64-0.34.3.tgz",
      "integrity": "sha512-OWwz05d++TxzLEv4VnsTz5CmZ6mI6S05sfQGEMrNrQcOEERbX46332IvE7pO/EUiw7jUrrS40z/M7kPyjfl04g==",
      "cpu": [
        "x64"
      ],
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/libvips"
      }
    },
    "node_modules/@isaacs/cliui": {
      "version": "8.0.2",
      "resolved": "https://registry.npmjs.org/@isaacs/cliui/-/cliui-8.0.2.tgz",
      "integrity": "sha512-O8jcjabXaleOG9DQ0+ARXWZBTfnP4WNAqzuiJK7ll44AmxGKv/J2M4TPjxjY3znBCfvBXFzucm1twdyFybFqEA==",
      "dev": true,
      "dependencies": {
        "string-width": "^5.1.2",
        "string-width-cjs": "npm:string-width@^4.2.0",
        "strip-ansi": "^7.0.1",
        "strip-ansi-cjs": "npm:strip-ansi@^6.0.1",
        "wrap-ansi": "^8.1.0",
        "wrap-ansi-cjs": "npm:wrap-ansi@^7.0.0"
      },
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@isaacs/fs-minipass": {
      "version": "4.0.1",
      "resolved": "https://registry.npmjs.org/@isaacs/fs-minipass/-/fs-minipass-4.0.1.tgz",
      "integrity": "sha512-wgm9Ehl2jpeqP3zw/7mo3kRHFp5MEDhqAdwy1fTGkHAwnkGOVsgpvQhL8B5n1qlb01jV3n/bI0ZfZp5lWA1k4w==",
      "dev": true,
      "dependencies": {
        "minipass": "^7.0.4"
      },
      "engines": {
        "node": ">=18.0.0"
      }
    },
    "node_modules/@istanbuljs/schema": {
      "version": "0.1.3",
      "resolved": "https://registry.npmjs.org/@istanbuljs/schema/-/schema-0.1.3.tgz",
      "integrity": "sha512-ZXRY4jNvVgSVQ8DL3LTcakaAtXwTVUxE81hslsyD2AtoXW/wVob10HkOJ1X/pAlcI7D+2YoZKg5do8G/w6RYgA==",
      "dev": true,
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/@jridgewell/gen-mapping": {
      "version": "0.3.13",
      "resolved": "https://registry.npmjs.org/@jridgewell/gen-mapping/-/gen-mapping-0.3.13.tgz",
      "integrity": "sha512-2kkt/7niJ6MgEPxF0bYdQ6etZaA+fQvDcLKckhy1yIQOzaoKjBBjSj63/aLVjYE3qhRt5dvM+uUyfCg6UKCBbA==",
      "dev": true,
      "dependencies": {
        "@jridgewell/sourcemap-codec": "^1.5.0",
        "@jridgewell/trace-mapping": "^0.3.24"
      }
    },
    "node_modules/@jridgewell/remapping": {
      "version": "2.3.5",
      "resolved": "https://registry.npmjs.org/@jridgewell/remapping/-/remapping-2.3.5.tgz",
      "integrity": "sha512-LI9u/+laYG4Ds1TDKSJW2YPrIlcVYOwi2fUC6xB43lueCjgxV4lffOCZCtYFiH6TNOX+tQKXx97T4IKHbhyHEQ==",
      "dev": true,
      "dependencies": {
        "@jridgewell/gen-mapping": "^0.3.5",
        "@jridgewell/trace-mapping": "^0.3.24"
      }
    },
    "node_modules/@jridgewell/resolve-uri": {
      "version": "3.1.2",
      "resolved": "https://registry.npmjs.org/@jridgewell/resolve-uri/-/resolve-uri-3.1.2.tgz",
      "integrity": "sha512-bRISgCIjP20/tbWSPWMEi54QVPRZExkuD9lJL+UIxUKtwVJA8wW1Trb1jMs1RFXo1CBTNZ/5hpC9QvmKWdopKw==",
      "dev": true,
      "engines": {
        "node": ">=6.0.0"
      }
    },
    "node_modules/@jridgewell/sourcemap-codec": {
      "version": "1.5.5",
      "resolved": "https://registry.npmjs.org/@jridgewell/sourcemap-codec/-/sourcemap-codec-1.5.5.tgz",
      "integrity": "sha512-cYQ9310grqxueWbl+WuIUIaiUaDcj7WOq5fVhEljNVgRfOUhY9fy2zTvfoqWsnebh8Sl70VScFbICvJnLKB0Og==",
      "dev": true
    },
    "node_modules/@jridgewell/trace-mapping": {
      "version": "0.3.30",
      "resolved": "https://registry.npmjs.org/@jridgewell/trace-mapping/-/trace-mapping-0.3.30.tgz",
      "integrity": "sha512-GQ7Nw5G2lTu/BtHTKfXhKHok2WGetd4XYcVKGx00SjAk8GMwgJM3zr6zORiPGuOE+/vkc90KtTosSSvaCjKb2Q==",
      "dev": true,
      "dependencies": {
        "@jridgewell/resolve-uri": "^3.1.0",
        "@jridgewell/sourcemap-codec": "^1.4.14"
      }
    },
    "node_modules/@napi-rs/wasm-runtime": {
      "version": "0.2.12",
      "resolved": "https://registry.npmjs.org/@napi-rs/wasm-runtime/-/wasm-runtime-0.2.12.tgz",
      "integrity": "sha512-ZVWUcfwY4E/yPitQJl481FjFo3K22D6qF0DuFH6Y/nbnE11GY5uguDxZMGXPQ8WQ0128MXQD7TnfHyK4oWoIJQ==",
      "dev": true,
      "optional": true,
      "dependencies": {
        "@emnapi/core": "^1.4.3",
        "@emnapi/runtime": "^1.4.3",
        "@tybys/wasm-util": "^0.10.0"
      }
    },
    "node_modules/@next/env": {
      "version": "15.4.6",
      "resolved": "https://registry.npmjs.org/@next/env/-/env-15.4.6.tgz",
      "integrity": "sha512-yHDKVTcHrZy/8TWhj0B23ylKv5ypocuCwey9ZqPyv4rPdUdRzpGCkSi03t04KBPyU96kxVtUqx6O3nE1kpxASQ=="
    },
    "node_modules/@next/eslint-plugin-next": {
      "version": "15.4.6",
      "resolved": "https://registry.npmjs.org/@next/eslint-plugin-next/-/eslint-plugin-next-15.4.6.tgz",
      "integrity": "sha512-2NOu3ln+BTcpnbIDuxx6MNq+pRrCyey4WSXGaJIyt0D2TYicHeO9QrUENNjcf673n3B1s7hsiV5xBYRCK1Q8kA==",
      "dev": true,
      "dependencies": {
        "fast-glob": "3.3.1"
      }
    },
    "node_modules/@next/swc-darwin-arm64": {
      "version": "15.4.6",
      "resolved": "https://registry.npmjs.org/@next/swc-darwin-arm64/-/swc-darwin-arm64-15.4.6.tgz",
      "integrity": "sha512-667R0RTP4DwxzmrqTs4Lr5dcEda9OxuZsVFsjVtxVMVhzSpo6nLclXejJVfQo2/g7/Z9qF3ETDmN3h65mTjpTQ==",
      "cpu": [
        "arm64"
      ],
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@next/swc-darwin-x64": {
      "version": "15.4.6",
      "resolved": "https://registry.npmjs.org/@next/swc-darwin-x64/-/swc-darwin-x64-15.4.6.tgz",
      "integrity": "sha512-KMSFoistFkaiQYVQQnaU9MPWtp/3m0kn2Xed1Ces5ll+ag1+rlac20sxG+MqhH2qYWX1O2GFOATQXEyxKiIscg==",
      "cpu": [
        "x64"
      ],
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@next/swc-linux-arm64-gnu": {
      "version": "15.4.6",
      "resolved": "https://registry.npmjs.org/@next/swc-linux-arm64-gnu/-/swc-linux-arm64-gnu-15.4.6.tgz",
      "integrity": "sha512-PnOx1YdO0W7m/HWFeYd2A6JtBO8O8Eb9h6nfJia2Dw1sRHoHpNf6lN1U4GKFRzRDBi9Nq2GrHk9PF3Vmwf7XVw==",
      "cpu": [
        "arm64"
      ],
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@next/swc-linux-arm64-musl": {
      "version": "15.4.6",
      "resolved": "https://registry.npmjs.org/@next/swc-linux-arm64-musl/-/swc-linux-arm64-musl-15.4.6.tgz",
      "integrity": "sha512-XBbuQddtY1p5FGPc2naMO0kqs4YYtLYK/8aPausI5lyOjr4J77KTG9mtlU4P3NwkLI1+OjsPzKVvSJdMs3cFaw==",
      "cpu": [
        "arm64"
      ],
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@next/swc-linux-x64-gnu": {
      "version": "15.4.6",
      "resolved": "https://registry.npmjs.org/@next/swc-linux-x64-gnu/-/swc-linux-x64-gnu-15.4.6.tgz",
      "integrity": "sha512-+WTeK7Qdw82ez3U9JgD+igBAP75gqZ1vbK6R8PlEEuY0OIe5FuYXA4aTjL811kWPf7hNeslD4hHK2WoM9W0IgA==",
      "cpu": [
        "x64"
      ],
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@next/swc-linux-x64-musl": {
      "version": "15.4.6",
      "resolved": "https://registry.npmjs.org/@next/swc-linux-x64-musl/-/swc-linux-x64-musl-15.4.6.tgz",
      "integrity": "sha512-XP824mCbgQsK20jlXKrUpZoh/iO3vUWhMpxCz8oYeagoiZ4V0TQiKy0ASji1KK6IAe3DYGfj5RfKP6+L2020OQ==",
      "cpu": [
        "x64"
      ],
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@next/swc-win32-arm64-msvc": {
      "version": "15.4.6",
      "resolved": "https://registry.npmjs.org/@next/swc-win32-arm64-msvc/-/swc-win32-arm64-msvc-15.4.6.tgz",
      "integrity": "sha512-FxrsenhUz0LbgRkNWx6FRRJIPe/MI1JRA4W4EPd5leXO00AZ6YU8v5vfx4MDXTvN77lM/EqsE3+6d2CIeF5NYg==",
      "cpu": [
        "arm64"
      ],
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@next/swc-win32-x64-msvc": {
      "version": "15.4.6",
      "resolved": "https://registry.npmjs.org/@next/swc-win32-x64-msvc/-/swc-win32-x64-msvc-15.4.6.tgz",
      "integrity": "sha512-T4ufqnZ4u88ZheczkBTtOF+eKaM14V8kbjud/XrAakoM5DKQWjW09vD6B9fsdsWS2T7D5EY31hRHdta7QKWOng==",
      "cpu": [
        "x64"
      ],
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@nodelib/fs.scandir": {
      "version": "2.1.5",
      "resolved": "https://registry.npmjs.org/@nodelib/fs.scandir/-/fs.scandir-2.1.5.tgz",
      "integrity": "sha512-vq24Bq3ym5HEQm2NKCr3yXDwjc7vTsEThRDnkp2DK9p1uqLR+DHurm/NOTo0KG7HYHU7eppKZj3MyqYuMBf62g==",
      "dev": true,
      "dependencies": {
        "@nodelib/fs.stat": "2.0.5",
        "run-parallel": "^1.1.9"
      },
      "engines": {
        "node": ">= 8"
      }
    },
    "node_modules/@nodelib/fs.stat": {
      "version": "2.0.5",
      "resolved": "https://registry.npmjs.org/@nodelib/fs.stat/-/fs.stat-2.0.5.tgz",
      "integrity": "sha512-RkhPPp2zrqDAQA/2jNhnztcPAlv64XdhIp7a7454A5ovI7Bukxgt7MX7udwAu3zg1DcpPU0rz3VV1SeaqvY4+A==",
      "dev": true,
      "engines": {
        "node": ">= 8"
      }
    },
    "node_modules/@nodelib/fs.walk": {
      "version": "1.2.8",
      "resolved": "https://registry.npmjs.org/@nodelib/fs.walk/-/fs.walk-1.2.8.tgz",
      "integrity": "sha512-oGB+UxlgWcgQkgwo8GcEGwemoTFt3FIO9ababBmaGwXIoBKZ+GTy0pP185beGg7Llih/NSHSV2XAs1lnznocSg==",
      "dev": true,
      "dependencies": {
        "@nodelib/fs.scandir": "2.1.5",
        "fastq": "^1.6.0"
      },
      "engines": {
        "node": ">= 8"
      }
    },
    "node_modules/@nolyfill/is-core-module": {
      "version": "1.0.39",
      "resolved": "https://registry.npmjs.org/@nolyfill/is-core-module/-/is-core-module-1.0.39.tgz",
      "integrity": "sha512-nn5ozdjYQpUCZlWGuxcJY/KpxkWQs4DcbMCmKojjyrYDEAGy4Ce19NN4v5MduafTwJlbKc99UA8YhSVqq9yPZA==",
      "dev": true,
      "engines": {
        "node": ">=12.4.0"
      }
    },
    "node_modules/@pkgjs/parseargs": {
      "version": "0.11.0",
      "resolved": "https://registry.npmjs.org/@pkgjs/parseargs/-/parseargs-0.11.0.tgz",
      "integrity": "sha512-+1VkjdD0QBLPodGrJUeqarH8VAIvQODIbwh9XpP5Syisf7YoQgsJKPNFoqqLQlu+VQ/tVSshMR6loPMn8U+dPg==",
      "dev": true,
      "optional": true,
      "engines": {
        "node": ">=14"
      }
    },
    "node_modules/@radix-ui/number": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/@radix-ui/number/-/number-1.1.1.tgz",
      "integrity": "sha512-MkKCwxlXTgz6CFoJx3pCwn07GKp36+aZyu/u2Ln2VrA5DcdyCZkASEDBTd8x5whTQQL5CiYf4prXKLcgQdv29g=="
    },
    "node_modules/@radix-ui/primitive": {
      "version": "1.1.3",
      "resolved": "https://registry.npmjs.org/@radix-ui/primitive/-/primitive-1.1.3.tgz",
      "integrity": "sha512-JTF99U/6XIjCBo0wqkU5sK10glYe27MRRsfwoiq5zzOEZLHU3A3KCMa5X/azekYRCJ0HlwI0crAXS/5dEHTzDg=="
    },
    "node_modules/@radix-ui/react-alert-dialog": {
      "version": "1.1.15",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-alert-dialog/-/react-alert-dialog-1.1.15.tgz",
      "integrity": "sha512-oTVLkEw5GpdRe29BqJ0LSDFWI3qu0vR1M0mUkOQWDIUnY/QIkLpgDMWuKxP94c2NAC2LGcgVhG1ImF3jkZ5wXw==",
      "dependencies": {
        "@radix-ui/primitive": "1.1.3",
        "@radix-ui/react-compose-refs": "1.1.2",
        "@radix-ui/react-context": "1.1.2",
        "@radix-ui/react-dialog": "1.1.15",
        "@radix-ui/react-primitive": "2.1.3",
        "@radix-ui/react-slot": "1.2.3"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-arrow": {
      "version": "1.1.7",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-arrow/-/react-arrow-1.1.7.tgz",
      "integrity": "sha512-F+M1tLhO+mlQaOWspE8Wstg+z6PwxwRd8oQ8IXceWz92kfAmalTRf0EjrouQeo7QssEPfCn05B4Ihs1K9WQ/7w==",
      "dependencies": {
        "@radix-ui/react-primitive": "2.1.3"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-checkbox": {
      "version": "1.3.3",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-checkbox/-/react-checkbox-1.3.3.tgz",
      "integrity": "sha512-wBbpv+NQftHDdG86Qc0pIyXk5IR3tM8Vd0nWLKDcX8nNn4nXFOFwsKuqw2okA/1D/mpaAkmuyndrPJTYDNZtFw==",
      "dependencies": {
        "@radix-ui/primitive": "1.1.3",
        "@radix-ui/react-compose-refs": "1.1.2",
        "@radix-ui/react-context": "1.1.2",
        "@radix-ui/react-presence": "1.1.5",
        "@radix-ui/react-primitive": "2.1.3",
        "@radix-ui/react-use-controllable-state": "1.2.2",
        "@radix-ui/react-use-previous": "1.1.1",
        "@radix-ui/react-use-size": "1.1.1"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-collection": {
      "version": "1.1.7",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-collection/-/react-collection-1.1.7.tgz",
      "integrity": "sha512-Fh9rGN0MoI4ZFUNyfFVNU4y9LUz93u9/0K+yLgA2bwRojxM8JU1DyvvMBabnZPBgMWREAJvU2jjVzq+LrFUglw==",
      "dependencies": {
        "@radix-ui/react-compose-refs": "1.1.2",
        "@radix-ui/react-context": "1.1.2",
        "@radix-ui/react-primitive": "2.1.3",
        "@radix-ui/react-slot": "1.2.3"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-compose-refs": {
      "version": "1.1.2",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-compose-refs/-/react-compose-refs-1.1.2.tgz",
      "integrity": "sha512-z4eqJvfiNnFMHIIvXP3CY57y2WJs5g2v3X0zm9mEJkrkNv4rDxu+sg9Jh8EkXyeqBkB7SOcboo9dMVqhyrACIg==",
      "peerDependencies": {
        "@types/react": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-context": {
      "version": "1.1.2",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-context/-/react-context-1.1.2.tgz",
      "integrity": "sha512-jCi/QKUM2r1Ju5a3J64TH2A5SpKAgh0LpknyqdQ4m6DCV0xJ2HG1xARRwNGPQfi1SLdLWZ1OJz6F4OMBBNiGJA==",
      "peerDependencies": {
        "@types/react": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-dialog": {
      "version": "1.1.15",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-dialog/-/react-dialog-1.1.15.tgz",
      "integrity": "sha512-TCglVRtzlffRNxRMEyR36DGBLJpeusFcgMVD9PZEzAKnUs1lKCgX5u9BmC2Yg+LL9MgZDugFFs1Vl+Jp4t/PGw==",
      "dependencies": {
        "@radix-ui/primitive": "1.1.3",
        "@radix-ui/react-compose-refs": "1.1.2",
        "@radix-ui/react-context": "1.1.2",
        "@radix-ui/react-dismissable-layer": "1.1.11",
        "@radix-ui/react-focus-guards": "1.1.3",
        "@radix-ui/react-focus-scope": "1.1.7",
        "@radix-ui/react-id": "1.1.1",
        "@radix-ui/react-portal": "1.1.9",
        "@radix-ui/react-presence": "1.1.5",
        "@radix-ui/react-primitive": "2.1.3",
        "@radix-ui/react-slot": "1.2.3",
        "@radix-ui/react-use-controllable-state": "1.2.2",
        "aria-hidden": "^1.2.4",
        "react-remove-scroll": "^2.6.3"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-direction": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-direction/-/react-direction-1.1.1.tgz",
      "integrity": "sha512-1UEWRX6jnOA2y4H5WczZ44gOOjTEmlqv1uNW4GAJEO5+bauCBhv8snY65Iw5/VOS/ghKN9gr2KjnLKxrsvoMVw==",
      "peerDependencies": {
        "@types/react": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-dismissable-layer": {
      "version": "1.1.11",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-dismissable-layer/-/react-dismissable-layer-1.1.11.tgz",
      "integrity": "sha512-Nqcp+t5cTB8BinFkZgXiMJniQH0PsUt2k51FUhbdfeKvc4ACcG2uQniY/8+h1Yv6Kza4Q7lD7PQV0z0oicE0Mg==",
      "dependencies": {
        "@radix-ui/primitive": "1.1.3",
        "@radix-ui/react-compose-refs": "1.1.2",
        "@radix-ui/react-primitive": "2.1.3",
        "@radix-ui/react-use-callback-ref": "1.1.1",
        "@radix-ui/react-use-escape-keydown": "1.1.1"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-dropdown-menu": {
      "version": "2.1.16",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-dropdown-menu/-/react-dropdown-menu-2.1.16.tgz",
      "integrity": "sha512-1PLGQEynI/3OX/ftV54COn+3Sud/Mn8vALg2rWnBLnRaGtJDduNW/22XjlGgPdpcIbiQxjKtb7BkcjP00nqfJw==",
      "dependencies": {
        "@radix-ui/primitive": "1.1.3",
        "@radix-ui/react-compose-refs": "1.1.2",
        "@radix-ui/react-context": "1.1.2",
        "@radix-ui/react-id": "1.1.1",
        "@radix-ui/react-menu": "2.1.16",
        "@radix-ui/react-primitive": "2.1.3",
        "@radix-ui/react-use-controllable-state": "1.2.2"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-focus-guards": {
      "version": "1.1.3",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-focus-guards/-/react-focus-guards-1.1.3.tgz",
      "integrity": "sha512-0rFg/Rj2Q62NCm62jZw0QX7a3sz6QCQU0LpZdNrJX8byRGaGVTqbrW9jAoIAHyMQqsNpeZ81YgSizOt5WXq0Pw==",
      "peerDependencies": {
        "@types/react": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-focus-scope": {
      "version": "1.1.7",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-focus-scope/-/react-focus-scope-1.1.7.tgz",
      "integrity": "sha512-t2ODlkXBQyn7jkl6TNaw/MtVEVvIGelJDCG41Okq/KwUsJBwQ4XVZsHAVUkK4mBv3ewiAS3PGuUWuY2BoK4ZUw==",
      "dependencies": {
        "@radix-ui/react-compose-refs": "1.1.2",
        "@radix-ui/react-primitive": "2.1.3",
        "@radix-ui/react-use-callback-ref": "1.1.1"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-id": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-id/-/react-id-1.1.1.tgz",
      "integrity": "sha512-kGkGegYIdQsOb4XjsfM97rXsiHaBwco+hFI66oO4s9LU+PLAC5oJ7khdOVFxkhsmlbpUqDAvXw11CluXP+jkHg==",
      "dependencies": {
        "@radix-ui/react-use-layout-effect": "1.1.1"
      },
      "peerDependencies": {
        "@types/react": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-label": {
      "version": "2.1.7",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-label/-/react-label-2.1.7.tgz",
      "integrity": "sha512-YT1GqPSL8kJn20djelMX7/cTRp/Y9w5IZHvfxQTVHrOqa2yMl7i/UfMqKRU5V7mEyKTrUVgJXhNQPVCG8PBLoQ==",
      "dependencies": {
        "@radix-ui/react-primitive": "2.1.3"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-menu": {
      "version": "2.1.16",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-menu/-/react-menu-2.1.16.tgz",
      "integrity": "sha512-72F2T+PLlphrqLcAotYPp0uJMr5SjP5SL01wfEspJbru5Zs5vQaSHb4VB3ZMJPimgHHCHG7gMOeOB9H3Hdmtxg==",
      "dependencies": {
        "@radix-ui/primitive": "1.1.3",
        "@radix-ui/react-collection": "1.1.7",
        "@radix-ui/react-compose-refs": "1.1.2",
        "@radix-ui/react-context": "1.1.2",
        "@radix-ui/react-direction": "1.1.1",
        "@radix-ui/react-dismissable-layer": "1.1.11",
        "@radix-ui/react-focus-guards": "1.1.3",
        "@radix-ui/react-focus-scope": "1.1.7",
        "@radix-ui/react-id": "1.1.1",
        "@radix-ui/react-popper": "1.2.8",
        "@radix-ui/react-portal": "1.1.9",
        "@radix-ui/react-presence": "1.1.5",
        "@radix-ui/react-primitive": "2.1.3",
        "@radix-ui/react-roving-focus": "1.1.11",
        "@radix-ui/react-slot": "1.2.3",
        "@radix-ui/react-use-callback-ref": "1.1.1",
        "aria-hidden": "^1.2.4",
        "react-remove-scroll": "^2.6.3"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-popper": {
      "version": "1.2.8",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-popper/-/react-popper-1.2.8.tgz",
      "integrity": "sha512-0NJQ4LFFUuWkE7Oxf0htBKS6zLkkjBH+hM1uk7Ng705ReR8m/uelduy1DBo0PyBXPKVnBA6YBlU94MBGXrSBCw==",
      "dependencies": {
        "@floating-ui/react-dom": "^2.0.0",
        "@radix-ui/react-arrow": "1.1.7",
        "@radix-ui/react-compose-refs": "1.1.2",
        "@radix-ui/react-context": "1.1.2",
        "@radix-ui/react-primitive": "2.1.3",
        "@radix-ui/react-use-callback-ref": "1.1.1",
        "@radix-ui/react-use-layout-effect": "1.1.1",
        "@radix-ui/react-use-rect": "1.1.1",
        "@radix-ui/react-use-size": "1.1.1",
        "@radix-ui/rect": "1.1.1"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-portal": {
      "version": "1.1.9",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-portal/-/react-portal-1.1.9.tgz",
      "integrity": "sha512-bpIxvq03if6UNwXZ+HTK71JLh4APvnXntDc6XOX8UVq4XQOVl7lwok0AvIl+b8zgCw3fSaVTZMpAPPagXbKmHQ==",
      "dependencies": {
        "@radix-ui/react-primitive": "2.1.3",
        "@radix-ui/react-use-layout-effect": "1.1.1"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-presence": {
      "version": "1.1.5",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-presence/-/react-presence-1.1.5.tgz",
      "integrity": "sha512-/jfEwNDdQVBCNvjkGit4h6pMOzq8bHkopq458dPt2lMjx+eBQUohZNG9A7DtO/O5ukSbxuaNGXMjHicgwy6rQQ==",
      "dependencies": {
        "@radix-ui/react-compose-refs": "1.1.2",
        "@radix-ui/react-use-layout-effect": "1.1.1"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-primitive": {
      "version": "2.1.3",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-primitive/-/react-primitive-2.1.3.tgz",
      "integrity": "sha512-m9gTwRkhy2lvCPe6QJp4d3G1TYEUHn/FzJUtq9MjH46an1wJU+GdoGC5VLof8RX8Ft/DlpshApkhswDLZzHIcQ==",
      "dependencies": {
        "@radix-ui/react-slot": "1.2.3"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-roving-focus": {
      "version": "1.1.11",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-roving-focus/-/react-roving-focus-1.1.11.tgz",
      "integrity": "sha512-7A6S9jSgm/S+7MdtNDSb+IU859vQqJ/QAtcYQcfFC6W8RS4IxIZDldLR0xqCFZ6DCyrQLjLPsxtTNch5jVA4lA==",
      "dependencies": {
        "@radix-ui/primitive": "1.1.3",
        "@radix-ui/react-collection": "1.1.7",
        "@radix-ui/react-compose-refs": "1.1.2",
        "@radix-ui/react-context": "1.1.2",
        "@radix-ui/react-direction": "1.1.1",
        "@radix-ui/react-id": "1.1.1",
        "@radix-ui/react-primitive": "2.1.3",
        "@radix-ui/react-use-callback-ref": "1.1.1",
        "@radix-ui/react-use-controllable-state": "1.2.2"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-scroll-area": {
      "version": "1.2.10",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-scroll-area/-/react-scroll-area-1.2.10.tgz",
      "integrity": "sha512-tAXIa1g3sM5CGpVT0uIbUx/U3Gs5N8T52IICuCtObaos1S8fzsrPXG5WObkQN3S6NVl6wKgPhAIiBGbWnvc97A==",
      "dependencies": {
        "@radix-ui/number": "1.1.1",
        "@radix-ui/primitive": "1.1.3",
        "@radix-ui/react-compose-refs": "1.1.2",
        "@radix-ui/react-context": "1.1.2",
        "@radix-ui/react-direction": "1.1.1",
        "@radix-ui/react-presence": "1.1.5",
        "@radix-ui/react-primitive": "2.1.3",
        "@radix-ui/react-use-callback-ref": "1.1.1",
        "@radix-ui/react-use-layout-effect": "1.1.1"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-separator": {
      "version": "1.1.7",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-separator/-/react-separator-1.1.7.tgz",
      "integrity": "sha512-0HEb8R9E8A+jZjvmFCy/J4xhbXy3TV+9XSnGJ3KvTtjlIUy/YQ/p6UYZvi7YbeoeXdyU9+Y3scizK6hkY37baA==",
      "dependencies": {
        "@radix-ui/react-primitive": "2.1.3"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-slot": {
      "version": "1.2.3",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-slot/-/react-slot-1.2.3.tgz",
      "integrity": "sha512-aeNmHnBxbi2St0au6VBVC7JXFlhLlOnvIIlePNniyUNAClzmtAUEY8/pBiK3iHjufOlwA+c20/8jngo7xcrg8A==",
      "dependencies": {
        "@radix-ui/react-compose-refs": "1.1.2"
      },
      "peerDependencies": {
        "@types/react": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-tabs": {
      "version": "1.1.13",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-tabs/-/react-tabs-1.1.13.tgz",
      "integrity": "sha512-7xdcatg7/U+7+Udyoj2zodtI9H/IIopqo+YOIcZOq1nJwXWBZ9p8xiu5llXlekDbZkca79a/fozEYQXIA4sW6A==",
      "dependencies": {
        "@radix-ui/primitive": "1.1.3",
        "@radix-ui/react-context": "1.1.2",
        "@radix-ui/react-direction": "1.1.1",
        "@radix-ui/react-id": "1.1.1",
        "@radix-ui/react-presence": "1.1.5",
        "@radix-ui/react-primitive": "2.1.3",
        "@radix-ui/react-roving-focus": "1.1.11",
        "@radix-ui/react-use-controllable-state": "1.2.2"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-tooltip": {
      "version": "1.2.8",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-tooltip/-/react-tooltip-1.2.8.tgz",
      "integrity": "sha512-tY7sVt1yL9ozIxvmbtN5qtmH2krXcBCfjEiCgKGLqunJHvgvZG2Pcl2oQ3kbcZARb1BGEHdkLzcYGO8ynVlieg==",
      "dependencies": {
        "@radix-ui/primitive": "1.1.3",
        "@radix-ui/react-compose-refs": "1.1.2",
        "@radix-ui/react-context": "1.1.2",
        "@radix-ui/react-dismissable-layer": "1.1.11",
        "@radix-ui/react-id": "1.1.1",
        "@radix-ui/react-popper": "1.2.8",
        "@radix-ui/react-portal": "1.1.9",
        "@radix-ui/react-presence": "1.1.5",
        "@radix-ui/react-primitive": "2.1.3",
        "@radix-ui/react-slot": "1.2.3",
        "@radix-ui/react-use-controllable-state": "1.2.2",
        "@radix-ui/react-visually-hidden": "1.2.3"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-use-callback-ref": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-use-callback-ref/-/react-use-callback-ref-1.1.1.tgz",
      "integrity": "sha512-FkBMwD+qbGQeMu1cOHnuGB6x4yzPjho8ap5WtbEJ26umhgqVXbhekKUQO+hZEL1vU92a3wHwdp0HAcqAUF5iDg==",
      "peerDependencies": {
        "@types/react": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-use-controllable-state": {
      "version": "1.2.2",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-use-controllable-state/-/react-use-controllable-state-1.2.2.tgz",
      "integrity": "sha512-BjasUjixPFdS+NKkypcyyN5Pmg83Olst0+c6vGov0diwTEo6mgdqVR6hxcEgFuh4QrAs7Rc+9KuGJ9TVCj0Zzg==",
      "dependencies": {
        "@radix-ui/react-use-effect-event": "0.0.2",
        "@radix-ui/react-use-layout-effect": "1.1.1"
      },
      "peerDependencies": {
        "@types/react": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-use-effect-event": {
      "version": "0.0.2",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-use-effect-event/-/react-use-effect-event-0.0.2.tgz",
      "integrity": "sha512-Qp8WbZOBe+blgpuUT+lw2xheLP8q0oatc9UpmiemEICxGvFLYmHm9QowVZGHtJlGbS6A6yJ3iViad/2cVjnOiA==",
      "dependencies": {
        "@radix-ui/react-use-layout-effect": "1.1.1"
      },
      "peerDependencies": {
        "@types/react": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-use-escape-keydown": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-use-escape-keydown/-/react-use-escape-keydown-1.1.1.tgz",
      "integrity": "sha512-Il0+boE7w/XebUHyBjroE+DbByORGR9KKmITzbR7MyQ4akpORYP/ZmbhAr0DG7RmmBqoOnZdy2QlvajJ2QA59g==",
      "dependencies": {
        "@radix-ui/react-use-callback-ref": "1.1.1"
      },
      "peerDependencies": {
        "@types/react": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-use-layout-effect": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-use-layout-effect/-/react-use-layout-effect-1.1.1.tgz",
      "integrity": "sha512-RbJRS4UWQFkzHTTwVymMTUv8EqYhOp8dOOviLj2ugtTiXRaRQS7GLGxZTLL1jWhMeoSCf5zmcZkqTl9IiYfXcQ==",
      "peerDependencies": {
        "@types/react": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-use-previous": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-use-previous/-/react-use-previous-1.1.1.tgz",
      "integrity": "sha512-2dHfToCj/pzca2Ck724OZ5L0EVrr3eHRNsG/b3xQJLA2hZpVCS99bLAX+hm1IHXDEnzU6by5z/5MIY794/a8NQ==",
      "peerDependencies": {
        "@types/react": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-use-rect": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-use-rect/-/react-use-rect-1.1.1.tgz",
      "integrity": "sha512-QTYuDesS0VtuHNNvMh+CjlKJ4LJickCMUAqjlE3+j8w+RlRpwyX3apEQKGFzbZGdo7XNG1tXa+bQqIE7HIXT2w==",
      "dependencies": {
        "@radix-ui/rect": "1.1.1"
      },
      "peerDependencies": {
        "@types/react": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-use-size": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-use-size/-/react-use-size-1.1.1.tgz",
      "integrity": "sha512-ewrXRDTAqAXlkl6t/fkXWNAhFX9I+CkKlw6zjEwk86RSPKwZr3xpBRso655aqYafwtnbpHLj6toFzmd6xdVptQ==",
      "dependencies": {
        "@radix-ui/react-use-layout-effect": "1.1.1"
      },
      "peerDependencies": {
        "@types/react": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-visually-hidden": {
      "version": "1.2.3",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-visually-hidden/-/react-visually-hidden-1.2.3.tgz",
      "integrity": "sha512-pzJq12tEaaIhqjbzpCuv/OypJY/BPavOofm+dbab+MHLajy277+1lLm6JFcGgF5eskJ6mquGirhXY2GD/8u8Ug==",
      "dependencies": {
        "@radix-ui/react-primitive": "2.1.3"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/rect": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/@radix-ui/rect/-/rect-1.1.1.tgz",
      "integrity": "sha512-HPwpGIzkl28mWyZqG52jiqDJ12waP11Pa1lGoiyUkIEuMLBP0oeK/C89esbXrxsky5we7dfd8U58nm0SgAWpVw=="
    },
    "node_modules/@rollup/rollup-android-arm-eabi": {
      "version": "4.46.4",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-android-arm-eabi/-/rollup-android-arm-eabi-4.46.4.tgz",
      "integrity": "sha512-B2wfzCJ+ps/OBzRjeds7DlJumCU3rXMxJJS1vzURyj7+KBHGONm7c9q1TfdBl4vCuNMkDvARn3PBl2wZzuR5mw==",
      "cpu": [
        "arm"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "android"
      ]
    },
    "node_modules/@rollup/rollup-android-arm64": {
      "version": "4.46.4",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-android-arm64/-/rollup-android-arm64-4.46.4.tgz",
      "integrity": "sha512-FGJYXvYdn8Bs6lAlBZYT5n+4x0ciEp4cmttsvKAZc/c8/JiPaQK8u0c/86vKX8lA7OY/+37lIQSe0YoAImvBAA==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "android"
      ]
    },
    "node_modules/@rollup/rollup-darwin-arm64": {
      "version": "4.46.4",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-darwin-arm64/-/rollup-darwin-arm64-4.46.4.tgz",
      "integrity": "sha512-/9qwE/BM7ATw/W/OFEMTm3dmywbJyLQb4f4v5nmOjgYxPIGpw7HaxRi6LnD4Pjn/q7k55FGeHe1/OD02w63apA==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "darwin"
      ]
    },
    "node_modules/@rollup/rollup-darwin-x64": {
      "version": "4.46.4",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-darwin-x64/-/rollup-darwin-x64-4.46.4.tgz",
      "integrity": "sha512-QkWfNbeRuzFnv2d0aPlrzcA3Ebq2mE8kX/5Pl7VdRShbPBjSnom7dbT8E3Jmhxo2RL784hyqGvR5KHavCJQciw==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "darwin"
      ]
    },
    "node_modules/@rollup/rollup-freebsd-arm64": {
      "version": "4.46.4",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-freebsd-arm64/-/rollup-freebsd-arm64-4.46.4.tgz",
      "integrity": "sha512-+ToyOMYnSfV8D+ckxO6NthPln/PDNp1P6INcNypfZ7muLmEvPKXqduUiD8DlJpMMT8LxHcE5W0dK9kXfJke9Zw==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "freebsd"
      ]
    },
    "node_modules/@rollup/rollup-freebsd-x64": {
      "version": "4.46.4",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-freebsd-x64/-/rollup-freebsd-x64-4.46.4.tgz",
      "integrity": "sha512-cGT6ey/W+sje6zywbLiqmkfkO210FgRz7tepWAzzEVgQU8Hn91JJmQWNqs55IuglG8sJdzk7XfNgmGRtcYlo1w==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "freebsd"
      ]
    },
    "node_modules/@rollup/rollup-linux-arm-gnueabihf": {
      "version": "4.46.4",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-arm-gnueabihf/-/rollup-linux-arm-gnueabihf-4.46.4.tgz",
      "integrity": "sha512-9fhTJyOb275w5RofPSl8lpr4jFowd+H4oQKJ9XTYzD1JWgxdZKE8bA6d4npuiMemkecQOcigX01FNZNCYnQBdA==",
      "cpu": [
        "arm"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-linux-arm-musleabihf": {
      "version": "4.46.4",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-arm-musleabihf/-/rollup-linux-arm-musleabihf-4.46.4.tgz",
      "integrity": "sha512-+6kCIM5Zjvz2HwPl/udgVs07tPMIp1VU2Y0c72ezjOvSvEfAIWsUgpcSDvnC7g9NrjYR6X9bZT92mZZ90TfvXw==",
      "cpu": [
        "arm"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-linux-arm64-gnu": {
      "version": "4.46.4",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-arm64-gnu/-/rollup-linux-arm64-gnu-4.46.4.tgz",
      "integrity": "sha512-SWuXdnsayCZL4lXoo6jn0yyAj7TTjWE4NwDVt9s7cmu6poMhtiras5c8h6Ih6Y0Zk6Z+8t/mLumvpdSPTWub2Q==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-linux-arm64-musl": {
      "version": "4.46.4",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-arm64-musl/-/rollup-linux-arm64-musl-4.46.4.tgz",
      "integrity": "sha512-vDknMDqtMhrrroa5kyX6tuC0aRZZlQ+ipDfbXd2YGz5HeV2t8HOl/FDAd2ynhs7Ki5VooWiiZcCtxiZ4IjqZwQ==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-linux-loongarch64-gnu": {
      "version": "4.46.4",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-loongarch64-gnu/-/rollup-linux-loongarch64-gnu-4.46.4.tgz",
      "integrity": "sha512-mCBkjRZWhvjtl/x+Bd4fQkWZT8canStKDxGrHlBiTnZmJnWygGcvBylzLVCZXka4dco5ymkWhZlLwKCGFF4ivw==",
      "cpu": [
        "loong64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-linux-ppc64-gnu": {
      "version": "4.46.4",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-ppc64-gnu/-/rollup-linux-ppc64-gnu-4.46.4.tgz",
      "integrity": "sha512-YMdz2phOTFF+Z66dQfGf0gmeDSi5DJzY5bpZyeg9CPBkV9QDzJ1yFRlmi/j7WWRf3hYIWrOaJj5jsfwgc8GTHQ==",
      "cpu": [
        "ppc64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-linux-riscv64-gnu": {
      "version": "4.46.4",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-riscv64-gnu/-/rollup-linux-riscv64-gnu-4.46.4.tgz",
      "integrity": "sha512-r0WKLSfFAK8ucG024v2yiLSJMedoWvk8yWqfNICX28NHDGeu3F/wBf8KG6mclghx4FsLePxJr/9N8rIj1PtCnw==",
      "cpu": [
        "riscv64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-linux-riscv64-musl": {
      "version": "4.46.4",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-riscv64-musl/-/rollup-linux-riscv64-musl-4.46.4.tgz",
      "integrity": "sha512-IaizpPP2UQU3MNyPH1u0Xxbm73D+4OupL0bjo4Hm0496e2wg3zuvoAIhubkD1NGy9fXILEExPQy87mweujEatA==",
      "cpu": [
        "riscv64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-linux-s390x-gnu": {
      "version": "4.46.4",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-s390x-gnu/-/rollup-linux-s390x-gnu-4.46.4.tgz",
      "integrity": "sha512-aCM29orANR0a8wk896p6UEgIfupReupnmISz6SUwMIwTGaTI8MuKdE0OD2LvEg8ondDyZdMvnaN3bW4nFbATPA==",
      "cpu": [
        "s390x"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-linux-x64-gnu": {
      "version": "4.46.4",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-x64-gnu/-/rollup-linux-x64-gnu-4.46.4.tgz",
      "integrity": "sha512-0Xj1vZE3cbr/wda8d/m+UeuSL+TDpuozzdD4QaSzu/xSOMK0Su5RhIkF7KVHFQsobemUNHPLEcYllL7ZTCP/Cg==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-linux-x64-musl": {
      "version": "4.46.4",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-x64-musl/-/rollup-linux-x64-musl-4.46.4.tgz",
      "integrity": "sha512-kM/orjpolfA5yxsx84kI6bnK47AAZuWxglGKcNmokw2yy9i5eHY5UAjcX45jemTJnfHAWo3/hOoRqEeeTdL5hw==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-win32-arm64-msvc": {
      "version": "4.46.4",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-win32-arm64-msvc/-/rollup-win32-arm64-msvc-4.46.4.tgz",
      "integrity": "sha512-cNLH4psMEsWKILW0isbpQA2OvjXLbKvnkcJFmqAptPQbtLrobiapBJVj6RoIvg6UXVp5w0wnIfd/Q56cNpF+Ew==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "win32"
      ]
    },
    "node_modules/@rollup/rollup-win32-ia32-msvc": {
      "version": "4.46.4",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-win32-ia32-msvc/-/rollup-win32-ia32-msvc-4.46.4.tgz",
      "integrity": "sha512-OiEa5lRhiANpv4SfwYVgQ3opYWi/QmPDC5ve21m8G9pf6ZO+aX1g2EEF1/IFaM1xPSP7mK0msTRXlPs6mIagkg==",
      "cpu": [
        "ia32"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "win32"
      ]
    },
    "node_modules/@rollup/rollup-win32-x64-msvc": {
      "version": "4.46.4",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-win32-x64-msvc/-/rollup-win32-x64-msvc-4.46.4.tgz",
      "integrity": "sha512-IKL9mewGZ5UuuX4NQlwOmxPyqielvkAPUS2s1cl6yWjjQvyN3h5JTdVFGD5Jr5xMjRC8setOfGQDVgX8V+dkjg==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "win32"
      ]
    },
    "node_modules/@rtsao/scc": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/@rtsao/scc/-/scc-1.1.0.tgz",
      "integrity": "sha512-zt6OdqaDoOnJ1ZYsCYGt9YmWzDXl4vQdKTyJev62gFhRGKdx7mcT54V9KIjg+d2wi9EXsPvAPKe7i7WjfVWB8g==",
      "dev": true
    },
    "node_modules/@rushstack/eslint-patch": {
      "version": "1.12.0",
      "resolved": "https://registry.npmjs.org/@rushstack/eslint-patch/-/eslint-patch-1.12.0.tgz",
      "integrity": "sha512-5EwMtOqvJMMa3HbmxLlF74e+3/HhwBTMcvt3nqVJgGCozO6hzIPOBlwm8mGVNR9SN2IJpxSnlxczyDjcn7qIyw==",
      "dev": true
    },
    "node_modules/@swc/helpers": {
      "version": "0.5.15",
      "resolved": "https://registry.npmjs.org/@swc/helpers/-/helpers-0.5.15.tgz",
      "integrity": "sha512-JQ5TuMi45Owi4/BIMAJBoSQoOJu12oOk/gADqlcUL9JEdHB8vyjUSsxqeNXnmXHjYKMi2WcYtezGEEhqUI/E2g==",
      "dependencies": {
        "tslib": "^2.8.0"
      }
    },
    "node_modules/@tailwindcss/node": {
      "version": "4.1.12",
      "resolved": "https://registry.npmjs.org/@tailwindcss/node/-/node-4.1.12.tgz",
      "integrity": "sha512-3hm9brwvQkZFe++SBt+oLjo4OLDtkvlE8q2WalaD/7QWaeM7KEJbAiY/LJZUaCs7Xa8aUu4xy3uoyX4q54UVdQ==",
      "dev": true,
      "dependencies": {
        "@jridgewell/remapping": "^2.3.4",
        "enhanced-resolve": "^5.18.3",
        "jiti": "^2.5.1",
        "lightningcss": "1.30.1",
        "magic-string": "^0.30.17",
        "source-map-js": "^1.2.1",
        "tailwindcss": "4.1.12"
      }
    },
    "node_modules/@tailwindcss/oxide": {
      "version": "4.1.12",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide/-/oxide-4.1.12.tgz",
      "integrity": "sha512-gM5EoKHW/ukmlEtphNwaGx45fGoEmP10v51t9unv55voWh6WrOL19hfuIdo2FjxIaZzw776/BUQg7Pck++cIVw==",
      "dev": true,
      "hasInstallScript": true,
      "dependencies": {
        "detect-libc": "^2.0.4",
        "tar": "^7.4.3"
      },
      "engines": {
        "node": ">= 10"
      },
      "optionalDependencies": {
        "@tailwindcss/oxide-android-arm64": "4.1.12",
        "@tailwindcss/oxide-darwin-arm64": "4.1.12",
        "@tailwindcss/oxide-darwin-x64": "4.1.12",
        "@tailwindcss/oxide-freebsd-x64": "4.1.12",
        "@tailwindcss/oxide-linux-arm-gnueabihf": "4.1.12",
        "@tailwindcss/oxide-linux-arm64-gnu": "4.1.12",
        "@tailwindcss/oxide-linux-arm64-musl": "4.1.12",
        "@tailwindcss/oxide-linux-x64-gnu": "4.1.12",
        "@tailwindcss/oxide-linux-x64-musl": "4.1.12",
        "@tailwindcss/oxide-wasm32-wasi": "4.1.12",
        "@tailwindcss/oxide-win32-arm64-msvc": "4.1.12",
        "@tailwindcss/oxide-win32-x64-msvc": "4.1.12"
      }
    },
    "node_modules/@tailwindcss/oxide-android-arm64": {
      "version": "4.1.12",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-android-arm64/-/oxide-android-arm64-4.1.12.tgz",
      "integrity": "sha512-oNY5pq+1gc4T6QVTsZKwZaGpBb2N1H1fsc1GD4o7yinFySqIuRZ2E4NvGasWc6PhYJwGK2+5YT1f9Tp80zUQZQ==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "android"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@tailwindcss/oxide-darwin-arm64": {
      "version": "4.1.12",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-darwin-arm64/-/oxide-darwin-arm64-4.1.12.tgz",
      "integrity": "sha512-cq1qmq2HEtDV9HvZlTtrj671mCdGB93bVY6J29mwCyaMYCP/JaUBXxrQQQm7Qn33AXXASPUb2HFZlWiiHWFytw==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@tailwindcss/oxide-darwin-x64": {
      "version": "4.1.12",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-darwin-x64/-/oxide-darwin-x64-4.1.12.tgz",
      "integrity": "sha512-6UCsIeFUcBfpangqlXay9Ffty9XhFH1QuUFn0WV83W8lGdX8cD5/+2ONLluALJD5+yJ7k8mVtwy3zMZmzEfbLg==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@tailwindcss/oxide-freebsd-x64": {
      "version": "4.1.12",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-freebsd-x64/-/oxide-freebsd-x64-4.1.12.tgz",
      "integrity": "sha512-JOH/f7j6+nYXIrHobRYCtoArJdMJh5zy5lr0FV0Qu47MID/vqJAY3r/OElPzx1C/wdT1uS7cPq+xdYYelny1ww==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "freebsd"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@tailwindcss/oxide-linux-arm-gnueabihf": {
      "version": "4.1.12",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-linux-arm-gnueabihf/-/oxide-linux-arm-gnueabihf-4.1.12.tgz",
      "integrity": "sha512-v4Ghvi9AU1SYgGr3/j38PD8PEe6bRfTnNSUE3YCMIRrrNigCFtHZ2TCm8142X8fcSqHBZBceDx+JlFJEfNg5zQ==",
      "cpu": [
        "arm"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@tailwindcss/oxide-linux-arm64-gnu": {
      "version": "4.1.12",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-linux-arm64-gnu/-/oxide-linux-arm64-gnu-4.1.12.tgz",
      "integrity": "sha512-YP5s1LmetL9UsvVAKusHSyPlzSRqYyRB0f+Kl/xcYQSPLEw/BvGfxzbH+ihUciePDjiXwHh+p+qbSP3SlJw+6g==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@tailwindcss/oxide-linux-arm64-musl": {
      "version": "4.1.12",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-linux-arm64-musl/-/oxide-linux-arm64-musl-4.1.12.tgz",
      "integrity": "sha512-V8pAM3s8gsrXcCv6kCHSuwyb/gPsd863iT+v1PGXC4fSL/OJqsKhfK//v8P+w9ThKIoqNbEnsZqNy+WDnwQqCA==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@tailwindcss/oxide-linux-x64-gnu": {
      "version": "4.1.12",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-linux-x64-gnu/-/oxide-linux-x64-gnu-4.1.12.tgz",
      "integrity": "sha512-xYfqYLjvm2UQ3TZggTGrwxjYaLB62b1Wiysw/YE3Yqbh86sOMoTn0feF98PonP7LtjsWOWcXEbGqDL7zv0uW8Q==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@tailwindcss/oxide-linux-x64-musl": {
      "version": "4.1.12",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-linux-x64-musl/-/oxide-linux-x64-musl-4.1.12.tgz",
      "integrity": "sha512-ha0pHPamN+fWZY7GCzz5rKunlv9L5R8kdh+YNvP5awe3LtuXb5nRi/H27GeL2U+TdhDOptU7T6Is7mdwh5Ar3A==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@tailwindcss/oxide-wasm32-wasi": {
      "version": "4.1.12",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-wasm32-wasi/-/oxide-wasm32-wasi-4.1.12.tgz",
      "integrity": "sha512-4tSyu3dW+ktzdEpuk6g49KdEangu3eCYoqPhWNsZgUhyegEda3M9rG0/j1GV/JjVVsj+lG7jWAyrTlLzd/WEBg==",
      "bundleDependencies": [
        "@napi-rs/wasm-runtime",
        "@emnapi/core",
        "@emnapi/runtime",
        "@tybys/wasm-util",
        "@emnapi/wasi-threads",
        "tslib"
      ],
      "cpu": [
        "wasm32"
      ],
      "dev": true,
      "optional": true,
      "dependencies": {
        "@emnapi/core": "^1.4.5",
        "@emnapi/runtime": "^1.4.5",
        "@emnapi/wasi-threads": "^1.0.4",
        "@napi-rs/wasm-runtime": "^0.2.12",
        "@tybys/wasm-util": "^0.10.0",
        "tslib": "^2.8.0"
      },
      "engines": {
        "node": ">=14.0.0"
      }
    },
    "node_modules/@tailwindcss/oxide-win32-arm64-msvc": {
      "version": "4.1.12",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-win32-arm64-msvc/-/oxide-win32-arm64-msvc-4.1.12.tgz",
      "integrity": "sha512-iGLyD/cVP724+FGtMWslhcFyg4xyYyM+5F4hGvKA7eifPkXHRAUDFaimu53fpNg9X8dfP75pXx/zFt/jlNF+lg==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@tailwindcss/oxide-win32-x64-msvc": {
      "version": "4.1.12",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-win32-x64-msvc/-/oxide-win32-x64-msvc-4.1.12.tgz",
      "integrity": "sha512-NKIh5rzw6CpEodv/++r0hGLlfgT/gFN+5WNdZtvh6wpU2BpGNgdjvj6H2oFc8nCM839QM1YOhjpgbAONUb4IxA==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@tailwindcss/postcss": {
      "version": "4.1.12",
      "resolved": "https://registry.npmjs.org/@tailwindcss/postcss/-/postcss-4.1.12.tgz",
      "integrity": "sha512-5PpLYhCAwf9SJEeIsSmCDLgyVfdBhdBpzX1OJ87anT9IVR0Z9pjM0FNixCAUAHGnMBGB8K99SwAheXrT0Kh6QQ==",
      "dev": true,
      "dependencies": {
        "@alloc/quick-lru": "^5.2.0",
        "@tailwindcss/node": "4.1.12",
        "@tailwindcss/oxide": "4.1.12",
        "postcss": "^8.4.41",
        "tailwindcss": "4.1.12"
      }
    },
    "node_modules/@tanstack/react-table": {
      "version": "8.21.3",
      "resolved": "https://registry.npmjs.org/@tanstack/react-table/-/react-table-8.21.3.tgz",
      "integrity": "sha512-5nNMTSETP4ykGegmVkhjcS8tTLW6Vl4axfEGQN3v0zdHYbK4UfoqfPChclTrJ4EoK9QynqAu9oUf8VEmrpZ5Ww==",
      "dependencies": {
        "@tanstack/table-core": "8.21.3"
      },
      "engines": {
        "node": ">=12"
      },
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/tannerlinsley"
      },
      "peerDependencies": {
        "react": ">=16.8",
        "react-dom": ">=16.8"
      }
    },
    "node_modules/@tanstack/table-core": {
      "version": "8.21.3",
      "resolved": "https://registry.npmjs.org/@tanstack/table-core/-/table-core-8.21.3.tgz",
      "integrity": "sha512-ldZXEhOBb8Is7xLs01fR3YEc3DERiz5silj8tnGkFZytt1abEvl/GhUmCE0PMLaMPTa3Jk4HbKmRlHmu+gCftg==",
      "engines": {
        "node": ">=12"
      },
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/tannerlinsley"
      }
    },
    "node_modules/@tybys/wasm-util": {
      "version": "0.10.0",
      "resolved": "https://registry.npmjs.org/@tybys/wasm-util/-/wasm-util-0.10.0.tgz",
      "integrity": "sha512-VyyPYFlOMNylG45GoAe0xDoLwWuowvf92F9kySqzYh8vmYm7D2u4iUJKa1tOUpS70Ku13ASrOkS4ScXFsTaCNQ==",
      "dev": true,
      "optional": true,
      "dependencies": {
        "tslib": "^2.4.0"
      }
    },
    "node_modules/@types/chai": {
      "version": "5.2.2",
      "resolved": "https://registry.npmjs.org/@types/chai/-/chai-5.2.2.tgz",
      "integrity": "sha512-8kB30R7Hwqf40JPiKhVzodJs2Qc1ZJ5zuT3uzw5Hq/dhNCl3G3l83jfpdI1e20BP348+fV7VIL/+FxaXkqBmWg==",
      "dev": true,
      "dependencies": {
        "@types/deep-eql": "*"
      }
    },
    "node_modules/@types/deep-eql": {
      "version": "4.0.2",
      "resolved": "https://registry.npmjs.org/@types/deep-eql/-/deep-eql-4.0.2.tgz",
      "integrity": "sha512-c9h9dVVMigMPc4bwTvC5dxqtqJZwQPePsWjPlpSOnojbor6pGqdk541lfA7AqFQr5pB1BRdq0juY9db81BwyFw==",
      "dev": true
    },
    "node_modules/@types/estree": {
      "version": "1.0.8",
      "resolved": "https://registry.npmjs.org/@types/estree/-/estree-1.0.8.tgz",
      "integrity": "sha512-dWHzHa2WqEXI/O1E9OjrocMTKJl2mSrEolh1Iomrv6U+JuNwaHXsXx9bLu5gG7BUWFIN0skIQJQ/L1rIex4X6w==",
      "dev": true
    },
    "node_modules/@types/json-schema": {
      "version": "7.0.15",
      "resolved": "https://registry.npmjs.org/@types/json-schema/-/json-schema-7.0.15.tgz",
      "integrity": "sha512-5+fP8P8MFNC+AyZCDxrB2pkZFPGzqQWUzpSeuuVLvm8VMcorNYavBqoFcxK8bQz4Qsbn4oUEEem4wDLfcysGHA==",
      "dev": true
    },
    "node_modules/@types/json5": {
      "version": "0.0.29",
      "resolved": "https://registry.npmjs.org/@types/json5/-/json5-0.0.29.tgz",
      "integrity": "sha512-dRLjCWHYg4oaA77cxO64oO+7JwCwnIzkZPdrrC71jQmQtlhM556pwKo5bUzqvZndkVbeFLIIi+9TC40JNF5hNQ==",
      "dev": true
    },
    "node_modules/@types/node": {
      "version": "20.19.11",
      "resolved": "https://registry.npmjs.org/@types/node/-/node-20.19.11.tgz",
      "integrity": "sha512-uug3FEEGv0r+jrecvUUpbY8lLisvIjg6AAic6a2bSP5OEOLeJsDSnvhCDov7ipFFMXS3orMpzlmi0ZcuGkBbow==",
      "dev": true,
      "dependencies": {
        "undici-types": "~6.21.0"
      }
    },
    "node_modules/@types/react": {
      "version": "19.1.10",
      "resolved": "https://registry.npmjs.org/@types/react/-/react-19.1.10.tgz",
      "integrity": "sha512-EhBeSYX0Y6ye8pNebpKrwFJq7BoQ8J5SO6NlvNwwHjSj6adXJViPQrKlsyPw7hLBLvckEMO1yxeGdR82YBBlDg==",
      "devOptional": true,
      "dependencies": {
        "csstype": "^3.0.2"
      }
    },
    "node_modules/@types/react-dom": {
      "version": "19.1.7",
      "resolved": "https://registry.npmjs.org/@types/react-dom/-/react-dom-19.1.7.tgz",
      "integrity": "sha512-i5ZzwYpqjmrKenzkoLM2Ibzt6mAsM7pxB6BCIouEVVmgiqaMj1TjaK7hnA36hbW5aZv20kx7Lw6hWzPWg0Rurw==",
      "devOptional": true,
      "peerDependencies": {
        "@types/react": "^19.0.0"
      }
    },
    "node_modules/@typescript-eslint/eslint-plugin": {
      "version": "8.40.0",
      "resolved": "https://registry.npmjs.org/@typescript-eslint/eslint-plugin/-/eslint-plugin-8.40.0.tgz",
      "integrity": "sha512-w/EboPlBwnmOBtRbiOvzjD+wdiZdgFeo17lkltrtn7X37vagKKWJABvyfsJXTlHe6XBzugmYgd4A4nW+k8Mixw==",
      "dev": true,
      "dependencies": {
        "@eslint-community/regexpp": "^4.10.0",
        "@typescript-eslint/scope-manager": "8.40.0",
        "@typescript-eslint/type-utils": "8.40.0",
        "@typescript-eslint/utils": "8.40.0",
        "@typescript-eslint/visitor-keys": "8.40.0",
        "graphemer": "^1.4.0",
        "ignore": "^7.0.0",
        "natural-compare": "^1.4.0",
        "ts-api-utils": "^2.1.0"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/typescript-eslint"
      },
      "peerDependencies": {
        "@typescript-eslint/parser": "^8.40.0",
        "eslint": "^8.57.0 || ^9.0.0",
        "typescript": ">=4.8.4 <6.0.0"
      }
    },
    "node_modules/@typescript-eslint/eslint-plugin/node_modules/ignore": {
      "version": "7.0.5",
      "resolved": "https://registry.npmjs.org/ignore/-/ignore-7.0.5.tgz",
      "integrity": "sha512-Hs59xBNfUIunMFgWAbGX5cq6893IbWg4KnrjbYwX3tx0ztorVgTDA6B2sxf8ejHJ4wz8BqGUMYlnzNBer5NvGg==",
      "dev": true,
      "engines": {
        "node": ">= 4"
      }
    },
    "node_modules/@typescript-eslint/parser": {
      "version": "8.40.0",
      "resolved": "https://registry.npmjs.org/@typescript-eslint/parser/-/parser-8.40.0.tgz",
      "integrity": "sha512-jCNyAuXx8dr5KJMkecGmZ8KI61KBUhkCob+SD+C+I5+Y1FWI2Y3QmY4/cxMCC5WAsZqoEtEETVhUiUMIGCf6Bw==",
      "dev": true,
      "dependencies": {
        "@typescript-eslint/scope-manager": "8.40.0",
        "@typescript-eslint/types": "8.40.0",
        "@typescript-eslint/typescript-estree": "8.40.0",
        "@typescript-eslint/visitor-keys": "8.40.0",
        "debug": "^4.3.4"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/typescript-eslint"
      },
      "peerDependencies": {
        "eslint": "^8.57.0 || ^9.0.0",
        "typescript": ">=4.8.4 <6.0.0"
      }
    },
    "node_modules/@typescript-eslint/project-service": {
      "version": "8.40.0",
      "resolved": "https://registry.npmjs.org/@typescript-eslint/project-service/-/project-service-8.40.0.tgz",
      "integrity": "sha512-/A89vz7Wf5DEXsGVvcGdYKbVM9F7DyFXj52lNYUDS1L9yJfqjW/fIp5PgMuEJL/KeqVTe2QSbXAGUZljDUpArw==",
      "dev": true,
      "dependencies": {
        "@typescript-eslint/tsconfig-utils": "^8.40.0",
        "@typescript-eslint/types": "^8.40.0",
        "debug": "^4.3.4"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/typescript-eslint"
      },
      "peerDependencies": {
        "typescript": ">=4.8.4 <6.0.0"
      }
    },
    "node_modules/@typescript-eslint/scope-manager": {
      "version": "8.40.0",
      "resolved": "https://registry.npmjs.org/@typescript-eslint/scope-manager/-/scope-manager-8.40.0.tgz",
      "integrity": "sha512-y9ObStCcdCiZKzwqsE8CcpyuVMwRouJbbSrNuThDpv16dFAj429IkM6LNb1dZ2m7hK5fHyzNcErZf7CEeKXR4w==",
      "dev": true,
      "dependencies": {
        "@typescript-eslint/types": "8.40.0",
        "@typescript-eslint/visitor-keys": "8.40.0"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/typescript-eslint"
      }
    },
    "node_modules/@typescript-eslint/tsconfig-utils": {
      "version": "8.40.0",
      "resolved": "https://registry.npmjs.org/@typescript-eslint/tsconfig-utils/-/tsconfig-utils-8.40.0.tgz",
      "integrity": "sha512-jtMytmUaG9d/9kqSl/W3E3xaWESo4hFDxAIHGVW/WKKtQhesnRIJSAJO6XckluuJ6KDB5woD1EiqknriCtAmcw==",
      "dev": true,
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/typescript-eslint"
      },
      "peerDependencies": {
        "typescript": ">=4.8.4 <6.0.0"
      }
    },
    "node_modules/@typescript-eslint/type-utils": {
      "version": "8.40.0",
      "resolved": "https://registry.npmjs.org/@typescript-eslint/type-utils/-/type-utils-8.40.0.tgz",
      "integrity": "sha512-eE60cK4KzAc6ZrzlJnflXdrMqOBaugeukWICO2rB0KNvwdIMaEaYiywwHMzA1qFpTxrLhN9Lp4E/00EgWcD3Ow==",
      "dev": true,
      "dependencies": {
        "@typescript-eslint/types": "8.40.0",
        "@typescript-eslint/typescript-estree": "8.40.0",
        "@typescript-eslint/utils": "8.40.0",
        "debug": "^4.3.4",
        "ts-api-utils": "^2.1.0"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/typescript-eslint"
      },
      "peerDependencies": {
        "eslint": "^8.57.0 || ^9.0.0",
        "typescript": ">=4.8.4 <6.0.0"
      }
    },
    "node_modules/@typescript-eslint/types": {
      "version": "8.40.0",
      "resolved": "https://registry.npmjs.org/@typescript-eslint/types/-/types-8.40.0.tgz",
      "integrity": "sha512-ETdbFlgbAmXHyFPwqUIYrfc12ArvpBhEVgGAxVYSwli26dn8Ko+lIo4Su9vI9ykTZdJn+vJprs/0eZU0YMAEQg==",
      "dev": true,
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/typescript-eslint"
      }
    },
    "node_modules/@typescript-eslint/typescript-estree": {
      "version": "8.40.0",
      "resolved": "https://registry.npmjs.org/@typescript-eslint/typescript-estree/-/typescript-estree-8.40.0.tgz",
      "integrity": "sha512-k1z9+GJReVVOkc1WfVKs1vBrR5MIKKbdAjDTPvIK3L8De6KbFfPFt6BKpdkdk7rZS2GtC/m6yI5MYX+UsuvVYQ==",
      "dev": true,
      "dependencies": {
        "@typescript-eslint/project-service": "8.40.0",
        "@typescript-eslint/tsconfig-utils": "8.40.0",
        "@typescript-eslint/types": "8.40.0",
        "@typescript-eslint/visitor-keys": "8.40.0",
        "debug": "^4.3.4",
        "fast-glob": "^3.3.2",
        "is-glob": "^4.0.3",
        "minimatch": "^9.0.4",
        "semver": "^7.6.0",
        "ts-api-utils": "^2.1.0"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/typescript-eslint"
      },
      "peerDependencies": {
        "typescript": ">=4.8.4 <6.0.0"
      }
    },
    "node_modules/@typescript-eslint/typescript-estree/node_modules/brace-expansion": {
      "version": "2.0.2",
      "resolved": "https://registry.npmjs.org/brace-expansion/-/brace-expansion-2.0.2.tgz",
      "integrity": "sha512-Jt0vHyM+jmUBqojB7E1NIYadt0vI0Qxjxd2TErW94wDz+E2LAm5vKMXXwg6ZZBTHPuUlDgQHKXvjGBdfcF1ZDQ==",
      "dev": true,
      "dependencies": {
        "balanced-match": "^1.0.0"
      }
    },
    "node_modules/@typescript-eslint/typescript-estree/node_modules/fast-glob": {
      "version": "3.3.3",
      "resolved": "https://registry.npmjs.org/fast-glob/-/fast-glob-3.3.3.tgz",
      "integrity": "sha512-7MptL8U0cqcFdzIzwOTHoilX9x5BrNqye7Z/LuC7kCMRio1EMSyqRK3BEAUD7sXRq4iT4AzTVuZdhgQ2TCvYLg==",
      "dev": true,
      "dependencies": {
        "@nodelib/fs.stat": "^2.0.2",
        "@nodelib/fs.walk": "^1.2.3",
        "glob-parent": "^5.1.2",
        "merge2": "^1.3.0",
        "micromatch": "^4.0.8"
      },
      "engines": {
        "node": ">=8.6.0"
      }
    },
    "node_modules/@typescript-eslint/typescript-estree/node_modules/glob-parent": {
      "version": "5.1.2",
      "resolved": "https://registry.npmjs.org/glob-parent/-/glob-parent-5.1.2.tgz",
      "integrity": "sha512-AOIgSQCepiJYwP3ARnGx+5VnTu2HBYdzbGP45eLw1vr3zB3vZLeyed1sC9hnbcOc9/SrMyM5RPQrkGz4aS9Zow==",
      "dev": true,
      "dependencies": {
        "is-glob": "^4.0.1"
      },
      "engines": {
        "node": ">= 6"
      }
    },
    "node_modules/@typescript-eslint/typescript-estree/node_modules/minimatch": {
      "version": "9.0.5",
      "resolved": "https://registry.npmjs.org/minimatch/-/minimatch-9.0.5.tgz",
      "integrity": "sha512-G6T0ZX48xgozx7587koeX9Ys2NYy6Gmv//P89sEte9V9whIapMNF4idKxnW2QtCcLiTWlb/wfCabAtAFWhhBow==",
      "dev": true,
      "dependencies": {
        "brace-expansion": "^2.0.1"
      },
      "engines": {
        "node": ">=16 || 14 >=14.17"
      },
      "funding": {
        "url": "https://github.com/sponsors/isaacs"
      }
    },
    "node_modules/@typescript-eslint/utils": {
      "version": "8.40.0",
      "resolved": "https://registry.npmjs.org/@typescript-eslint/utils/-/utils-8.40.0.tgz",
      "integrity": "sha512-Cgzi2MXSZyAUOY+BFwGs17s7ad/7L+gKt6Y8rAVVWS+7o6wrjeFN4nVfTpbE25MNcxyJ+iYUXflbs2xR9h4UBg==",
      "dev": true,
      "dependencies": {
        "@eslint-community/eslint-utils": "^4.7.0",
        "@typescript-eslint/scope-manager": "8.40.0",
        "@typescript-eslint/types": "8.40.0",
        "@typescript-eslint/typescript-estree": "8.40.0"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/typescript-eslint"
      },
      "peerDependencies": {
        "eslint": "^8.57.0 || ^9.0.0",
        "typescript": ">=4.8.4 <6.0.0"
      }
    },
    "node_modules/@typescript-eslint/visitor-keys": {
      "version": "8.40.0",
      "resolved": "https://registry.npmjs.org/@typescript-eslint/visitor-keys/-/visitor-keys-8.40.0.tgz",
      "integrity": "sha512-8CZ47QwalyRjsypfwnbI3hKy5gJDPmrkLjkgMxhi0+DZZ2QNx2naS6/hWoVYUHU7LU2zleF68V9miaVZvhFfTA==",
      "dev": true,
      "dependencies": {
        "@typescript-eslint/types": "8.40.0",
        "eslint-visitor-keys": "^4.2.1"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/typescript-eslint"
      }
    },
    "node_modules/@unrs/resolver-binding-android-arm-eabi": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-android-arm-eabi/-/resolver-binding-android-arm-eabi-1.11.1.tgz",
      "integrity": "sha512-ppLRUgHVaGRWUx0R0Ut06Mjo9gBaBkg3v/8AxusGLhsIotbBLuRk51rAzqLC8gq6NyyAojEXglNjzf6R948DNw==",
      "cpu": [
        "arm"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "android"
      ]
    },
    "node_modules/@unrs/resolver-binding-android-arm64": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-android-arm64/-/resolver-binding-android-arm64-1.11.1.tgz",
      "integrity": "sha512-lCxkVtb4wp1v+EoN+HjIG9cIIzPkX5OtM03pQYkG+U5O/wL53LC4QbIeazgiKqluGeVEeBlZahHalCaBvU1a2g==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "android"
      ]
    },
    "node_modules/@unrs/resolver-binding-darwin-arm64": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-darwin-arm64/-/resolver-binding-darwin-arm64-1.11.1.tgz",
      "integrity": "sha512-gPVA1UjRu1Y/IsB/dQEsp2V1pm44Of6+LWvbLc9SDk1c2KhhDRDBUkQCYVWe6f26uJb3fOK8saWMgtX8IrMk3g==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "darwin"
      ]
    },
    "node_modules/@unrs/resolver-binding-darwin-x64": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-darwin-x64/-/resolver-binding-darwin-x64-1.11.1.tgz",
      "integrity": "sha512-cFzP7rWKd3lZaCsDze07QX1SC24lO8mPty9vdP+YVa3MGdVgPmFc59317b2ioXtgCMKGiCLxJ4HQs62oz6GfRQ==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "darwin"
      ]
    },
    "node_modules/@unrs/resolver-binding-freebsd-x64": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-freebsd-x64/-/resolver-binding-freebsd-x64-1.11.1.tgz",
      "integrity": "sha512-fqtGgak3zX4DCB6PFpsH5+Kmt/8CIi4Bry4rb1ho6Av2QHTREM+47y282Uqiu3ZRF5IQioJQ5qWRV6jduA+iGw==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "freebsd"
      ]
    },
    "node_modules/@unrs/resolver-binding-linux-arm-gnueabihf": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-linux-arm-gnueabihf/-/resolver-binding-linux-arm-gnueabihf-1.11.1.tgz",
      "integrity": "sha512-u92mvlcYtp9MRKmP+ZvMmtPN34+/3lMHlyMj7wXJDeXxuM0Vgzz0+PPJNsro1m3IZPYChIkn944wW8TYgGKFHw==",
      "cpu": [
        "arm"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@unrs/resolver-binding-linux-arm-musleabihf": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-linux-arm-musleabihf/-/resolver-binding-linux-arm-musleabihf-1.11.1.tgz",
      "integrity": "sha512-cINaoY2z7LVCrfHkIcmvj7osTOtm6VVT16b5oQdS4beibX2SYBwgYLmqhBjA1t51CarSaBuX5YNsWLjsqfW5Cw==",
      "cpu": [
        "arm"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@unrs/resolver-binding-linux-arm64-gnu": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-linux-arm64-gnu/-/resolver-binding-linux-arm64-gnu-1.11.1.tgz",
      "integrity": "sha512-34gw7PjDGB9JgePJEmhEqBhWvCiiWCuXsL9hYphDF7crW7UgI05gyBAi6MF58uGcMOiOqSJ2ybEeCvHcq0BCmQ==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@unrs/resolver-binding-linux-arm64-musl": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-linux-arm64-musl/-/resolver-binding-linux-arm64-musl-1.11.1.tgz",
      "integrity": "sha512-RyMIx6Uf53hhOtJDIamSbTskA99sPHS96wxVE/bJtePJJtpdKGXO1wY90oRdXuYOGOTuqjT8ACccMc4K6QmT3w==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@unrs/resolver-binding-linux-ppc64-gnu": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-linux-ppc64-gnu/-/resolver-binding-linux-ppc64-gnu-1.11.1.tgz",
      "integrity": "sha512-D8Vae74A4/a+mZH0FbOkFJL9DSK2R6TFPC9M+jCWYia/q2einCubX10pecpDiTmkJVUH+y8K3BZClycD8nCShA==",
      "cpu": [
        "ppc64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@unrs/resolver-binding-linux-riscv64-gnu": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-linux-riscv64-gnu/-/resolver-binding-linux-riscv64-gnu-1.11.1.tgz",
      "integrity": "sha512-frxL4OrzOWVVsOc96+V3aqTIQl1O2TjgExV4EKgRY09AJ9leZpEg8Ak9phadbuX0BA4k8U5qtvMSQQGGmaJqcQ==",
      "cpu": [
        "riscv64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@unrs/resolver-binding-linux-riscv64-musl": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-linux-riscv64-musl/-/resolver-binding-linux-riscv64-musl-1.11.1.tgz",
      "integrity": "sha512-mJ5vuDaIZ+l/acv01sHoXfpnyrNKOk/3aDoEdLO/Xtn9HuZlDD6jKxHlkN8ZhWyLJsRBxfv9GYM2utQ1SChKew==",
      "cpu": [
        "riscv64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@unrs/resolver-binding-linux-s390x-gnu": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-linux-s390x-gnu/-/resolver-binding-linux-s390x-gnu-1.11.1.tgz",
      "integrity": "sha512-kELo8ebBVtb9sA7rMe1Cph4QHreByhaZ2QEADd9NzIQsYNQpt9UkM9iqr2lhGr5afh885d/cB5QeTXSbZHTYPg==",
      "cpu": [
        "s390x"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@unrs/resolver-binding-linux-x64-gnu": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-linux-x64-gnu/-/resolver-binding-linux-x64-gnu-1.11.1.tgz",
      "integrity": "sha512-C3ZAHugKgovV5YvAMsxhq0gtXuwESUKc5MhEtjBpLoHPLYM+iuwSj3lflFwK3DPm68660rZ7G8BMcwSro7hD5w==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@unrs/resolver-binding-linux-x64-musl": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-linux-x64-musl/-/resolver-binding-linux-x64-musl-1.11.1.tgz",
      "integrity": "sha512-rV0YSoyhK2nZ4vEswT/QwqzqQXw5I6CjoaYMOX0TqBlWhojUf8P94mvI7nuJTeaCkkds3QE4+zS8Ko+GdXuZtA==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@unrs/resolver-binding-wasm32-wasi": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-wasm32-wasi/-/resolver-binding-wasm32-wasi-1.11.1.tgz",
      "integrity": "sha512-5u4RkfxJm+Ng7IWgkzi3qrFOvLvQYnPBmjmZQ8+szTK/b31fQCnleNl1GgEt7nIsZRIf5PLhPwT0WM+q45x/UQ==",
      "cpu": [
        "wasm32"
      ],
      "dev": true,
      "optional": true,
      "dependencies": {
        "@napi-rs/wasm-runtime": "^0.2.11"
      },
      "engines": {
        "node": ">=14.0.0"
      }
    },
    "node_modules/@unrs/resolver-binding-win32-arm64-msvc": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-win32-arm64-msvc/-/resolver-binding-win32-arm64-msvc-1.11.1.tgz",
      "integrity": "sha512-nRcz5Il4ln0kMhfL8S3hLkxI85BXs3o8EYoattsJNdsX4YUU89iOkVn7g0VHSRxFuVMdM4Q1jEpIId1Ihim/Uw==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "win32"
      ]
    },
    "node_modules/@unrs/resolver-binding-win32-ia32-msvc": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-win32-ia32-msvc/-/resolver-binding-win32-ia32-msvc-1.11.1.tgz",
      "integrity": "sha512-DCEI6t5i1NmAZp6pFonpD5m7i6aFrpofcp4LA2i8IIq60Jyo28hamKBxNrZcyOwVOZkgsRp9O2sXWBWP8MnvIQ==",
      "cpu": [
        "ia32"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "win32"
      ]
    },
    "node_modules/@unrs/resolver-binding-win32-x64-msvc": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-win32-x64-msvc/-/resolver-binding-win32-x64-msvc-1.11.1.tgz",
      "integrity": "sha512-lrW200hZdbfRtztbygyaq/6jP6AKE8qQN2KvPcJ+x7wiD038YtnYtZ82IMNJ69GJibV7bwL3y9FgK+5w/pYt6g==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "win32"
      ]
    },
    "node_modules/@vitest/coverage-v8": {
      "version": "3.2.4",
      "resolved": "https://registry.npmjs.org/@vitest/coverage-v8/-/coverage-v8-3.2.4.tgz",
      "integrity": "sha512-EyF9SXU6kS5Ku/U82E259WSnvg6c8KTjppUncuNdm5QHpe17mwREHnjDzozC8x9MZ0xfBUFSaLkRv4TMA75ALQ==",
      "dev": true,
      "dependencies": {
        "@ampproject/remapping": "^2.3.0",
        "@bcoe/v8-coverage": "^1.0.2",
        "ast-v8-to-istanbul": "^0.3.3",
        "debug": "^4.4.1",
        "istanbul-lib-coverage": "^3.2.2",
        "istanbul-lib-report": "^3.0.1",
        "istanbul-lib-source-maps": "^5.0.6",
        "istanbul-reports": "^3.1.7",
        "magic-string": "^0.30.17",
        "magicast": "^0.3.5",
        "std-env": "^3.9.0",
        "test-exclude": "^7.0.1",
        "tinyrainbow": "^2.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/vitest"
      },
      "peerDependencies": {
        "@vitest/browser": "3.2.4",
        "vitest": "3.2.4"
      },
      "peerDependenciesMeta": {
        "@vitest/browser": {
          "optional": true
        }
      }
    },
    "node_modules/@vitest/expect": {
      "version": "3.2.4",
      "resolved": "https://registry.npmjs.org/@vitest/expect/-/expect-3.2.4.tgz",
      "integrity": "sha512-Io0yyORnB6sikFlt8QW5K7slY4OjqNX9jmJQ02QDda8lyM6B5oNgVWoSoKPac8/kgnCUzuHQKrSLtu/uOqqrig==",
      "dev": true,
      "dependencies": {
        "@types/chai": "^5.2.2",
        "@vitest/spy": "3.2.4",
        "@vitest/utils": "3.2.4",
        "chai": "^5.2.0",
        "tinyrainbow": "^2.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/vitest"
      }
    },
    "node_modules/@vitest/mocker": {
      "version": "3.2.4",
      "resolved": "https://registry.npmjs.org/@vitest/mocker/-/mocker-3.2.4.tgz",
      "integrity": "sha512-46ryTE9RZO/rfDd7pEqFl7etuyzekzEhUbTW3BvmeO/BcCMEgq59BKhek3dXDWgAj4oMK6OZi+vRr1wPW6qjEQ==",
      "dev": true,
      "dependencies": {
        "@vitest/spy": "3.2.4",
        "estree-walker": "^3.0.3",
        "magic-string": "^0.30.17"
      },
      "funding": {
        "url": "https://opencollective.com/vitest"
      },
      "peerDependencies": {
        "msw": "^2.4.9",
        "vite": "^5.0.0 || ^6.0.0 || ^7.0.0-0"
      },
      "peerDependenciesMeta": {
        "msw": {
          "optional": true
        },
        "vite": {
          "optional": true
        }
      }
    },
    "node_modules/@vitest/pretty-format": {
      "version": "3.2.4",
      "resolved": "https://registry.npmjs.org/@vitest/pretty-format/-/pretty-format-3.2.4.tgz",
      "integrity": "sha512-IVNZik8IVRJRTr9fxlitMKeJeXFFFN0JaB9PHPGQ8NKQbGpfjlTx9zO4RefN8gp7eqjNy8nyK3NZmBzOPeIxtA==",
      "dev": true,
      "dependencies": {
        "tinyrainbow": "^2.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/vitest"
      }
    },
    "node_modules/@vitest/runner": {
      "version": "3.2.4",
      "resolved": "https://registry.npmjs.org/@vitest/runner/-/runner-3.2.4.tgz",
      "integrity": "sha512-oukfKT9Mk41LreEW09vt45f8wx7DordoWUZMYdY/cyAk7w5TWkTRCNZYF7sX7n2wB7jyGAl74OxgwhPgKaqDMQ==",
      "dev": true,
      "dependencies": {
        "@vitest/utils": "3.2.4",
        "pathe": "^2.0.3",
        "strip-literal": "^3.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/vitest"
      }
    },
    "node_modules/@vitest/snapshot": {
      "version": "3.2.4",
      "resolved": "https://registry.npmjs.org/@vitest/snapshot/-/snapshot-3.2.4.tgz",
      "integrity": "sha512-dEYtS7qQP2CjU27QBC5oUOxLE/v5eLkGqPE0ZKEIDGMs4vKWe7IjgLOeauHsR0D5YuuycGRO5oSRXnwnmA78fQ==",
      "dev": true,
      "dependencies": {
        "@vitest/pretty-format": "3.2.4",
        "magic-string": "^0.30.17",
        "pathe": "^2.0.3"
      },
      "funding": {
        "url": "https://opencollective.com/vitest"
      }
    },
    "node_modules/@vitest/spy": {
      "version": "3.2.4",
      "resolved": "https://registry.npmjs.org/@vitest/spy/-/spy-3.2.4.tgz",
      "integrity": "sha512-vAfasCOe6AIK70iP5UD11Ac4siNUNJ9i/9PZ3NKx07sG6sUxeag1LWdNrMWeKKYBLlzuK+Gn65Yd5nyL6ds+nw==",
      "dev": true,
      "dependencies": {
        "tinyspy": "^4.0.3"
      },
      "funding": {
        "url": "https://opencollective.com/vitest"
      }
    },
    "node_modules/@vitest/utils": {
      "version": "3.2.4",
      "resolved": "https://registry.npmjs.org/@vitest/utils/-/utils-3.2.4.tgz",
      "integrity": "sha512-fB2V0JFrQSMsCo9HiSq3Ezpdv4iYaXRG1Sx8edX3MwxfyNn83mKiGzOcH+Fkxt4MHxr3y42fQi1oeAInqgX2QA==",
      "dev": true,
      "dependencies": {
        "@vitest/pretty-format": "3.2.4",
        "loupe": "^3.1.4",
        "tinyrainbow": "^2.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/vitest"
      }
    },
    "node_modules/acorn": {
      "version": "8.15.0",
      "resolved": "https://registry.npmjs.org/acorn/-/acorn-8.15.0.tgz",
      "integrity": "sha512-NZyJarBfL7nWwIq+FDL6Zp/yHEhePMNnnJ0y3qfieCrmNvYct8uvtiV41UvlSe6apAfk0fY1FbWx+NwfmpvtTg==",
      "dev": true,
      "bin": {
        "acorn": "bin/acorn"
      },
      "engines": {
        "node": ">=0.4.0"
      }
    },
    "node_modules/acorn-jsx": {
      "version": "5.3.2",
      "resolved": "https://registry.npmjs.org/acorn-jsx/-/acorn-jsx-5.3.2.tgz",
      "integrity": "sha512-rq9s+JNhf0IChjtDXxllJ7g41oZk5SlXtp0LHwyA5cejwn7vKmKp4pPri6YEePv2PU65sAsegbXtIinmDFDXgQ==",
      "dev": true,
      "peerDependencies": {
        "acorn": "^6.0.0 || ^7.0.0 || ^8.0.0"
      }
    },
    "node_modules/agent-base": {
      "version": "7.1.4",
      "resolved": "https://registry.npmjs.org/agent-base/-/agent-base-7.1.4.tgz",
      "integrity": "sha512-MnA+YT8fwfJPgBx3m60MNqakm30XOkyIoH1y6huTQvC0PwZG7ki8NacLBcrPbNoo8vEZy7Jpuk7+jMO+CUovTQ==",
      "dev": true,
      "engines": {
        "node": ">= 14"
      }
    },
    "node_modules/ajv": {
      "version": "6.12.6",
      "resolved": "https://registry.npmjs.org/ajv/-/ajv-6.12.6.tgz",
      "integrity": "sha512-j3fVLgvTo527anyYyJOGTYJbG+vnnQYvE0m5mmkc1TK+nxAppkCLMIL0aZ4dblVCNoGShhm+kzE4ZUykBoMg4g==",
      "dev": true,
      "dependencies": {
        "fast-deep-equal": "^3.1.1",
        "fast-json-stable-stringify": "^2.0.0",
        "json-schema-traverse": "^0.4.1",
        "uri-js": "^4.2.2"
      },
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/epoberezkin"
      }
    },
    "node_modules/ansi-regex": {
      "version": "6.2.0",
      "resolved": "https://registry.npmjs.org/ansi-regex/-/ansi-regex-6.2.0.tgz",
      "integrity": "sha512-TKY5pyBkHyADOPYlRT9Lx6F544mPl0vS5Ew7BJ45hA08Q+t3GjbueLliBWN3sMICk6+y7HdyxSzC4bWS8baBdg==",
      "dev": true,
      "engines": {
        "node": ">=12"
      },
      "funding": {
        "url": "https://github.com/chalk/ansi-regex?sponsor=1"
      }
    },
    "node_modules/ansi-styles": {
      "version": "4.3.0",
      "resolved": "https://registry.npmjs.org/ansi-styles/-/ansi-styles-4.3.0.tgz",
      "integrity": "sha512-zbB9rCJAT1rbjiVDb2hqKFHNYLxgtk8NURxZ3IZwD3F6NtxbXZQCnnSi1Lkx+IDohdPlFp222wVALIheZJQSEg==",
      "dev": true,
      "dependencies": {
        "color-convert": "^2.0.1"
      },
      "engines": {
        "node": ">=8"
      },
      "funding": {
        "url": "https://github.com/chalk/ansi-styles?sponsor=1"
      }
    },
    "node_modules/argparse": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/argparse/-/argparse-2.0.1.tgz",
      "integrity": "sha512-8+9WqebbFzpX9OR+Wa6O29asIogeRMzcGtAINdpMHHyAg10f05aSFVBbcEqGf/PXw1EjAZ+q2/bEBg3DvurK3Q==",
      "dev": true
    },
    "node_modules/aria-hidden": {
      "version": "1.2.6",
      "resolved": "https://registry.npmjs.org/aria-hidden/-/aria-hidden-1.2.6.tgz",
      "integrity": "sha512-ik3ZgC9dY/lYVVM++OISsaYDeg1tb0VtP5uL3ouh1koGOaUMDPpbFIei4JkFimWUFPn90sbMNMXQAIVOlnYKJA==",
      "dependencies": {
        "tslib": "^2.0.0"
      },
      "engines": {
        "node": ">=10"
      }
    },
    "node_modules/aria-query": {
      "version": "5.3.2",
      "resolved": "https://registry.npmjs.org/aria-query/-/aria-query-5.3.2.tgz",
      "integrity": "sha512-COROpnaoap1E2F000S62r6A60uHZnmlvomhfyT2DlTcrY1OrBKn2UhH7qn5wTC9zMvD0AY7csdPSNwKP+7WiQw==",
      "dev": true,
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/array-buffer-byte-length": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/array-buffer-byte-length/-/array-buffer-byte-length-1.0.2.tgz",
      "integrity": "sha512-LHE+8BuR7RYGDKvnrmcuSq3tDcKv9OFEXQt/HpbZhY7V6h0zlUXutnAD82GiFx9rdieCMjkvtcsPqBwgUl1Iiw==",
      "dev": true,
      "dependencies": {
        "call-bound": "^1.0.3",
        "is-array-buffer": "^3.0.5"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/array-includes": {
      "version": "3.1.9",
      "resolved": "https://registry.npmjs.org/array-includes/-/array-includes-3.1.9.tgz",
      "integrity": "sha512-FmeCCAenzH0KH381SPT5FZmiA/TmpndpcaShhfgEN9eCVjnFBqq3l1xrI42y8+PPLI6hypzou4GXw00WHmPBLQ==",
      "dev": true,
      "dependencies": {
        "call-bind": "^1.0.8",
        "call-bound": "^1.0.4",
        "define-properties": "^1.2.1",
        "es-abstract": "^1.24.0",
        "es-object-atoms": "^1.1.1",
        "get-intrinsic": "^1.3.0",
        "is-string": "^1.1.1",
        "math-intrinsics": "^1.1.0"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/array.prototype.findlast": {
      "version": "1.2.5",
      "resolved": "https://registry.npmjs.org/array.prototype.findlast/-/array.prototype.findlast-1.2.5.tgz",
      "integrity": "sha512-CVvd6FHg1Z3POpBLxO6E6zr+rSKEQ9L6rZHAaY7lLfhKsWYUBBOuMs0e9o24oopj6H+geRCX0YJ+TJLBK2eHyQ==",
      "dev": true,
      "dependencies": {
        "call-bind": "^1.0.7",
        "define-properties": "^1.2.1",
        "es-abstract": "^1.23.2",
        "es-errors": "^1.3.0",
        "es-object-atoms": "^1.0.0",
        "es-shim-unscopables": "^1.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/array.prototype.findlastindex": {
      "version": "1.2.6",
      "resolved": "https://registry.npmjs.org/array.prototype.findlastindex/-/array.prototype.findlastindex-1.2.6.tgz",
      "integrity": "sha512-F/TKATkzseUExPlfvmwQKGITM3DGTK+vkAsCZoDc5daVygbJBnjEUCbgkAvVFsgfXfX4YIqZ/27G3k3tdXrTxQ==",
      "dev": true,
      "dependencies": {
        "call-bind": "^1.0.8",
        "call-bound": "^1.0.4",
        "define-properties": "^1.2.1",
        "es-abstract": "^1.23.9",
        "es-errors": "^1.3.0",
        "es-object-atoms": "^1.1.1",
        "es-shim-unscopables": "^1.1.0"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/array.prototype.flat": {
      "version": "1.3.3",
      "resolved": "https://registry.npmjs.org/array.prototype.flat/-/array.prototype.flat-1.3.3.tgz",
      "integrity": "sha512-rwG/ja1neyLqCuGZ5YYrznA62D4mZXg0i1cIskIUKSiqF3Cje9/wXAls9B9s1Wa2fomMsIv8czB8jZcPmxCXFg==",
      "dev": true,
      "dependencies": {
        "call-bind": "^1.0.8",
        "define-properties": "^1.2.1",
        "es-abstract": "^1.23.5",
        "es-shim-unscopables": "^1.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/array.prototype.flatmap": {
      "version": "1.3.3",
      "resolved": "https://registry.npmjs.org/array.prototype.flatmap/-/array.prototype.flatmap-1.3.3.tgz",
      "integrity": "sha512-Y7Wt51eKJSyi80hFrJCePGGNo5ktJCslFuboqJsbf57CCPcm5zztluPlc4/aD8sWsKvlwatezpV4U1efk8kpjg==",
      "dev": true,
      "dependencies": {
        "call-bind": "^1.0.8",
        "define-properties": "^1.2.1",
        "es-abstract": "^1.23.5",
        "es-shim-unscopables": "^1.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/array.prototype.tosorted": {
      "version": "1.1.4",
      "resolved": "https://registry.npmjs.org/array.prototype.tosorted/-/array.prototype.tosorted-1.1.4.tgz",
      "integrity": "sha512-p6Fx8B7b7ZhL/gmUsAy0D15WhvDccw3mnGNbZpi3pmeJdxtWsj2jEaI4Y6oo3XiHfzuSgPwKc04MYt6KgvC/wA==",
      "dev": true,
      "dependencies": {
        "call-bind": "^1.0.7",
        "define-properties": "^1.2.1",
        "es-abstract": "^1.23.3",
        "es-errors": "^1.3.0",
        "es-shim-unscopables": "^1.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/arraybuffer.prototype.slice": {
      "version": "1.0.4",
      "resolved": "https://registry.npmjs.org/arraybuffer.prototype.slice/-/arraybuffer.prototype.slice-1.0.4.tgz",
      "integrity": "sha512-BNoCY6SXXPQ7gF2opIP4GBE+Xw7U+pHMYKuzjgCN3GwiaIR09UUeKfheyIry77QtrCBlC0KK0q5/TER/tYh3PQ==",
      "dev": true,
      "dependencies": {
        "array-buffer-byte-length": "^1.0.1",
        "call-bind": "^1.0.8",
        "define-properties": "^1.2.1",
        "es-abstract": "^1.23.5",
        "es-errors": "^1.3.0",
        "get-intrinsic": "^1.2.6",
        "is-array-buffer": "^3.0.4"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/assertion-error": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/assertion-error/-/assertion-error-2.0.1.tgz",
      "integrity": "sha512-Izi8RQcffqCeNVgFigKli1ssklIbpHnCYc6AknXGYoB6grJqyeby7jv12JUQgmTAnIDnbck1uxksT4dzN3PWBA==",
      "dev": true,
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/ast-types-flow": {
      "version": "0.0.8",
      "resolved": "https://registry.npmjs.org/ast-types-flow/-/ast-types-flow-0.0.8.tgz",
      "integrity": "sha512-OH/2E5Fg20h2aPrbe+QL8JZQFko0YZaF+j4mnQ7BGhfavO7OpSLa8a0y9sBwomHdSbkhTS8TQNayBfnW5DwbvQ==",
      "dev": true
    },
    "node_modules/ast-v8-to-istanbul": {
      "version": "0.3.4",
      "resolved": "https://registry.npmjs.org/ast-v8-to-istanbul/-/ast-v8-to-istanbul-0.3.4.tgz",
      "integrity": "sha512-cxrAnZNLBnQwBPByK4CeDaw5sWZtMilJE/Q3iDA0aamgaIVNDF9T6K2/8DfYDZEejZ2jNnDrG9m8MY72HFd0KA==",
      "dev": true,
      "dependencies": {
        "@jridgewell/trace-mapping": "^0.3.29",
        "estree-walker": "^3.0.3",
        "js-tokens": "^9.0.1"
      }
    },
    "node_modules/ast-v8-to-istanbul/node_modules/js-tokens": {
      "version": "9.0.1",
      "resolved": "https://registry.npmjs.org/js-tokens/-/js-tokens-9.0.1.tgz",
      "integrity": "sha512-mxa9E9ITFOt0ban3j6L5MpjwegGz6lBQmM1IJkWeBZGcMxto50+eWdjC/52xDbS2vy0k7vIMK0Fe2wfL9OQSpQ==",
      "dev": true
    },
    "node_modules/async-function": {
      "version": "1.0.0",
      "resolved": "https://registry.npmjs.org/async-function/-/async-function-1.0.0.tgz",
      "integrity": "sha512-hsU18Ae8CDTR6Kgu9DYf0EbCr/a5iGL0rytQDobUcdpYOKokk8LEjVphnXkDkgpi0wYVsqrXuP0bZxJaTqdgoA==",
      "dev": true,
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/available-typed-arrays": {
      "version": "1.0.7",
      "resolved": "https://registry.npmjs.org/available-typed-arrays/-/available-typed-arrays-1.0.7.tgz",
      "integrity": "sha512-wvUjBtSGN7+7SjNpq/9M2Tg350UZD3q62IFZLbRAR1bSMlCo1ZaeW+BJ+D090e4hIIZLBcTDWe4Mh4jvUDajzQ==",
      "dev": true,
      "dependencies": {
        "possible-typed-array-names": "^1.0.0"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/axe-core": {
      "version": "4.10.3",
      "resolved": "https://registry.npmjs.org/axe-core/-/axe-core-4.10.3.tgz",
      "integrity": "sha512-Xm7bpRXnDSX2YE2YFfBk2FnF0ep6tmG7xPh8iHee8MIcrgq762Nkce856dYtJYLkuIoYZvGfTs/PbZhideTcEg==",
      "dev": true,
      "engines": {
        "node": ">=4"
      }
    },
    "node_modules/axobject-query": {
      "version": "4.1.0",
      "resolved": "https://registry.npmjs.org/axobject-query/-/axobject-query-4.1.0.tgz",
      "integrity": "sha512-qIj0G9wZbMGNLjLmg1PT6v2mE9AH2zlnADJD/2tC6E00hgmhUOfEB6greHPAfLRSufHqROIUTkw6E+M3lH0PTQ==",
      "dev": true,
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/balanced-match": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/balanced-match/-/balanced-match-1.0.2.tgz",
      "integrity": "sha512-3oSeUO0TMV67hN1AmbXsK4yaqU7tjiHlbxRDZOpH0KW9+CeX4bRAaX0Anxt0tx2MrpRpWwQaPwIlISEJhYU5Pw==",
      "dev": true
    },
    "node_modules/brace-expansion": {
      "version": "1.1.12",
      "resolved": "https://registry.npmjs.org/brace-expansion/-/brace-expansion-1.1.12.tgz",
      "integrity": "sha512-9T9UjW3r0UW5c1Q7GTwllptXwhvYmEzFhzMfZ9H7FQWt+uZePjZPjBP/W1ZEyZ1twGWom5/56TF4lPcqjnDHcg==",
      "dev": true,
      "dependencies": {
        "balanced-match": "^1.0.0",
        "concat-map": "0.0.1"
      }
    },
    "node_modules/braces": {
      "version": "3.0.3",
      "resolved": "https://registry.npmjs.org/braces/-/braces-3.0.3.tgz",
      "integrity": "sha512-yQbXgO/OSZVD2IsiLlro+7Hf6Q18EJrKSEsdoMzKePKXct3gvD8oLcOQdIzGupr5Fj+EDe8gO/lxc1BzfMpxvA==",
      "dev": true,
      "dependencies": {
        "fill-range": "^7.1.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/buffer-equal-constant-time": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/buffer-equal-constant-time/-/buffer-equal-constant-time-1.0.1.tgz",
      "integrity": "sha512-zRpUiDwd/xk6ADqPMATG8vc9VPrkck7T07OIx0gnjmJAnHnTVXNQG3vfvWNuiZIkwu9KrKdA1iJKfsfTVxE6NA=="
    },
    "node_modules/cac": {
      "version": "6.7.14",
      "resolved": "https://registry.npmjs.org/cac/-/cac-6.7.14.tgz",
      "integrity": "sha512-b6Ilus+c3RrdDk+JhLKUAQfzzgLEPy6wcXqS7f/xe1EETvsDP6GORG7SFuOs6cID5YkqchW/LXZbX5bc8j7ZcQ==",
      "dev": true,
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/call-bind": {
      "version": "1.0.8",
      "resolved": "https://registry.npmjs.org/call-bind/-/call-bind-1.0.8.tgz",
      "integrity": "sha512-oKlSFMcMwpUg2ednkhQ454wfWiU/ul3CkJe/PEHcTKuiX6RpbehUiFMXu13HalGZxfUwCQzZG747YXBn1im9ww==",
      "dev": true,
      "dependencies": {
        "call-bind-apply-helpers": "^1.0.0",
        "es-define-property": "^1.0.0",
        "get-intrinsic": "^1.2.4",
        "set-function-length": "^1.2.2"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/call-bind-apply-helpers": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/call-bind-apply-helpers/-/call-bind-apply-helpers-1.0.2.tgz",
      "integrity": "sha512-Sp1ablJ0ivDkSzjcaJdxEunN5/XvksFJ2sMBFfq6x0ryhQV/2b/KwFe21cMpmHtPOSij8K99/wSfoEuTObmuMQ==",
      "dev": true,
      "dependencies": {
        "es-errors": "^1.3.0",
        "function-bind": "^1.1.2"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/call-bound": {
      "version": "1.0.4",
      "resolved": "https://registry.npmjs.org/call-bound/-/call-bound-1.0.4.tgz",
      "integrity": "sha512-+ys997U96po4Kx/ABpBCqhA9EuxJaQWDQg7295H4hBphv3IZg0boBKuwYpt4YXp6MZ5AmZQnU/tyMTlRpaSejg==",
      "dev": true,
      "dependencies": {
        "call-bind-apply-helpers": "^1.0.2",
        "get-intrinsic": "^1.3.0"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/callsites": {
      "version": "3.1.0",
      "resolved": "https://registry.npmjs.org/callsites/-/callsites-3.1.0.tgz",
      "integrity": "sha512-P8BjAsXvZS+VIDUI11hHCQEv74YT67YUi5JJFNWIqL235sBmjX4+qx9Muvls5ivyNENctx46xQLQ3aTuE7ssaQ==",
      "dev": true,
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/caniuse-lite": {
      "version": "1.0.30001735",
      "resolved": "https://registry.npmjs.org/caniuse-lite/-/caniuse-lite-1.0.30001735.tgz",
      "integrity": "sha512-EV/laoX7Wq2J9TQlyIXRxTJqIw4sxfXS4OYgudGxBYRuTv0q7AM6yMEpU/Vo1I94thg9U6EZ2NfZx9GJq83u7w==",
      "funding": [
        {
          "type": "opencollective",
          "url": "https://opencollective.com/browserslist"
        },
        {
          "type": "tidelift",
          "url": "https://tidelift.com/funding/github/npm/caniuse-lite"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ]
    },
    "node_modules/chai": {
      "version": "5.3.1",
      "resolved": "https://registry.npmjs.org/chai/-/chai-5.3.1.tgz",
      "integrity": "sha512-48af6xm9gQK8rhIcOxWwdGzIervm8BVTin+yRp9HEvU20BtVZ2lBywlIJBzwaDtvo0FvjeL7QdCADoUoqIbV3A==",
      "dev": true,
      "dependencies": {
        "assertion-error": "^2.0.1",
        "check-error": "^2.1.1",
        "deep-eql": "^5.0.1",
        "loupe": "^3.1.0",
        "pathval": "^2.0.0"
      },
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/chalk": {
      "version": "4.1.2",
      "resolved": "https://registry.npmjs.org/chalk/-/chalk-4.1.2.tgz",
      "integrity": "sha512-oKnbhFyRIXpUuez8iBMmyEa4nbj4IOQyuhc/wy9kY7/WVPcwIO9VA668Pu8RkO7+0G76SLROeyw9CpQ061i4mA==",
      "dev": true,
      "dependencies": {
        "ansi-styles": "^4.1.0",
        "supports-color": "^7.1.0"
      },
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/chalk/chalk?sponsor=1"
      }
    },
    "node_modules/check-error": {
      "version": "2.1.1",
      "resolved": "https://registry.npmjs.org/check-error/-/check-error-2.1.1.tgz",
      "integrity": "sha512-OAlb+T7V4Op9OwdkjmguYRqncdlx5JiofwOAUkmTF+jNdHwzTaTs4sRAGpzLF3oOz5xAyDGrPgeIDFQmDOTiJw==",
      "dev": true,
      "engines": {
        "node": ">= 16"
      }
    },
    "node_modules/chownr": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/chownr/-/chownr-3.0.0.tgz",
      "integrity": "sha512-+IxzY9BZOQd/XuYPRmrvEVjF/nqj5kgT4kEq7VofrDoM1MxoRjEWkrCC3EtLi59TVawxTAn+orJwFQcrqEN1+g==",
      "dev": true,
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/class-variance-authority": {
      "version": "0.7.1",
      "resolved": "https://registry.npmjs.org/class-variance-authority/-/class-variance-authority-0.7.1.tgz",
      "integrity": "sha512-Ka+9Trutv7G8M6WT6SeiRWz792K5qEqIGEGzXKhAE6xOWAY6pPH8U+9IY3oCMv6kqTmLsv7Xh/2w2RigkePMsg==",
      "dependencies": {
        "clsx": "^2.1.1"
      },
      "funding": {
        "url": "https://polar.sh/cva"
      }
    },
    "node_modules/client-only": {
      "version": "0.0.1",
      "resolved": "https://registry.npmjs.org/client-only/-/client-only-0.0.1.tgz",
      "integrity": "sha512-IV3Ou0jSMzZrd3pZ48nLkT9DA7Ag1pnPzaiQhpW7c3RbcqqzvzzVu+L8gfqMp/8IM2MQtSiqaCxrrcfu8I8rMA=="
    },
    "node_modules/clsx": {
      "version": "2.1.1",
      "resolved": "https://registry.npmjs.org/clsx/-/clsx-2.1.1.tgz",
      "integrity": "sha512-eYm0QWBtUrBWZWG0d386OGAw16Z995PiOVo2B7bjWSbHedGl5e0ZWaq65kOGgUSNesEIDkB9ISbTg/JK9dhCZA==",
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/cmdk": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/cmdk/-/cmdk-1.1.1.tgz",
      "integrity": "sha512-Vsv7kFaXm+ptHDMZ7izaRsP70GgrW9NBNGswt9OZaVBLlE0SNpDq8eu/VGXyF9r7M0azK3Wy7OlYXsuyYLFzHg==",
      "dependencies": {
        "@radix-ui/react-compose-refs": "^1.1.1",
        "@radix-ui/react-dialog": "^1.1.6",
        "@radix-ui/react-id": "^1.1.0",
        "@radix-ui/react-primitive": "^2.0.2"
      },
      "peerDependencies": {
        "react": "^18 || ^19 || ^19.0.0-rc",
        "react-dom": "^18 || ^19 || ^19.0.0-rc"
      }
    },
    "node_modules/color": {
      "version": "4.2.3",
      "resolved": "https://registry.npmjs.org/color/-/color-4.2.3.tgz",
      "integrity": "sha512-1rXeuUUiGGrykh+CeBdu5Ie7OJwinCgQY0bc7GCRxy5xVHy+moaqkpL/jqQq0MtQOeYcrqEz4abc5f0KtU7W4A==",
      "optional": true,
      "dependencies": {
        "color-convert": "^2.0.1",
        "color-string": "^1.9.0"
      },
      "engines": {
        "node": ">=12.5.0"
      }
    },
    "node_modules/color-convert": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/color-convert/-/color-convert-2.0.1.tgz",
      "integrity": "sha512-RRECPsj7iu/xb5oKYcsFHSppFNnsj/52OVTRKb4zP5onXwVF3zVmmToNcOfGC+CRDpfK/U584fMg38ZHCaElKQ==",
      "devOptional": true,
      "dependencies": {
        "color-name": "~1.1.4"
      },
      "engines": {
        "node": ">=7.0.0"
      }
    },
    "node_modules/color-name": {
      "version": "1.1.4",
      "resolved": "https://registry.npmjs.org/color-name/-/color-name-1.1.4.tgz",
      "integrity": "sha512-dOy+3AuW3a2wNbZHIuMZpTcgjGuLU/uBL/ubcZF9OXbDo8ff4O8yVp5Bf0efS8uEoYo5q4Fx7dY9OgQGXgAsQA==",
      "devOptional": true
    },
    "node_modules/color-string": {
      "version": "1.9.1",
      "resolved": "https://registry.npmjs.org/color-string/-/color-string-1.9.1.tgz",
      "integrity": "sha512-shrVawQFojnZv6xM40anx4CkoDP+fZsw/ZerEMsW/pyzsRbElpsL/DBVW7q3ExxwusdNXI3lXpuhEZkzs8p5Eg==",
      "optional": true,
      "dependencies": {
        "color-name": "^1.0.0",
        "simple-swizzle": "^0.2.2"
      }
    },
    "node_modules/concat-map": {
      "version": "0.0.1",
      "resolved": "https://registry.npmjs.org/concat-map/-/concat-map-0.0.1.tgz",
      "integrity": "sha512-/Srv4dswyQNBfohGpz9o6Yb3Gz3SrUDqBH5rTuhGR7ahtlbYKnVxw2bCFMRljaA7EXHaXZ8wsHdodFvbkhKmqg==",
      "dev": true
    },
    "node_modules/cross-spawn": {
      "version": "7.0.6",
      "resolved": "https://registry.npmjs.org/cross-spawn/-/cross-spawn-7.0.6.tgz",
      "integrity": "sha512-uV2QOWP2nWzsy2aMp8aRibhi9dlzF5Hgh5SHaB9OiTGEyDTiJJyx0uy51QXdyWbtAHNua4XJzUKca3OzKUd3vA==",
      "dev": true,
      "dependencies": {
        "path-key": "^3.1.0",
        "shebang-command": "^2.0.0",
        "which": "^2.0.1"
      },
      "engines": {
        "node": ">= 8"
      }
    },
    "node_modules/cssstyle": {
      "version": "4.6.0",
      "resolved": "https://registry.npmjs.org/cssstyle/-/cssstyle-4.6.0.tgz",
      "integrity": "sha512-2z+rWdzbbSZv6/rhtvzvqeZQHrBaqgogqt85sqFNbabZOuFbCVFb8kPeEtZjiKkbrm395irpNKiYeFeLiQnFPg==",
      "dev": true,
      "dependencies": {
        "@asamuzakjp/css-color": "^3.2.0",
        "rrweb-cssom": "^0.8.0"
      },
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/csstype": {
      "version": "3.1.3",
      "resolved": "https://registry.npmjs.org/csstype/-/csstype-3.1.3.tgz",
      "integrity": "sha512-M1uQkMl8rQK/szD0LNhtqxIPLpimGm8sOBwU7lLnCpSbTyY3yeU1Vc7l4KT5zT4s/yOxHH5O7tIuuLOCnLADRw==",
      "devOptional": true
    },
    "node_modules/damerau-levenshtein": {
      "version": "1.0.8",
      "resolved": "https://registry.npmjs.org/damerau-levenshtein/-/damerau-levenshtein-1.0.8.tgz",
      "integrity": "sha512-sdQSFB7+llfUcQHUQO3+B8ERRj0Oa4w9POWMI/puGtuf7gFywGmkaLCElnudfTiKZV+NvHqL0ifzdrI8Ro7ESA==",
      "dev": true
    },
    "node_modules/data-urls": {
      "version": "5.0.0",
      "resolved": "https://registry.npmjs.org/data-urls/-/data-urls-5.0.0.tgz",
      "integrity": "sha512-ZYP5VBHshaDAiVZxjbRVcFJpc+4xGgT0bK3vzy1HLN8jTO975HEbuYzZJcHoQEY5K1a0z8YayJkyVETa08eNTg==",
      "dev": true,
      "dependencies": {
        "whatwg-mimetype": "^4.0.0",
        "whatwg-url": "^14.0.0"
      },
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/data-view-buffer": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/data-view-buffer/-/data-view-buffer-1.0.2.tgz",
      "integrity": "sha512-EmKO5V3OLXh1rtK2wgXRansaK1/mtVdTUEiEI0W8RkvgT05kfxaH29PliLnpLP73yYO6142Q72QNa8Wx/A5CqQ==",
      "dev": true,
      "dependencies": {
        "call-bound": "^1.0.3",
        "es-errors": "^1.3.0",
        "is-data-view": "^1.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/data-view-byte-length": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/data-view-byte-length/-/data-view-byte-length-1.0.2.tgz",
      "integrity": "sha512-tuhGbE6CfTM9+5ANGf+oQb72Ky/0+s3xKUpHvShfiz2RxMFgFPjsXuRLBVMtvMs15awe45SRb83D6wH4ew6wlQ==",
      "dev": true,
      "dependencies": {
        "call-bound": "^1.0.3",
        "es-errors": "^1.3.0",
        "is-data-view": "^1.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/inspect-js"
      }
    },
    "node_modules/data-view-byte-offset": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/data-view-byte-offset/-/data-view-byte-offset-1.0.1.tgz",
      "integrity": "sha512-BS8PfmtDGnrgYdOonGZQdLZslWIeCGFP9tpan0hi1Co2Zr2NKADsvGYA8XxuG/4UWgJ6Cjtv+YJnB6MM69QGlQ==",
      "dev": true,
      "dependencies": {
        "call-bound": "^1.0.2",
        "es-errors": "^1.3.0",
        "is-data-view": "^1.0.1"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/debug": {
      "version": "4.4.1",
      "resolved": "https://registry.npmjs.org/debug/-/debug-4.4.1.tgz",
      "integrity": "sha512-KcKCqiftBJcZr++7ykoDIEwSa3XWowTfNPo92BYxjXiyYEVrUQh2aLyhxBCwww+heortUFxEJYcRzosstTEBYQ==",
      "dev": true,
      "dependencies": {
        "ms": "^2.1.3"
      },
      "engines": {
        "node": ">=6.0"
      },
      "peerDependenciesMeta": {
        "supports-color": {
          "optional": true
        }
      }
    },
    "node_modules/decimal.js": {
      "version": "10.6.0",
      "resolved": "https://registry.npmjs.org/decimal.js/-/decimal.js-10.6.0.tgz",
      "integrity": "sha512-YpgQiITW3JXGntzdUmyUR1V812Hn8T1YVXhCu+wO3OpS4eU9l4YdD3qjyiKdV6mvV29zapkMeD390UVEf2lkUg==",
      "dev": true
    },
    "node_modules/deep-eql": {
      "version": "5.0.2",
      "resolved": "https://registry.npmjs.org/deep-eql/-/deep-eql-5.0.2.tgz",
      "integrity": "sha512-h5k/5U50IJJFpzfL6nO9jaaumfjO/f2NjK/oYB2Djzm4p9L+3T9qWpZqZ2hAbLPuuYq9wrU08WQyBTL5GbPk5Q==",
      "dev": true,
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/deep-is": {
      "version": "0.1.4",
      "resolved": "https://registry.npmjs.org/deep-is/-/deep-is-0.1.4.tgz",
      "integrity": "sha512-oIPzksmTg4/MriiaYGO+okXDT7ztn/w3Eptv/+gSIdMdKsJo0u4CfYNFJPy+4SKMuCqGw2wxnA+URMg3t8a/bQ==",
      "dev": true
    },
    "node_modules/define-data-property": {
      "version": "1.1.4",
      "resolved": "https://registry.npmjs.org/define-data-property/-/define-data-property-1.1.4.tgz",
      "integrity": "sha512-rBMvIzlpA8v6E+SJZoo++HAYqsLrkg7MSfIinMPFhmkorw7X+dOXVJQs+QT69zGkzMyfDnIMN2Wid1+NbL3T+A==",
      "dev": true,
      "dependencies": {
        "es-define-property": "^1.0.0",
        "es-errors": "^1.3.0",
        "gopd": "^1.0.1"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/define-properties": {
      "version": "1.2.1",
      "resolved": "https://registry.npmjs.org/define-properties/-/define-properties-1.2.1.tgz",
      "integrity": "sha512-8QmQKqEASLd5nx0U1B1okLElbUuuttJ/AnYmRXbbbGDWh6uS208EjD4Xqq/I9wK7u0v6O08XhTWnt5XtEbR6Dg==",
      "dev": true,
      "dependencies": {
        "define-data-property": "^1.0.1",
        "has-property-descriptors": "^1.0.0",
        "object-keys": "^1.1.1"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/detect-libc": {
      "version": "2.0.4",
      "resolved": "https://registry.npmjs.org/detect-libc/-/detect-libc-2.0.4.tgz",
      "integrity": "sha512-3UDv+G9CsCKO1WKMGw9fwq/SWJYbI0c5Y7LU1AXYoDdbhE2AHQ6N6Nb34sG8Fj7T5APy8qXDCKuuIHd1BR0tVA==",
      "devOptional": true,
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/detect-node-es": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/detect-node-es/-/detect-node-es-1.1.0.tgz",
      "integrity": "sha512-ypdmJU/TbBby2Dxibuv7ZLW3Bs1QEmM7nHjEANfohJLvE0XVujisn1qPJcZxg+qDucsr+bP6fLD1rPS3AhJ7EQ=="
    },
    "node_modules/doctrine": {
      "version": "2.1.0",
      "resolved": "https://registry.npmjs.org/doctrine/-/doctrine-2.1.0.tgz",
      "integrity": "sha512-35mSku4ZXK0vfCuHEDAwt55dg2jNajHZ1odvF+8SSr82EsZY4QmXfuWso8oEd8zRhVObSN18aM0CjSdoBX7zIw==",
      "dev": true,
      "dependencies": {
        "esutils": "^2.0.2"
      },
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/dunder-proto": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/dunder-proto/-/dunder-proto-1.0.1.tgz",
      "integrity": "sha512-KIN/nDJBQRcXw0MLVhZE9iQHmG68qAVIBg9CqmUYjmQIhgij9U5MFvrqkUL5FbtyyzZuOeOt0zdeRe4UY7ct+A==",
      "dev": true,
      "dependencies": {
        "call-bind-apply-helpers": "^1.0.1",
        "es-errors": "^1.3.0",
        "gopd": "^1.2.0"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/eastasianwidth": {
      "version": "0.2.0",
      "resolved": "https://registry.npmjs.org/eastasianwidth/-/eastasianwidth-0.2.0.tgz",
      "integrity": "sha512-I88TYZWc9XiYHRQ4/3c5rjjfgkjhLyW2luGIheGERbNQ6OY7yTybanSpDXZa8y7VUP9YmDcYa+eyq4ca7iLqWA==",
      "dev": true
    },
    "node_modules/ecdsa-sig-formatter": {
      "version": "1.0.11",
      "resolved": "https://registry.npmjs.org/ecdsa-sig-formatter/-/ecdsa-sig-formatter-1.0.11.tgz",
      "integrity": "sha512-nagl3RYrbNv6kQkeJIpt6NJZy8twLB/2vtz6yN9Z4vRKHN4/QZJIEbqohALSgwKdnksuY3k5Addp5lg8sVoVcQ==",
      "dependencies": {
        "safe-buffer": "^5.0.1"
      }
    },
    "node_modules/emoji-regex": {
      "version": "9.2.2",
      "resolved": "https://registry.npmjs.org/emoji-regex/-/emoji-regex-9.2.2.tgz",
      "integrity": "sha512-L18DaJsXSUk2+42pv8mLs5jJT2hqFkFE4j21wOmgbUqsZ2hL72NsUU785g9RXgo3s0ZNgVl42TiHp3ZtOv/Vyg==",
      "dev": true
    },
    "node_modules/enhanced-resolve": {
      "version": "5.18.3",
      "resolved": "https://registry.npmjs.org/enhanced-resolve/-/enhanced-resolve-5.18.3.tgz",
      "integrity": "sha512-d4lC8xfavMeBjzGr2vECC3fsGXziXZQyJxD868h2M/mBI3PwAuODxAkLkq5HYuvrPYcUtiLzsTo8U3PgX3Ocww==",
      "dev": true,
      "dependencies": {
        "graceful-fs": "^4.2.4",
        "tapable": "^2.2.0"
      },
      "engines": {
        "node": ">=10.13.0"
      }
    },
    "node_modules/entities": {
      "version": "6.0.1",
      "resolved": "https://registry.npmjs.org/entities/-/entities-6.0.1.tgz",
      "integrity": "sha512-aN97NXWF6AWBTahfVOIrB/NShkzi5H7F9r1s9mD3cDj4Ko5f2qhhVoYMibXF7GlLveb/D2ioWay8lxI97Ven3g==",
      "dev": true,
      "engines": {
        "node": ">=0.12"
      },
      "funding": {
        "url": "https://github.com/fb55/entities?sponsor=1"
      }
    },
    "node_modules/es-abstract": {
      "version": "1.24.0",
      "resolved": "https://registry.npmjs.org/es-abstract/-/es-abstract-1.24.0.tgz",
      "integrity": "sha512-WSzPgsdLtTcQwm4CROfS5ju2Wa1QQcVeT37jFjYzdFz1r9ahadC8B8/a4qxJxM+09F18iumCdRmlr96ZYkQvEg==",
      "dev": true,
      "dependencies": {
        "array-buffer-byte-length": "^1.0.2",
        "arraybuffer.prototype.slice": "^1.0.4",
        "available-typed-arrays": "^1.0.7",
        "call-bind": "^1.0.8",
        "call-bound": "^1.0.4",
        "data-view-buffer": "^1.0.2",
        "data-view-byte-length": "^1.0.2",
        "data-view-byte-offset": "^1.0.1",
        "es-define-property": "^1.0.1",
        "es-errors": "^1.3.0",
        "es-object-atoms": "^1.1.1",
        "es-set-tostringtag": "^2.1.0",
        "es-to-primitive": "^1.3.0",
        "function.prototype.name": "^1.1.8",
        "get-intrinsic": "^1.3.0",
        "get-proto": "^1.0.1",
        "get-symbol-description": "^1.1.0",
        "globalthis": "^1.0.4",
        "gopd": "^1.2.0",
        "has-property-descriptors": "^1.0.2",
        "has-proto": "^1.2.0",
        "has-symbols": "^1.1.0",
        "hasown": "^2.0.2",
        "internal-slot": "^1.1.0",
        "is-array-buffer": "^3.0.5",
        "is-callable": "^1.2.7",
        "is-data-view": "^1.0.2",
        "is-negative-zero": "^2.0.3",
        "is-regex": "^1.2.1",
        "is-set": "^2.0.3",
        "is-shared-array-buffer": "^1.0.4",
        "is-string": "^1.1.1",
        "is-typed-array": "^1.1.15",
        "is-weakref": "^1.1.1",
        "math-intrinsics": "^1.1.0",
        "object-inspect": "^1.13.4",
        "object-keys": "^1.1.1",
        "object.assign": "^4.1.7",
        "own-keys": "^1.0.1",
        "regexp.prototype.flags": "^1.5.4",
        "safe-array-concat": "^1.1.3",
        "safe-push-apply": "^1.0.0",
        "safe-regex-test": "^1.1.0",
        "set-proto": "^1.0.0",
        "stop-iteration-iterator": "^1.1.0",
        "string.prototype.trim": "^1.2.10",
        "string.prototype.trimend": "^1.0.9",
        "string.prototype.trimstart": "^1.0.8",
        "typed-array-buffer": "^1.0.3",
        "typed-array-byte-length": "^1.0.3",
        "typed-array-byte-offset": "^1.0.4",
        "typed-array-length": "^1.0.7",
        "unbox-primitive": "^1.1.0",
        "which-typed-array": "^1.1.19"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/es-define-property": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/es-define-property/-/es-define-property-1.0.1.tgz",
      "integrity": "sha512-e3nRfgfUZ4rNGL232gUgX06QNyyez04KdjFrF+LTRoOXmrOgFKDg4BCdsjW8EnT69eqdYGmRpJwiPVYNrCaW3g==",
      "dev": true,
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/es-errors": {
      "version": "1.3.0",
      "resolved": "https://registry.npmjs.org/es-errors/-/es-errors-1.3.0.tgz",
      "integrity": "sha512-Zf5H2Kxt2xjTvbJvP2ZWLEICxA6j+hAmMzIlypy4xcBg1vKVnx89Wy0GbS+kf5cwCVFFzdCFh2XSCFNULS6csw==",
      "dev": true,
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/es-iterator-helpers": {
      "version": "1.2.1",
      "resolved": "https://registry.npmjs.org/es-iterator-helpers/-/es-iterator-helpers-1.2.1.tgz",
      "integrity": "sha512-uDn+FE1yrDzyC0pCo961B2IHbdM8y/ACZsKD4dG6WqrjV53BADjwa7D+1aom2rsNVfLyDgU/eigvlJGJ08OQ4w==",
      "dev": true,
      "dependencies": {
        "call-bind": "^1.0.8",
        "call-bound": "^1.0.3",
        "define-properties": "^1.2.1",
        "es-abstract": "^1.23.6",
        "es-errors": "^1.3.0",
        "es-set-tostringtag": "^2.0.3",
        "function-bind": "^1.1.2",
        "get-intrinsic": "^1.2.6",
        "globalthis": "^1.0.4",
        "gopd": "^1.2.0",
        "has-property-descriptors": "^1.0.2",
        "has-proto": "^1.2.0",
        "has-symbols": "^1.1.0",
        "internal-slot": "^1.1.0",
        "iterator.prototype": "^1.1.4",
        "safe-array-concat": "^1.1.3"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/es-module-lexer": {
      "version": "1.7.0",
      "resolved": "https://registry.npmjs.org/es-module-lexer/-/es-module-lexer-1.7.0.tgz",
      "integrity": "sha512-jEQoCwk8hyb2AZziIOLhDqpm5+2ww5uIE6lkO/6jcOCusfk6LhMHpXXfBLXTZ7Ydyt0j4VoUQv6uGNYbdW+kBA==",
      "dev": true
    },
    "node_modules/es-object-atoms": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/es-object-atoms/-/es-object-atoms-1.1.1.tgz",
      "integrity": "sha512-FGgH2h8zKNim9ljj7dankFPcICIK9Cp5bm+c2gQSYePhpaG5+esrLODihIorn+Pe6FGJzWhXQotPv73jTaldXA==",
      "dev": true,
      "dependencies": {
        "es-errors": "^1.3.0"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/es-set-tostringtag": {
      "version": "2.1.0",
      "resolved": "https://registry.npmjs.org/es-set-tostringtag/-/es-set-tostringtag-2.1.0.tgz",
      "integrity": "sha512-j6vWzfrGVfyXxge+O0x5sh6cvxAog0a/4Rdd2K36zCMV5eJ+/+tOAngRO8cODMNWbVRdVlmGZQL2YS3yR8bIUA==",
      "dev": true,
      "dependencies": {
        "es-errors": "^1.3.0",
        "get-intrinsic": "^1.2.6",
        "has-tostringtag": "^1.0.2",
        "hasown": "^2.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/es-shim-unscopables": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/es-shim-unscopables/-/es-shim-unscopables-1.1.0.tgz",
      "integrity": "sha512-d9T8ucsEhh8Bi1woXCf+TIKDIROLG5WCkxg8geBCbvk22kzwC5G2OnXVMO6FUsvQlgUUXQ2itephWDLqDzbeCw==",
      "dev": true,
      "dependencies": {
        "hasown": "^2.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/es-to-primitive": {
      "version": "1.3.0",
      "resolved": "https://registry.npmjs.org/es-to-primitive/-/es-to-primitive-1.3.0.tgz",
      "integrity": "sha512-w+5mJ3GuFL+NjVtJlvydShqE1eN3h3PbI7/5LAsYJP/2qtuMXjfL2LpHSRqo4b4eSF5K/DH1JXKUAHSB2UW50g==",
      "dev": true,
      "dependencies": {
        "is-callable": "^1.2.7",
        "is-date-object": "^1.0.5",
        "is-symbol": "^1.0.4"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/esbuild": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/esbuild/-/esbuild-0.25.9.tgz",
      "integrity": "sha512-CRbODhYyQx3qp7ZEwzxOk4JBqmD/seJrzPa/cGjY1VtIn5E09Oi9/dB4JwctnfZ8Q8iT7rioVv5k/FNT/uf54g==",
      "dev": true,
      "hasInstallScript": true,
      "bin": {
        "esbuild": "bin/esbuild"
      },
      "engines": {
        "node": ">=18"
      },
      "optionalDependencies": {
        "@esbuild/aix-ppc64": "0.25.9",
        "@esbuild/android-arm": "0.25.9",
        "@esbuild/android-arm64": "0.25.9",
        "@esbuild/android-x64": "0.25.9",
        "@esbuild/darwin-arm64": "0.25.9",
        "@esbuild/darwin-x64": "0.25.9",
        "@esbuild/freebsd-arm64": "0.25.9",
        "@esbuild/freebsd-x64": "0.25.9",
        "@esbuild/linux-arm": "0.25.9",
        "@esbuild/linux-arm64": "0.25.9",
        "@esbuild/linux-ia32": "0.25.9",
        "@esbuild/linux-loong64": "0.25.9",
        "@esbuild/linux-mips64el": "0.25.9",
        "@esbuild/linux-ppc64": "0.25.9",
        "@esbuild/linux-riscv64": "0.25.9",
        "@esbuild/linux-s390x": "0.25.9",
        "@esbuild/linux-x64": "0.25.9",
        "@esbuild/netbsd-arm64": "0.25.9",
        "@esbuild/netbsd-x64": "0.25.9",
        "@esbuild/openbsd-arm64": "0.25.9",
        "@esbuild/openbsd-x64": "0.25.9",
        "@esbuild/openharmony-arm64": "0.25.9",
        "@esbuild/sunos-x64": "0.25.9",
        "@esbuild/win32-arm64": "0.25.9",
        "@esbuild/win32-ia32": "0.25.9",
        "@esbuild/win32-x64": "0.25.9"
      }
    },
    "node_modules/escape-string-regexp": {
      "version": "4.0.0",
      "resolved": "https://registry.npmjs.org/escape-string-regexp/-/escape-string-regexp-4.0.0.tgz",
      "integrity": "sha512-TtpcNJ3XAzx3Gq8sWRzJaVajRs0uVxA2YAkdb1jm2YkPz4G6egUFAyA3n5vtEIZefPk5Wa4UXbKuS5fKkJWdgA==",
      "dev": true,
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/eslint": {
      "version": "9.33.0",
      "resolved": "https://registry.npmjs.org/eslint/-/eslint-9.33.0.tgz",
      "integrity": "sha512-TS9bTNIryDzStCpJN93aC5VRSW3uTx9sClUn4B87pwiCaJh220otoI0X8mJKr+VcPtniMdN8GKjlwgWGUv5ZKA==",
      "dev": true,
      "dependencies": {
        "@eslint-community/eslint-utils": "^4.2.0",
        "@eslint-community/regexpp": "^4.12.1",
        "@eslint/config-array": "^0.21.0",
        "@eslint/config-helpers": "^0.3.1",
        "@eslint/core": "^0.15.2",
        "@eslint/eslintrc": "^3.3.1",
        "@eslint/js": "9.33.0",
        "@eslint/plugin-kit": "^0.3.5",
        "@humanfs/node": "^0.16.6",
        "@humanwhocodes/module-importer": "^1.0.1",
        "@humanwhocodes/retry": "^0.4.2",
        "@types/estree": "^1.0.6",
        "@types/json-schema": "^7.0.15",
        "ajv": "^6.12.4",
        "chalk": "^4.0.0",
        "cross-spawn": "^7.0.6",
        "debug": "^4.3.2",
        "escape-string-regexp": "^4.0.0",
        "eslint-scope": "^8.4.0",
        "eslint-visitor-keys": "^4.2.1",
        "espree": "^10.4.0",
        "esquery": "^1.5.0",
        "esutils": "^2.0.2",
        "fast-deep-equal": "^3.1.3",
        "file-entry-cache": "^8.0.0",
        "find-up": "^5.0.0",
        "glob-parent": "^6.0.2",
        "ignore": "^5.2.0",
        "imurmurhash": "^0.1.4",
        "is-glob": "^4.0.0",
        "json-stable-stringify-without-jsonify": "^1.0.1",
        "lodash.merge": "^4.6.2",
        "minimatch": "^3.1.2",
        "natural-compare": "^1.4.0",
        "optionator": "^0.9.3"
      },
      "bin": {
        "eslint": "bin/eslint.js"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "url": "https://eslint.org/donate"
      },
      "peerDependencies": {
        "jiti": "*"
      },
      "peerDependenciesMeta": {
        "jiti": {
          "optional": true
        }
      }
    },
    "node_modules/eslint-config-next": {
      "version": "15.4.6",
      "resolved": "https://registry.npmjs.org/eslint-config-next/-/eslint-config-next-15.4.6.tgz",
      "integrity": "sha512-4uznvw5DlTTjrZgYZjMciSdDDMO2SWIuQgUNaFyC2O3Zw3Z91XeIejeVa439yRq2CnJb/KEvE4U2AeN/66FpUA==",
      "dev": true,
      "dependencies": {
        "@next/eslint-plugin-next": "15.4.6",
        "@rushstack/eslint-patch": "^1.10.3",
        "@typescript-eslint/eslint-plugin": "^5.4.2 || ^6.0.0 || ^7.0.0 || ^8.0.0",
        "@typescript-eslint/parser": "^5.4.2 || ^6.0.0 || ^7.0.0 || ^8.0.0",
        "eslint-import-resolver-node": "^0.3.6",
        "eslint-import-resolver-typescript": "^3.5.2",
        "eslint-plugin-import": "^2.31.0",
        "eslint-plugin-jsx-a11y": "^6.10.0",
        "eslint-plugin-react": "^7.37.0",
        "eslint-plugin-react-hooks": "^5.0.0"
      },
      "peerDependencies": {
        "eslint": "^7.23.0 || ^8.0.0 || ^9.0.0",
        "typescript": ">=3.3.1"
      },
      "peerDependenciesMeta": {
        "typescript": {
          "optional": true
        }
      }
    },
    "node_modules/eslint-import-resolver-node": {
      "version": "0.3.9",
      "resolved": "https://registry.npmjs.org/eslint-import-resolver-node/-/eslint-import-resolver-node-0.3.9.tgz",
      "integrity": "sha512-WFj2isz22JahUv+B788TlO3N6zL3nNJGU8CcZbPZvVEkBPaJdCV4vy5wyghty5ROFbCRnm132v8BScu5/1BQ8g==",
      "dev": true,
      "dependencies": {
        "debug": "^3.2.7",
        "is-core-module": "^2.13.0",
        "resolve": "^1.22.4"
      }
    },
    "node_modules/eslint-import-resolver-node/node_modules/debug": {
      "version": "3.2.7",
      "resolved": "https://registry.npmjs.org/debug/-/debug-3.2.7.tgz",
      "integrity": "sha512-CFjzYYAi4ThfiQvizrFQevTTXHtnCqWfe7x1AhgEscTz6ZbLbfoLRLPugTQyBth6f8ZERVUSyWHFD/7Wu4t1XQ==",
      "dev": true,
      "dependencies": {
        "ms": "^2.1.1"
      }
    },
    "node_modules/eslint-import-resolver-typescript": {
      "version": "3.10.1",
      "resolved": "https://registry.npmjs.org/eslint-import-resolver-typescript/-/eslint-import-resolver-typescript-3.10.1.tgz",
      "integrity": "sha512-A1rHYb06zjMGAxdLSkN2fXPBwuSaQ0iO5M/hdyS0Ajj1VBaRp0sPD3dn1FhME3c/JluGFbwSxyCfqdSbtQLAHQ==",
      "dev": true,
      "dependencies": {
        "@nolyfill/is-core-module": "1.0.39",
        "debug": "^4.4.0",
        "get-tsconfig": "^4.10.0",
        "is-bun-module": "^2.0.0",
        "stable-hash": "^0.0.5",
        "tinyglobby": "^0.2.13",
        "unrs-resolver": "^1.6.2"
      },
      "engines": {
        "node": "^14.18.0 || >=16.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/eslint-import-resolver-typescript"
      },
      "peerDependencies": {
        "eslint": "*",
        "eslint-plugin-import": "*",
        "eslint-plugin-import-x": "*"
      },
      "peerDependenciesMeta": {
        "eslint-plugin-import": {
          "optional": true
        },
        "eslint-plugin-import-x": {
          "optional": true
        }
      }
    },
    "node_modules/eslint-module-utils": {
      "version": "2.12.1",
      "resolved": "https://registry.npmjs.org/eslint-module-utils/-/eslint-module-utils-2.12.1.tgz",
      "integrity": "sha512-L8jSWTze7K2mTg0vos/RuLRS5soomksDPoJLXIslC7c8Wmut3bx7CPpJijDcBZtxQ5lrbUdM+s0OlNbz0DCDNw==",
      "dev": true,
      "dependencies": {
        "debug": "^3.2.7"
      },
      "engines": {
        "node": ">=4"
      },
      "peerDependenciesMeta": {
        "eslint": {
          "optional": true
        }
      }
    },
    "node_modules/eslint-module-utils/node_modules/debug": {
      "version": "3.2.7",
      "resolved": "https://registry.npmjs.org/debug/-/debug-3.2.7.tgz",
      "integrity": "sha512-CFjzYYAi4ThfiQvizrFQevTTXHtnCqWfe7x1AhgEscTz6ZbLbfoLRLPugTQyBth6f8ZERVUSyWHFD/7Wu4t1XQ==",
      "dev": true,
      "dependencies": {
        "ms": "^2.1.1"
      }
    },
    "node_modules/eslint-plugin-import": {
      "version": "2.32.0",
      "resolved": "https://registry.npmjs.org/eslint-plugin-import/-/eslint-plugin-import-2.32.0.tgz",
      "integrity": "sha512-whOE1HFo/qJDyX4SnXzP4N6zOWn79WhnCUY/iDR0mPfQZO8wcYE4JClzI2oZrhBnnMUCBCHZhO6VQyoBU95mZA==",
      "dev": true,
      "dependencies": {
        "@rtsao/scc": "^1.1.0",
        "array-includes": "^3.1.9",
        "array.prototype.findlastindex": "^1.2.6",
        "array.prototype.flat": "^1.3.3",
        "array.prototype.flatmap": "^1.3.3",
        "debug": "^3.2.7",
        "doctrine": "^2.1.0",
        "eslint-import-resolver-node": "^0.3.9",
        "eslint-module-utils": "^2.12.1",
        "hasown": "^2.0.2",
        "is-core-module": "^2.16.1",
        "is-glob": "^4.0.3",
        "minimatch": "^3.1.2",
        "object.fromentries": "^2.0.8",
        "object.groupby": "^1.0.3",
        "object.values": "^1.2.1",
        "semver": "^6.3.1",
        "string.prototype.trimend": "^1.0.9",
        "tsconfig-paths": "^3.15.0"
      },
      "engines": {
        "node": ">=4"
      },
      "peerDependencies": {
        "eslint": "^2 || ^3 || ^4 || ^5 || ^6 || ^7.2.0 || ^8 || ^9"
      }
    },
    "node_modules/eslint-plugin-import/node_modules/debug": {
      "version": "3.2.7",
      "resolved": "https://registry.npmjs.org/debug/-/debug-3.2.7.tgz",
      "integrity": "sha512-CFjzYYAi4ThfiQvizrFQevTTXHtnCqWfe7x1AhgEscTz6ZbLbfoLRLPugTQyBth6f8ZERVUSyWHFD/7Wu4t1XQ==",
      "dev": true,
      "dependencies": {
        "ms": "^2.1.1"
      }
    },
    "node_modules/eslint-plugin-import/node_modules/semver": {
      "version": "6.3.1",
      "resolved": "https://registry.npmjs.org/semver/-/semver-6.3.1.tgz",
      "integrity": "sha512-BR7VvDCVHO+q2xBEWskxS6DJE1qRnb7DxzUrogb71CWoSficBxYsiAGd+Kl0mmq/MprG9yArRkyrQxTO6XjMzA==",
      "dev": true,
      "bin": {
        "semver": "bin/semver.js"
      }
    },
    "node_modules/eslint-plugin-jsx-a11y": {
      "version": "6.10.2",
      "resolved": "https://registry.npmjs.org/eslint-plugin-jsx-a11y/-/eslint-plugin-jsx-a11y-6.10.2.tgz",
      "integrity": "sha512-scB3nz4WmG75pV8+3eRUQOHZlNSUhFNq37xnpgRkCCELU3XMvXAxLk1eqWWyE22Ki4Q01Fnsw9BA3cJHDPgn2Q==",
      "dev": true,
      "dependencies": {
        "aria-query": "^5.3.2",
        "array-includes": "^3.1.8",
        "array.prototype.flatmap": "^1.3.2",
        "ast-types-flow": "^0.0.8",
        "axe-core": "^4.10.0",
        "axobject-query": "^4.1.0",
        "damerau-levenshtein": "^1.0.8",
        "emoji-regex": "^9.2.2",
        "hasown": "^2.0.2",
        "jsx-ast-utils": "^3.3.5",
        "language-tags": "^1.0.9",
        "minimatch": "^3.1.2",
        "object.fromentries": "^2.0.8",
        "safe-regex-test": "^1.0.3",
        "string.prototype.includes": "^2.0.1"
      },
      "engines": {
        "node": ">=4.0"
      },
      "peerDependencies": {
        "eslint": "^3 || ^4 || ^5 || ^6 || ^7 || ^8 || ^9"
      }
    },
    "node_modules/eslint-plugin-react": {
      "version": "7.37.5",
      "resolved": "https://registry.npmjs.org/eslint-plugin-react/-/eslint-plugin-react-7.37.5.tgz",
      "integrity": "sha512-Qteup0SqU15kdocexFNAJMvCJEfa2xUKNV4CC1xsVMrIIqEy3SQ/rqyxCWNzfrd3/ldy6HMlD2e0JDVpDg2qIA==",
      "dev": true,
      "dependencies": {
        "array-includes": "^3.1.8",
        "array.prototype.findlast": "^1.2.5",
        "array.prototype.flatmap": "^1.3.3",
        "array.prototype.tosorted": "^1.1.4",
        "doctrine": "^2.1.0",
        "es-iterator-helpers": "^1.2.1",
        "estraverse": "^5.3.0",
        "hasown": "^2.0.2",
        "jsx-ast-utils": "^2.4.1 || ^3.0.0",
        "minimatch": "^3.1.2",
        "object.entries": "^1.1.9",
        "object.fromentries": "^2.0.8",
        "object.values": "^1.2.1",
        "prop-types": "^15.8.1",
        "resolve": "^2.0.0-next.5",
        "semver": "^6.3.1",
        "string.prototype.matchall": "^4.0.12",
        "string.prototype.repeat": "^1.0.0"
      },
      "engines": {
        "node": ">=4"
      },
      "peerDependencies": {
        "eslint": "^3 || ^4 || ^5 || ^6 || ^7 || ^8 || ^9.7"
      }
    },
    "node_modules/eslint-plugin-react-hooks": {
      "version": "5.2.0",
      "resolved": "https://registry.npmjs.org/eslint-plugin-react-hooks/-/eslint-plugin-react-hooks-5.2.0.tgz",
      "integrity": "sha512-+f15FfK64YQwZdJNELETdn5ibXEUQmW1DZL6KXhNnc2heoy/sg9VJJeT7n8TlMWouzWqSWavFkIhHyIbIAEapg==",
      "dev": true,
      "engines": {
        "node": ">=10"
      },
      "peerDependencies": {
        "eslint": "^3.0.0 || ^4.0.0 || ^5.0.0 || ^6.0.0 || ^7.0.0 || ^8.0.0-0 || ^9.0.0"
      }
    },
    "node_modules/eslint-plugin-react/node_modules/resolve": {
      "version": "2.0.0-next.5",
      "resolved": "https://registry.npmjs.org/resolve/-/resolve-2.0.0-next.5.tgz",
      "integrity": "sha512-U7WjGVG9sH8tvjW5SmGbQuui75FiyjAX72HX15DwBBwF9dNiQZRQAg9nnPhYy+TUnE0+VcrttuvNI8oSxZcocA==",
      "dev": true,
      "dependencies": {
        "is-core-module": "^2.13.0",
        "path-parse": "^1.0.7",
        "supports-preserve-symlinks-flag": "^1.0.0"
      },
      "bin": {
        "resolve": "bin/resolve"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/eslint-plugin-react/node_modules/semver": {
      "version": "6.3.1",
      "resolved": "https://registry.npmjs.org/semver/-/semver-6.3.1.tgz",
      "integrity": "sha512-BR7VvDCVHO+q2xBEWskxS6DJE1qRnb7DxzUrogb71CWoSficBxYsiAGd+Kl0mmq/MprG9yArRkyrQxTO6XjMzA==",
      "dev": true,
      "bin": {
        "semver": "bin/semver.js"
      }
    },
    "node_modules/eslint-scope": {
      "version": "8.4.0",
      "resolved": "https://registry.npmjs.org/eslint-scope/-/eslint-scope-8.4.0.tgz",
      "integrity": "sha512-sNXOfKCn74rt8RICKMvJS7XKV/Xk9kA7DyJr8mJik3S7Cwgy3qlkkmyS2uQB3jiJg6VNdZd/pDBJu0nvG2NlTg==",
      "dev": true,
      "dependencies": {
        "esrecurse": "^4.3.0",
        "estraverse": "^5.2.0"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "url": "https://opencollective.com/eslint"
      }
    },
    "node_modules/eslint-visitor-keys": {
      "version": "4.2.1",
      "resolved": "https://registry.npmjs.org/eslint-visitor-keys/-/eslint-visitor-keys-4.2.1.tgz",
      "integrity": "sha512-Uhdk5sfqcee/9H/rCOJikYz67o0a2Tw2hGRPOG2Y1R2dg7brRe1uG0yaNQDHu+TO/uQPF/5eCapvYSmHUjt7JQ==",
      "dev": true,
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "url": "https://opencollective.com/eslint"
      }
    },
    "node_modules/espree": {
      "version": "10.4.0",
      "resolved": "https://registry.npmjs.org/espree/-/espree-10.4.0.tgz",
      "integrity": "sha512-j6PAQ2uUr79PZhBjP5C5fhl8e39FmRnOjsD5lGnWrFU8i2G776tBK7+nP8KuQUTTyAZUwfQqXAgrVH5MbH9CYQ==",
      "dev": true,
      "dependencies": {
        "acorn": "^8.15.0",
        "acorn-jsx": "^5.3.2",
        "eslint-visitor-keys": "^4.2.1"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "url": "https://opencollective.com/eslint"
      }
    },
    "node_modules/esquery": {
      "version": "1.6.0",
      "resolved": "https://registry.npmjs.org/esquery/-/esquery-1.6.0.tgz",
      "integrity": "sha512-ca9pw9fomFcKPvFLXhBKUK90ZvGibiGOvRJNbjljY7s7uq/5YO4BOzcYtJqExdx99rF6aAcnRxHmcUHcz6sQsg==",
      "dev": true,
      "dependencies": {
        "estraverse": "^5.1.0"
      },
      "engines": {
        "node": ">=0.10"
      }
    },
    "node_modules/esrecurse": {
      "version": "4.3.0",
      "resolved": "https://registry.npmjs.org/esrecurse/-/esrecurse-4.3.0.tgz",
      "integrity": "sha512-KmfKL3b6G+RXvP8N1vr3Tq1kL/oCFgn2NYXEtqP8/L3pKapUA4G8cFVaoF3SU323CD4XypR/ffioHmkti6/Tag==",
      "dev": true,
      "dependencies": {
        "estraverse": "^5.2.0"
      },
      "engines": {
        "node": ">=4.0"
      }
    },
    "node_modules/estraverse": {
      "version": "5.3.0",
      "resolved": "https://registry.npmjs.org/estraverse/-/estraverse-5.3.0.tgz",
      "integrity": "sha512-MMdARuVEQziNTeJD8DgMqmhwR11BRQ/cBP+pLtYdSTnf3MIO8fFeiINEbX36ZdNlfU/7A9f3gUw49B3oQsvwBA==",
      "dev": true,
      "engines": {
        "node": ">=4.0"
      }
    },
    "node_modules/estree-walker": {
      "version": "3.0.3",
      "resolved": "https://registry.npmjs.org/estree-walker/-/estree-walker-3.0.3.tgz",
      "integrity": "sha512-7RUKfXgSMMkzt6ZuXmqapOurLGPPfgj6l9uRZ7lRGolvk0y2yocc35LdcxKC5PQZdn2DMqioAQ2NoWcrTKmm6g==",
      "dev": true,
      "dependencies": {
        "@types/estree": "^1.0.0"
      }
    },
    "node_modules/esutils": {
      "version": "2.0.3",
      "resolved": "https://registry.npmjs.org/esutils/-/esutils-2.0.3.tgz",
      "integrity": "sha512-kVscqXk4OCp68SZ0dkgEKVi6/8ij300KBWTJq32P/dYeWTSwK41WyTxalN1eRmA5Z9UU/LX9D7FWSmV9SAYx6g==",
      "dev": true,
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/expect-type": {
      "version": "1.2.2",
      "resolved": "https://registry.npmjs.org/expect-type/-/expect-type-1.2.2.tgz",
      "integrity": "sha512-JhFGDVJ7tmDJItKhYgJCGLOWjuK9vPxiXoUFLwLDc99NlmklilbiQJwoctZtt13+xMw91MCk/REan6MWHqDjyA==",
      "dev": true,
      "engines": {
        "node": ">=12.0.0"
      }
    },
    "node_modules/fast-deep-equal": {
      "version": "3.1.3",
      "resolved": "https://registry.npmjs.org/fast-deep-equal/-/fast-deep-equal-3.1.3.tgz",
      "integrity": "sha512-f3qQ9oQy9j2AhBe/H9VC91wLmKBCCU/gDOnKNAYG5hswO7BLKj09Hc5HYNz9cGI++xlpDCIgDaitVs03ATR84Q==",
      "dev": true
    },
    "node_modules/fast-glob": {
      "version": "3.3.1",
      "resolved": "https://registry.npmjs.org/fast-glob/-/fast-glob-3.3.1.tgz",
      "integrity": "sha512-kNFPyjhh5cKjrUltxs+wFx+ZkbRaxxmZ+X0ZU31SOsxCEtP9VPgtq2teZw1DebupL5GmDaNQ6yKMMVcM41iqDg==",
      "dev": true,
      "dependencies": {
        "@nodelib/fs.stat": "^2.0.2",
        "@nodelib/fs.walk": "^1.2.3",
        "glob-parent": "^5.1.2",
        "merge2": "^1.3.0",
        "micromatch": "^4.0.4"
      },
      "engines": {
        "node": ">=8.6.0"
      }
    },
    "node_modules/fast-glob/node_modules/glob-parent": {
      "version": "5.1.2",
      "resolved": "https://registry.npmjs.org/glob-parent/-/glob-parent-5.1.2.tgz",
      "integrity": "sha512-AOIgSQCepiJYwP3ARnGx+5VnTu2HBYdzbGP45eLw1vr3zB3vZLeyed1sC9hnbcOc9/SrMyM5RPQrkGz4aS9Zow==",
      "dev": true,
      "dependencies": {
        "is-glob": "^4.0.1"
      },
      "engines": {
        "node": ">= 6"
      }
    },
    "node_modules/fast-json-stable-stringify": {
      "version": "2.1.0",
      "resolved": "https://registry.npmjs.org/fast-json-stable-stringify/-/fast-json-stable-stringify-2.1.0.tgz",
      "integrity": "sha512-lhd/wF+Lk98HZoTCtlVraHtfh5XYijIjalXck7saUtuanSDyLMxnHhSXEDJqHxD7msR8D0uCmqlkwjCV8xvwHw==",
      "dev": true
    },
    "node_modules/fast-levenshtein": {
      "version": "2.0.6",
      "resolved": "https://registry.npmjs.org/fast-levenshtein/-/fast-levenshtein-2.0.6.tgz",
      "integrity": "sha512-DCXu6Ifhqcks7TZKY3Hxp3y6qphY5SJZmrWMDrKcERSOXWQdMhU9Ig/PYrzyw/ul9jOIyh0N4M0tbC5hodg8dw==",
      "dev": true
    },
    "node_modules/fastq": {
      "version": "1.19.1",
      "resolved": "https://registry.npmjs.org/fastq/-/fastq-1.19.1.tgz",
      "integrity": "sha512-GwLTyxkCXjXbxqIhTsMI2Nui8huMPtnxg7krajPJAjnEG/iiOS7i+zCtWGZR9G0NBKbXKh6X9m9UIsYX/N6vvQ==",
      "dev": true,
      "dependencies": {
        "reusify": "^1.0.4"
      }
    },
    "node_modules/file-entry-cache": {
      "version": "8.0.0",
      "resolved": "https://registry.npmjs.org/file-entry-cache/-/file-entry-cache-8.0.0.tgz",
      "integrity": "sha512-XXTUwCvisa5oacNGRP9SfNtYBNAMi+RPwBFmblZEF7N7swHYQS6/Zfk7SRwx4D5j3CH211YNRco1DEMNVfZCnQ==",
      "dev": true,
      "dependencies": {
        "flat-cache": "^4.0.0"
      },
      "engines": {
        "node": ">=16.0.0"
      }
    },
    "node_modules/fill-range": {
      "version": "7.1.1",
      "resolved": "https://registry.npmjs.org/fill-range/-/fill-range-7.1.1.tgz",
      "integrity": "sha512-YsGpe3WHLK8ZYi4tWDg2Jy3ebRz2rXowDxnld4bkQB00cc/1Zw9AWnC0i9ztDJitivtQvaI9KaLyKrc+hBW0yg==",
      "dev": true,
      "dependencies": {
        "to-regex-range": "^5.0.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/find-up": {
      "version": "5.0.0",
      "resolved": "https://registry.npmjs.org/find-up/-/find-up-5.0.0.tgz",
      "integrity": "sha512-78/PXT1wlLLDgTzDs7sjq9hzz0vXD+zn+7wypEe4fXQxCmdmqfGsEPQxmiCSQI3ajFV91bVSsvNtrJRiW6nGng==",
      "dev": true,
      "dependencies": {
        "locate-path": "^6.0.0",
        "path-exists": "^4.0.0"
      },
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/flat-cache": {
      "version": "4.0.1",
      "resolved": "https://registry.npmjs.org/flat-cache/-/flat-cache-4.0.1.tgz",
      "integrity": "sha512-f7ccFPK3SXFHpx15UIGyRJ/FJQctuKZ0zVuN3frBo4HnK3cay9VEW0R6yPYFHC0AgqhukPzKjq22t5DmAyqGyw==",
      "dev": true,
      "dependencies": {
        "flatted": "^3.2.9",
        "keyv": "^4.5.4"
      },
      "engines": {
        "node": ">=16"
      }
    },
    "node_modules/flatted": {
      "version": "3.3.3",
      "resolved": "https://registry.npmjs.org/flatted/-/flatted-3.3.3.tgz",
      "integrity": "sha512-GX+ysw4PBCz0PzosHDepZGANEuFCMLrnRTiEy9McGjmkCQYwRq4A/X786G/fjM/+OjsWSU1ZrY5qyARZmO/uwg==",
      "dev": true
    },
    "node_modules/for-each": {
      "version": "0.3.5",
      "resolved": "https://registry.npmjs.org/for-each/-/for-each-0.3.5.tgz",
      "integrity": "sha512-dKx12eRCVIzqCxFGplyFKJMPvLEWgmNtUrpTiJIR5u97zEhRG8ySrtboPHZXx7daLxQVrl643cTzbab2tkQjxg==",
      "dev": true,
      "dependencies": {
        "is-callable": "^1.2.7"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/foreground-child": {
      "version": "3.3.1",
      "resolved": "https://registry.npmjs.org/foreground-child/-/foreground-child-3.3.1.tgz",
      "integrity": "sha512-gIXjKqtFuWEgzFRJA9WCQeSJLZDjgJUOMCMzxtvFq/37KojM1BFGufqsCy0r4qSQmYLsZYMeyRqzIWOMup03sw==",
      "dev": true,
      "dependencies": {
        "cross-spawn": "^7.0.6",
        "signal-exit": "^4.0.1"
      },
      "engines": {
        "node": ">=14"
      },
      "funding": {
        "url": "https://github.com/sponsors/isaacs"
      }
    },
    "node_modules/fsevents": {
      "version": "2.3.3",
      "resolved": "https://registry.npmjs.org/fsevents/-/fsevents-2.3.3.tgz",
      "integrity": "sha512-5xoDfX+fL7faATnagmWPpbFtwh/R77WmMMqqHGS65C3vvB0YHrgF+B1YmZ3441tMj5n63k0212XNoJwzlhffQw==",
      "dev": true,
      "hasInstallScript": true,
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": "^8.16.0 || ^10.6.0 || >=11.0.0"
      }
    },
    "node_modules/function-bind": {
      "version": "1.1.2",
      "resolved": "https://registry.npmjs.org/function-bind/-/function-bind-1.1.2.tgz",
      "integrity": "sha512-7XHNxH7qX9xG5mIwxkhumTox/MIRNcOgDrxWsMt2pAr23WHp6MrRlN7FBSFpCpr+oVO0F744iUgR82nJMfG2SA==",
      "dev": true,
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/function.prototype.name": {
      "version": "1.1.8",
      "resolved": "https://registry.npmjs.org/function.prototype.name/-/function.prototype.name-1.1.8.tgz",
      "integrity": "sha512-e5iwyodOHhbMr/yNrc7fDYG4qlbIvI5gajyzPnb5TCwyhjApznQh1BMFou9b30SevY43gCJKXycoCBjMbsuW0Q==",
      "dev": true,
      "dependencies": {
        "call-bind": "^1.0.8",
        "call-bound": "^1.0.3",
        "define-properties": "^1.2.1",
        "functions-have-names": "^1.2.3",
        "hasown": "^2.0.2",
        "is-callable": "^1.2.7"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/functions-have-names": {
      "version": "1.2.3",
      "resolved": "https://registry.npmjs.org/functions-have-names/-/functions-have-names-1.2.3.tgz",
      "integrity": "sha512-xckBUXyTIqT97tq2x2AMb+g163b5JFysYk0x4qxNFwbfQkmNZoiRHb6sPzI9/QV33WeuvVYBUIiD4NzNIyqaRQ==",
      "dev": true,
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/get-intrinsic": {
      "version": "1.3.0",
      "resolved": "https://registry.npmjs.org/get-intrinsic/-/get-intrinsic-1.3.0.tgz",
      "integrity": "sha512-9fSjSaos/fRIVIp+xSJlE6lfwhES7LNtKaCBIamHsjr2na1BiABJPo0mOjjz8GJDURarmCPGqaiVg5mfjb98CQ==",
      "dev": true,
      "dependencies": {
        "call-bind-apply-helpers": "^1.0.2",
        "es-define-property": "^1.0.1",
        "es-errors": "^1.3.0",
        "es-object-atoms": "^1.1.1",
        "function-bind": "^1.1.2",
        "get-proto": "^1.0.1",
        "gopd": "^1.2.0",
        "has-symbols": "^1.1.0",
        "hasown": "^2.0.2",
        "math-intrinsics": "^1.1.0"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/get-nonce": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/get-nonce/-/get-nonce-1.0.1.tgz",
      "integrity": "sha512-FJhYRoDaiatfEkUK8HKlicmu/3SGFD51q3itKDGoSTysQJBnfOcxU5GxnhE1E6soB76MbT0MBtnKJuXyAx+96Q==",
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/get-proto": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/get-proto/-/get-proto-1.0.1.tgz",
      "integrity": "sha512-sTSfBjoXBp89JvIKIefqw7U2CCebsc74kiY6awiGogKtoSGbgjYE/G/+l9sF3MWFPNc9IcoOC4ODfKHfxFmp0g==",
      "dev": true,
      "dependencies": {
        "dunder-proto": "^1.0.1",
        "es-object-atoms": "^1.0.0"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/get-symbol-description": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/get-symbol-description/-/get-symbol-description-1.1.0.tgz",
      "integrity": "sha512-w9UMqWwJxHNOvoNzSJ2oPF5wvYcvP7jUvYzhp67yEhTi17ZDBBC1z9pTdGuzjD+EFIqLSYRweZjqfiPzQ06Ebg==",
      "dev": true,
      "dependencies": {
        "call-bound": "^1.0.3",
        "es-errors": "^1.3.0",
        "get-intrinsic": "^1.2.6"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/get-tsconfig": {
      "version": "4.10.1",
      "resolved": "https://registry.npmjs.org/get-tsconfig/-/get-tsconfig-4.10.1.tgz",
      "integrity": "sha512-auHyJ4AgMz7vgS8Hp3N6HXSmlMdUyhSUrfBF16w153rxtLIEOE+HGqaBppczZvnHLqQJfiHotCYpNhl0lUROFQ==",
      "dev": true,
      "dependencies": {
        "resolve-pkg-maps": "^1.0.0"
      },
      "funding": {
        "url": "https://github.com/privatenumber/get-tsconfig?sponsor=1"
      }
    },
    "node_modules/glob": {
      "version": "10.4.5",
      "resolved": "https://registry.npmjs.org/glob/-/glob-10.4.5.tgz",
      "integrity": "sha512-7Bv8RF0k6xjo7d4A/PxYLbUCfb6c+Vpd2/mB2yRDlew7Jb5hEXiCD9ibfO7wpk8i4sevK6DFny9h7EYbM3/sHg==",
      "dev": true,
      "dependencies": {
        "foreground-child": "^3.1.0",
        "jackspeak": "^3.1.2",
        "minimatch": "^9.0.4",
        "minipass": "^7.1.2",
        "package-json-from-dist": "^1.0.0",
        "path-scurry": "^1.11.1"
      },
      "bin": {
        "glob": "dist/esm/bin.mjs"
      },
      "funding": {
        "url": "https://github.com/sponsors/isaacs"
      }
    },
    "node_modules/glob-parent": {
      "version": "6.0.2",
      "resolved": "https://registry.npmjs.org/glob-parent/-/glob-parent-6.0.2.tgz",
      "integrity": "sha512-XxwI8EOhVQgWp6iDL+3b0r86f4d6AX6zSU55HfB4ydCEuXLXc5FcYeOu+nnGftS4TEju/11rt4KJPTMgbfmv4A==",
      "dev": true,
      "dependencies": {
        "is-glob": "^4.0.3"
      },
      "engines": {
        "node": ">=10.13.0"
      }
    },
    "node_modules/glob/node_modules/brace-expansion": {
      "version": "2.0.2",
      "resolved": "https://registry.npmjs.org/brace-expansion/-/brace-expansion-2.0.2.tgz",
      "integrity": "sha512-Jt0vHyM+jmUBqojB7E1NIYadt0vI0Qxjxd2TErW94wDz+E2LAm5vKMXXwg6ZZBTHPuUlDgQHKXvjGBdfcF1ZDQ==",
      "dev": true,
      "dependencies": {
        "balanced-match": "^1.0.0"
      }
    },
    "node_modules/glob/node_modules/minimatch": {
      "version": "9.0.5",
      "resolved": "https://registry.npmjs.org/minimatch/-/minimatch-9.0.5.tgz",
      "integrity": "sha512-G6T0ZX48xgozx7587koeX9Ys2NYy6Gmv//P89sEte9V9whIapMNF4idKxnW2QtCcLiTWlb/wfCabAtAFWhhBow==",
      "dev": true,
      "dependencies": {
        "brace-expansion": "^2.0.1"
      },
      "engines": {
        "node": ">=16 || 14 >=14.17"
      },
      "funding": {
        "url": "https://github.com/sponsors/isaacs"
      }
    },
    "node_modules/globals": {
      "version": "14.0.0",
      "resolved": "https://registry.npmjs.org/globals/-/globals-14.0.0.tgz",
      "integrity": "sha512-oahGvuMGQlPw/ivIYBjVSrWAfWLBeku5tpPE2fOPLi+WHffIWbuh2tCjhyQhTBPMf5E9jDEH4FOmTYgYwbKwtQ==",
      "dev": true,
      "engines": {
        "node": ">=18"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/globalthis": {
      "version": "1.0.4",
      "resolved": "https://registry.npmjs.org/globalthis/-/globalthis-1.0.4.tgz",
      "integrity": "sha512-DpLKbNU4WylpxJykQujfCcwYWiV/Jhm50Goo0wrVILAv5jOr9d+H+UR3PhSCD2rCCEIg0uc+G+muBTwD54JhDQ==",
      "dev": true,
      "dependencies": {
        "define-properties": "^1.2.1",
        "gopd": "^1.0.1"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/gopd": {
      "version": "1.2.0",
      "resolved": "https://registry.npmjs.org/gopd/-/gopd-1.2.0.tgz",
      "integrity": "sha512-ZUKRh6/kUFoAiTAtTYPZJ3hw9wNxx+BIBOijnlG9PnrJsCcSjs1wyyD6vJpaYtgnzDrKYRSqf3OO6Rfa93xsRg==",
      "dev": true,
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/graceful-fs": {
      "version": "4.2.11",
      "resolved": "https://registry.npmjs.org/graceful-fs/-/graceful-fs-4.2.11.tgz",
      "integrity": "sha512-RbJ5/jmFcNNCcDV5o9eTnBLJ/HszWV0P73bc+Ff4nS/rJj+YaS6IGyiOL0VoBYX+l1Wrl3k63h/KrH+nhJ0XvQ==",
      "dev": true
    },
    "node_modules/graphemer": {
      "version": "1.4.0",
      "resolved": "https://registry.npmjs.org/graphemer/-/graphemer-1.4.0.tgz",
      "integrity": "sha512-EtKwoO6kxCL9WO5xipiHTZlSzBm7WLT627TqC/uVRd0HKmq8NXyebnNYxDoBi7wt8eTWrUrKXCOVaFq9x1kgag==",
      "dev": true
    },
    "node_modules/has-bigints": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/has-bigints/-/has-bigints-1.1.0.tgz",
      "integrity": "sha512-R3pbpkcIqv2Pm3dUwgjclDRVmWpTJW2DcMzcIhEXEx1oh/CEMObMm3KLmRJOdvhM7o4uQBnwr8pzRK2sJWIqfg==",
      "dev": true,
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/has-flag": {
      "version": "4.0.0",
      "resolved": "https://registry.npmjs.org/has-flag/-/has-flag-4.0.0.tgz",
      "integrity": "sha512-EykJT/Q1KjTWctppgIAgfSO0tKVuZUjhgMr17kqTumMl6Afv3EISleU7qZUzoXDFTAHTDC4NOoG/ZxU3EvlMPQ==",
      "dev": true,
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/has-property-descriptors": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/has-property-descriptors/-/has-property-descriptors-1.0.2.tgz",
      "integrity": "sha512-55JNKuIW+vq4Ke1BjOTjM2YctQIvCT7GFzHwmfZPGo5wnrgkid0YQtnAleFSqumZm4az3n2BS+erby5ipJdgrg==",
      "dev": true,
      "dependencies": {
        "es-define-property": "^1.0.0"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/has-proto": {
      "version": "1.2.0",
      "resolved": "https://registry.npmjs.org/has-proto/-/has-proto-1.2.0.tgz",
      "integrity": "sha512-KIL7eQPfHQRC8+XluaIw7BHUwwqL19bQn4hzNgdr+1wXoU0KKj6rufu47lhY7KbJR2C6T6+PfyN0Ea7wkSS+qQ==",
      "dev": true,
      "dependencies": {
        "dunder-proto": "^1.0.0"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/has-symbols": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/has-symbols/-/has-symbols-1.1.0.tgz",
      "integrity": "sha512-1cDNdwJ2Jaohmb3sg4OmKaMBwuC48sYni5HUw2DvsC8LjGTLK9h+eb1X6RyuOHe4hT0ULCW68iomhjUoKUqlPQ==",
      "dev": true,
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/has-tostringtag": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/has-tostringtag/-/has-tostringtag-1.0.2.tgz",
      "integrity": "sha512-NqADB8VjPFLM2V0VvHUewwwsw0ZWBaIdgo+ieHtK3hasLz4qeCRjYcqfB6AQrBggRKppKF8L52/VqdVsO47Dlw==",
      "dev": true,
      "dependencies": {
        "has-symbols": "^1.0.3"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/hasown": {
      "version": "2.0.2",
      "resolved": "https://registry.npmjs.org/hasown/-/hasown-2.0.2.tgz",
      "integrity": "sha512-0hJU9SCPvmMzIBdZFqNPXWa6dqh7WdH0cII9y+CyS8rG3nL48Bclra9HmKhVVUHyPWNH5Y7xDwAB7bfgSjkUMQ==",
      "dev": true,
      "dependencies": {
        "function-bind": "^1.1.2"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/html-encoding-sniffer": {
      "version": "4.0.0",
      "resolved": "https://registry.npmjs.org/html-encoding-sniffer/-/html-encoding-sniffer-4.0.0.tgz",
      "integrity": "sha512-Y22oTqIU4uuPgEemfz7NDJz6OeKf12Lsu+QC+s3BVpda64lTiMYCyGwg5ki4vFxkMwQdeZDl2adZoqUgdFuTgQ==",
      "dev": true,
      "dependencies": {
        "whatwg-encoding": "^3.1.1"
      },
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/html-escaper": {
      "version": "2.0.2",
      "resolved": "https://registry.npmjs.org/html-escaper/-/html-escaper-2.0.2.tgz",
      "integrity": "sha512-H2iMtd0I4Mt5eYiapRdIDjp+XzelXQ0tFE4JS7YFwFevXXMmOp9myNrUvCg0D6ws8iqkRPBfKHgbwig1SmlLfg==",
      "dev": true
    },
    "node_modules/http-proxy-agent": {
      "version": "7.0.2",
      "resolved": "https://registry.npmjs.org/http-proxy-agent/-/http-proxy-agent-7.0.2.tgz",
      "integrity": "sha512-T1gkAiYYDWYx3V5Bmyu7HcfcvL7mUrTWiM6yOfa3PIphViJ/gFPbvidQ+veqSOHci/PxBcDabeUNCzpOODJZig==",
      "dev": true,
      "dependencies": {
        "agent-base": "^7.1.0",
        "debug": "^4.3.4"
      },
      "engines": {
        "node": ">= 14"
      }
    },
    "node_modules/https-proxy-agent": {
      "version": "7.0.6",
      "resolved": "https://registry.npmjs.org/https-proxy-agent/-/https-proxy-agent-7.0.6.tgz",
      "integrity": "sha512-vK9P5/iUfdl95AI+JVyUuIcVtd4ofvtrOr3HNtM2yxC9bnMbEdp3x01OhQNnjb8IJYi38VlTE3mBXwcfvywuSw==",
      "dev": true,
      "dependencies": {
        "agent-base": "^7.1.2",
        "debug": "4"
      },
      "engines": {
        "node": ">= 14"
      }
    },
    "node_modules/iconv-lite": {
      "version": "0.6.3",
      "resolved": "https://registry.npmjs.org/iconv-lite/-/iconv-lite-0.6.3.tgz",
      "integrity": "sha512-4fCk79wshMdzMp2rH06qWrJE4iolqLhCUH+OiuIgU++RB0+94NlDL81atO7GX55uUKueo0txHNtvEyI6D7WdMw==",
      "dev": true,
      "dependencies": {
        "safer-buffer": ">= 2.1.2 < 3.0.0"
      },
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/ignore": {
      "version": "5.3.2",
      "resolved": "https://registry.npmjs.org/ignore/-/ignore-5.3.2.tgz",
      "integrity": "sha512-hsBTNUqQTDwkWtcdYI2i06Y/nUBEsNEDJKjWdigLvegy8kDuJAS8uRlpkkcQpyEXL0Z/pjDy5HBmMjRCJ2gq+g==",
      "dev": true,
      "engines": {
        "node": ">= 4"
      }
    },
    "node_modules/import-fresh": {
      "version": "3.3.1",
      "resolved": "https://registry.npmjs.org/import-fresh/-/import-fresh-3.3.1.tgz",
      "integrity": "sha512-TR3KfrTZTYLPB6jUjfx6MF9WcWrHL9su5TObK4ZkYgBdWKPOFoSoQIdEuTuR82pmtxH2spWG9h6etwfr1pLBqQ==",
      "dev": true,
      "dependencies": {
        "parent-module": "^1.0.0",
        "resolve-from": "^4.0.0"
      },
      "engines": {
        "node": ">=6"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/imurmurhash": {
      "version": "0.1.4",
      "resolved": "https://registry.npmjs.org/imurmurhash/-/imurmurhash-0.1.4.tgz",
      "integrity": "sha512-JmXMZ6wuvDmLiHEml9ykzqO6lwFbof0GG4IkcGaENdCRDDmMVnny7s5HsIgHCbaq0w2MyPhDqkhTUgS2LU2PHA==",
      "dev": true,
      "engines": {
        "node": ">=0.8.19"
      }
    },
    "node_modules/internal-slot": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/internal-slot/-/internal-slot-1.1.0.tgz",
      "integrity": "sha512-4gd7VpWNQNB4UKKCFFVcp1AVv+FMOgs9NKzjHKusc8jTMhd5eL1NqQqOpE0KzMds804/yHlglp3uxgluOqAPLw==",
      "dev": true,
      "dependencies": {
        "es-errors": "^1.3.0",
        "hasown": "^2.0.2",
        "side-channel": "^1.1.0"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/is-array-buffer": {
      "version": "3.0.5",
      "resolved": "https://registry.npmjs.org/is-array-buffer/-/is-array-buffer-3.0.5.tgz",
      "integrity": "sha512-DDfANUiiG2wC1qawP66qlTugJeL5HyzMpfr8lLK+jMQirGzNod0B12cFB/9q838Ru27sBwfw78/rdoU7RERz6A==",
      "dev": true,
      "dependencies": {
        "call-bind": "^1.0.8",
        "call-bound": "^1.0.3",
        "get-intrinsic": "^1.2.6"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/is-arrayish": {
      "version": "0.3.2",
      "resolved": "https://registry.npmjs.org/is-arrayish/-/is-arrayish-0.3.2.tgz",
      "integrity": "sha512-eVRqCvVlZbuw3GrM63ovNSNAeA1K16kaR/LRY/92w0zxQ5/1YzwblUX652i4Xs9RwAGjW9d9y6X88t8OaAJfWQ==",
      "optional": true
    },
    "node_modules/is-async-function": {
      "version": "2.1.1",
      "resolved": "https://registry.npmjs.org/is-async-function/-/is-async-function-2.1.1.tgz",
      "integrity": "sha512-9dgM/cZBnNvjzaMYHVoxxfPj2QXt22Ev7SuuPrs+xav0ukGB0S6d4ydZdEiM48kLx5kDV+QBPrpVnFyefL8kkQ==",
      "dev": true,
      "dependencies": {
        "async-function": "^1.0.0",
        "call-bound": "^1.0.3",
        "get-proto": "^1.0.1",
        "has-tostringtag": "^1.0.2",
        "safe-regex-test": "^1.1.0"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/is-bigint": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/is-bigint/-/is-bigint-1.1.0.tgz",
      "integrity": "sha512-n4ZT37wG78iz03xPRKJrHTdZbe3IicyucEtdRsV5yglwc3GyUfbAfpSeD0FJ41NbUNSt5wbhqfp1fS+BgnvDFQ==",
      "dev": true,
      "dependencies": {
        "has-bigints": "^1.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/is-boolean-object": {
      "version": "1.2.2",
      "resolved": "https://registry.npmjs.org/is-boolean-object/-/is-boolean-object-1.2.2.tgz",
      "integrity": "sha512-wa56o2/ElJMYqjCjGkXri7it5FbebW5usLw/nPmCMs5DeZ7eziSYZhSmPRn0txqeW4LnAmQQU7FgqLpsEFKM4A==",
      "dev": true,
      "dependencies": {
        "call-bound": "^1.0.3",
        "has-tostringtag": "^1.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/is-bun-module": {
      "version": "2.0.0",
      "resolved": "https://registry.npmjs.org/is-bun-module/-/is-bun-module-2.0.0.tgz",
      "integrity": "sha512-gNCGbnnnnFAUGKeZ9PdbyeGYJqewpmc2aKHUEMO5nQPWU9lOmv7jcmQIv+qHD8fXW6W7qfuCwX4rY9LNRjXrkQ==",
      "dev": true,
      "dependencies": {
        "semver": "^7.7.1"
      }
    },
    "node_modules/is-callable": {
      "version": "1.2.7",
      "resolved": "https://registry.npmjs.org/is-callable/-/is-callable-1.2.7.tgz",
      "integrity": "sha512-1BC0BVFhS/p0qtw6enp8e+8OD0UrK0oFLztSjNzhcKA3WDuJxxAPXzPuPtKkjEY9UUoEWlX/8fgKeu2S8i9JTA==",
      "dev": true,
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/is-core-module": {
      "version": "2.16.1",
      "resolved": "https://registry.npmjs.org/is-core-module/-/is-core-module-2.16.1.tgz",
      "integrity": "sha512-UfoeMA6fIJ8wTYFEUjelnaGI67v6+N7qXJEvQuIGa99l4xsCruSYOVSQ0uPANn4dAzm8lkYPaKLrrijLq7x23w==",
      "dev": true,
      "dependencies": {
        "hasown": "^2.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/is-data-view": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/is-data-view/-/is-data-view-1.0.2.tgz",
      "integrity": "sha512-RKtWF8pGmS87i2D6gqQu/l7EYRlVdfzemCJN/P3UOs//x1QE7mfhvzHIApBTRf7axvT6DMGwSwBXYCT0nfB9xw==",
      "dev": true,
      "dependencies": {
        "call-bound": "^1.0.2",
        "get-intrinsic": "^1.2.6",
        "is-typed-array": "^1.1.13"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/is-date-object": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/is-date-object/-/is-date-object-1.1.0.tgz",
      "integrity": "sha512-PwwhEakHVKTdRNVOw+/Gyh0+MzlCl4R6qKvkhuvLtPMggI1WAHt9sOwZxQLSGpUaDnrdyDsomoRgNnCfKNSXXg==",
      "dev": true,
      "dependencies": {
        "call-bound": "^1.0.2",
        "has-tostringtag": "^1.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/is-extglob": {
      "version": "2.1.1",
      "resolved": "https://registry.npmjs.org/is-extglob/-/is-extglob-2.1.1.tgz",
      "integrity": "sha512-SbKbANkN603Vi4jEZv49LeVJMn4yGwsbzZworEoyEiutsN3nJYdbO36zfhGJ6QEDpOZIFkDtnq5JRxmvl3jsoQ==",
      "dev": true,
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/is-finalizationregistry": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/is-finalizationregistry/-/is-finalizationregistry-1.1.1.tgz",
      "integrity": "sha512-1pC6N8qWJbWoPtEjgcL2xyhQOP491EQjeUo3qTKcmV8YSDDJrOepfG8pcC7h/QgnQHYSv0mJ3Z/ZWxmatVrysg==",
      "dev": true,
      "dependencies": {
        "call-bound": "^1.0.3"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/is-fullwidth-code-point": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/is-fullwidth-code-point/-/is-fullwidth-code-point-3.0.0.tgz",
      "integrity": "sha512-zymm5+u+sCsSWyD9qNaejV3DFvhCKclKdizYaJUuHA83RLjb7nSuGnddCHGv0hk+KY7BMAlsWeK4Ueg6EV6XQg==",
      "dev": true,
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/is-generator-function": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/is-generator-function/-/is-generator-function-1.1.0.tgz",
      "integrity": "sha512-nPUB5km40q9e8UfN/Zc24eLlzdSf9OfKByBw9CIdw4H1giPMeA0OIJvbchsCu4npfI2QcMVBsGEBHKZ7wLTWmQ==",
      "dev": true,
      "dependencies": {
        "call-bound": "^1.0.3",
        "get-proto": "^1.0.0",
        "has-tostringtag": "^1.0.2",
        "safe-regex-test": "^1.1.0"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/is-glob": {
      "version": "4.0.3",
      "resolved": "https://registry.npmjs.org/is-glob/-/is-glob-4.0.3.tgz",
      "integrity": "sha512-xelSayHH36ZgE7ZWhli7pW34hNbNl8Ojv5KVmkJD4hBdD3th8Tfk9vYasLM+mXWOZhFkgZfxhLSnrwRr4elSSg==",
      "dev": true,
      "dependencies": {
        "is-extglob": "^2.1.1"
      },
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/is-map": {
      "version": "2.0.3",
      "resolved": "https://registry.npmjs.org/is-map/-/is-map-2.0.3.tgz",
      "integrity": "sha512-1Qed0/Hr2m+YqxnM09CjA2d/i6YZNfF6R2oRAOj36eUdS6qIV/huPJNSEpKbupewFs+ZsJlxsjjPbc0/afW6Lw==",
      "dev": true,
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/is-negative-zero": {
      "version": "2.0.3",
      "resolved": "https://registry.npmjs.org/is-negative-zero/-/is-negative-zero-2.0.3.tgz",
      "integrity": "sha512-5KoIu2Ngpyek75jXodFvnafB6DJgr3u8uuK0LEZJjrU19DrMD3EVERaR8sjz8CCGgpZvxPl9SuE1GMVPFHx1mw==",
      "dev": true,
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/is-number": {
      "version": "7.0.0",
      "resolved": "https://registry.npmjs.org/is-number/-/is-number-7.0.0.tgz",
      "integrity": "sha512-41Cifkg6e8TylSpdtTpeLVMqvSBEVzTttHvERD741+pnZ8ANv0004MRL43QKPDlK9cGvNp6NZWZUBlbGXYxxng==",
      "dev": true,
      "engines": {
        "node": ">=0.12.0"
      }
    },
    "node_modules/is-number-object": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/is-number-object/-/is-number-object-1.1.1.tgz",
      "integrity": "sha512-lZhclumE1G6VYD8VHe35wFaIif+CTy5SJIi5+3y4psDgWu4wPDoBhF8NxUOinEc7pHgiTsT6MaBb92rKhhD+Xw==",
      "dev": true,
      "dependencies": {
        "call-bound": "^1.0.3",
        "has-tostringtag": "^1.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/is-potential-custom-element-name": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/is-potential-custom-element-name/-/is-potential-custom-element-name-1.0.1.tgz",
      "integrity": "sha512-bCYeRA2rVibKZd+s2625gGnGF/t7DSqDs4dP7CrLA1m7jKWz6pps0LpYLJN8Q64HtmPKJ1hrN3nzPNKFEKOUiQ==",
      "dev": true
    },
    "node_modules/is-regex": {
      "version": "1.2.1",
      "resolved": "https://registry.npmjs.org/is-regex/-/is-regex-1.2.1.tgz",
      "integrity": "sha512-MjYsKHO5O7mCsmRGxWcLWheFqN9DJ/2TmngvjKXihe6efViPqc274+Fx/4fYj/r03+ESvBdTXK0V6tA3rgez1g==",
      "dev": true,
      "dependencies": {
        "call-bound": "^1.0.2",
        "gopd": "^1.2.0",
        "has-tostringtag": "^1.0.2",
        "hasown": "^2.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/is-set": {
      "version": "2.0.3",
      "resolved": "https://registry.npmjs.org/is-set/-/is-set-2.0.3.tgz",
      "integrity": "sha512-iPAjerrse27/ygGLxw+EBR9agv9Y6uLeYVJMu+QNCoouJ1/1ri0mGrcWpfCqFZuzzx3WjtwxG098X+n4OuRkPg==",
      "dev": true,
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/is-shared-array-buffer": {
      "version": "1.0.4",
      "resolved": "https://registry.npmjs.org/is-shared-array-buffer/-/is-shared-array-buffer-1.0.4.tgz",
      "integrity": "sha512-ISWac8drv4ZGfwKl5slpHG9OwPNty4jOWPRIhBpxOoD+hqITiwuipOQ2bNthAzwA3B4fIjO4Nln74N0S9byq8A==",
      "dev": true,
      "dependencies": {
        "call-bound": "^1.0.3"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/is-string": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/is-string/-/is-string-1.1.1.tgz",
      "integrity": "sha512-BtEeSsoaQjlSPBemMQIrY1MY0uM6vnS1g5fmufYOtnxLGUZM2178PKbhsk7Ffv58IX+ZtcvoGwccYsh0PglkAA==",
      "dev": true,
      "dependencies": {
        "call-bound": "^1.0.3",
        "has-tostringtag": "^1.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/is-symbol": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/is-symbol/-/is-symbol-1.1.1.tgz",
      "integrity": "sha512-9gGx6GTtCQM73BgmHQXfDmLtfjjTUDSyoxTCbp5WtoixAhfgsDirWIcVQ/IHpvI5Vgd5i/J5F7B9cN/WlVbC/w==",
      "dev": true,
      "dependencies": {
        "call-bound": "^1.0.2",
        "has-symbols": "^1.1.0",
        "safe-regex-test": "^1.1.0"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/is-typed-array": {
      "version": "1.1.15",
      "resolved": "https://registry.npmjs.org/is-typed-array/-/is-typed-array-1.1.15.tgz",
      "integrity": "sha512-p3EcsicXjit7SaskXHs1hA91QxgTw46Fv6EFKKGS5DRFLD8yKnohjF3hxoju94b/OcMZoQukzpPpBE9uLVKzgQ==",
      "dev": true,
      "dependencies": {
        "which-typed-array": "^1.1.16"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/is-weakmap": {
      "version": "2.0.2",
      "resolved": "https://registry.npmjs.org/is-weakmap/-/is-weakmap-2.0.2.tgz",
      "integrity": "sha512-K5pXYOm9wqY1RgjpL3YTkF39tni1XajUIkawTLUo9EZEVUFga5gSQJF8nNS7ZwJQ02y+1YCNYcMh+HIf1ZqE+w==",
      "dev": true,
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/is-weakref": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/is-weakref/-/is-weakref-1.1.1.tgz",
      "integrity": "sha512-6i9mGWSlqzNMEqpCp93KwRS1uUOodk2OJ6b+sq7ZPDSy2WuI5NFIxp/254TytR8ftefexkWn5xNiHUNpPOfSew==",
      "dev": true,
      "dependencies": {
        "call-bound": "^1.0.3"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/is-weakset": {
      "version": "2.0.4",
      "resolved": "https://registry.npmjs.org/is-weakset/-/is-weakset-2.0.4.tgz",
      "integrity": "sha512-mfcwb6IzQyOKTs84CQMrOwW4gQcaTOAWJ0zzJCl2WSPDrWk/OzDaImWFH3djXhb24g4eudZfLRozAvPGw4d9hQ==",
      "dev": true,
      "dependencies": {
        "call-bound": "^1.0.3",
        "get-intrinsic": "^1.2.6"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/isarray": {
      "version": "2.0.5",
      "resolved": "https://registry.npmjs.org/isarray/-/isarray-2.0.5.tgz",
      "integrity": "sha512-xHjhDr3cNBK0BzdUJSPXZntQUx/mwMS5Rw4A7lPJ90XGAO6ISP/ePDNuo0vhqOZU+UD5JoodwCAAoZQd3FeAKw==",
      "dev": true
    },
    "node_modules/isexe": {
      "version": "2.0.0",
      "resolved": "https://registry.npmjs.org/isexe/-/isexe-2.0.0.tgz",
      "integrity": "sha512-RHxMLp9lnKHGHRng9QFhRCMbYAcVpn69smSGcq3f36xjgVVWThj4qqLbTLlq7Ssj8B+fIQ1EuCEGI2lKsyQeIw==",
      "dev": true
    },
    "node_modules/istanbul-lib-coverage": {
      "version": "3.2.2",
      "resolved": "https://registry.npmjs.org/istanbul-lib-coverage/-/istanbul-lib-coverage-3.2.2.tgz",
      "integrity": "sha512-O8dpsF+r0WV/8MNRKfnmrtCWhuKjxrq2w+jpzBL5UZKTi2LeVWnWOmWRxFlesJONmc+wLAGvKQZEOanko0LFTg==",
      "dev": true,
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/istanbul-lib-report": {
      "version": "3.0.1",
      "resolved": "https://registry.npmjs.org/istanbul-lib-report/-/istanbul-lib-report-3.0.1.tgz",
      "integrity": "sha512-GCfE1mtsHGOELCU8e/Z7YWzpmybrx/+dSTfLrvY8qRmaY6zXTKWn6WQIjaAFw069icm6GVMNkgu0NzI4iPZUNw==",
      "dev": true,
      "dependencies": {
        "istanbul-lib-coverage": "^3.0.0",
        "make-dir": "^4.0.0",
        "supports-color": "^7.1.0"
      },
      "engines": {
        "node": ">=10"
      }
    },
    "node_modules/istanbul-lib-source-maps": {
      "version": "5.0.6",
      "resolved": "https://registry.npmjs.org/istanbul-lib-source-maps/-/istanbul-lib-source-maps-5.0.6.tgz",
      "integrity": "sha512-yg2d+Em4KizZC5niWhQaIomgf5WlL4vOOjZ5xGCmF8SnPE/mDWWXgvRExdcpCgh9lLRRa1/fSYp2ymmbJ1pI+A==",
      "dev": true,
      "dependencies": {
        "@jridgewell/trace-mapping": "^0.3.23",
        "debug": "^4.1.1",
        "istanbul-lib-coverage": "^3.0.0"
      },
      "engines": {
        "node": ">=10"
      }
    },
    "node_modules/istanbul-reports": {
      "version": "3.2.0",
      "resolved": "https://registry.npmjs.org/istanbul-reports/-/istanbul-reports-3.2.0.tgz",
      "integrity": "sha512-HGYWWS/ehqTV3xN10i23tkPkpH46MLCIMFNCaaKNavAXTF1RkqxawEPtnjnGZ6XKSInBKkiOA5BKS+aZiY3AvA==",
      "dev": true,
      "dependencies": {
        "html-escaper": "^2.0.0",
        "istanbul-lib-report": "^3.0.0"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/iterator.prototype": {
      "version": "1.1.5",
      "resolved": "https://registry.npmjs.org/iterator.prototype/-/iterator.prototype-1.1.5.tgz",
      "integrity": "sha512-H0dkQoCa3b2VEeKQBOxFph+JAbcrQdE7KC0UkqwpLmv2EC4P41QXP+rqo9wYodACiG5/WM5s9oDApTU8utwj9g==",
      "dev": true,
      "dependencies": {
        "define-data-property": "^1.1.4",
        "es-object-atoms": "^1.0.0",
        "get-intrinsic": "^1.2.6",
        "get-proto": "^1.0.0",
        "has-symbols": "^1.1.0",
        "set-function-name": "^2.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/jackspeak": {
      "version": "3.4.3",
      "resolved": "https://registry.npmjs.org/jackspeak/-/jackspeak-3.4.3.tgz",
      "integrity": "sha512-OGlZQpz2yfahA/Rd1Y8Cd9SIEsqvXkLVoSw/cgwhnhFMDbsQFeZYoJJ7bIZBS9BcamUW96asq/npPWugM+RQBw==",
      "dev": true,
      "dependencies": {
        "@isaacs/cliui": "^8.0.2"
      },
      "funding": {
        "url": "https://github.com/sponsors/isaacs"
      },
      "optionalDependencies": {
        "@pkgjs/parseargs": "^0.11.0"
      }
    },
    "node_modules/jiti": {
      "version": "2.5.1",
      "resolved": "https://registry.npmjs.org/jiti/-/jiti-2.5.1.tgz",
      "integrity": "sha512-twQoecYPiVA5K/h6SxtORw/Bs3ar+mLUtoPSc7iMXzQzK8d7eJ/R09wmTwAjiamETn1cXYPGfNnu7DMoHgu12w==",
      "dev": true,
      "bin": {
        "jiti": "lib/jiti-cli.mjs"
      }
    },
    "node_modules/jose": {
      "version": "6.0.12",
      "resolved": "https://registry.npmjs.org/jose/-/jose-6.0.12.tgz",
      "integrity": "sha512-T8xypXs8CpmiIi78k0E+Lk7T2zlK4zDyg+o1CZ4AkOHgDg98ogdP2BeZ61lTFKFyoEwJ9RgAgN+SdM3iPgNonQ==",
      "funding": {
        "url": "https://github.com/sponsors/panva"
      }
    },
    "node_modules/js-tokens": {
      "version": "4.0.0",
      "resolved": "https://registry.npmjs.org/js-tokens/-/js-tokens-4.0.0.tgz",
      "integrity": "sha512-RdJUflcE3cUzKiMqQgsCu06FPu9UdIJO0beYbPhHN4k6apgJtifcoCtT9bcxOpYBtpD2kCM6Sbzg4CausW/PKQ==",
      "dev": true
    },
    "node_modules/js-yaml": {
      "version": "4.1.0",
      "resolved": "https://registry.npmjs.org/js-yaml/-/js-yaml-4.1.0.tgz",
      "integrity": "sha512-wpxZs9NoxZaJESJGIZTyDEaYpl0FKSA+FB9aJiyemKhMwkxQg63h4T1KJgUGHpTqPDNRcmmYLugrRjJlBtWvRA==",
      "dev": true,
      "dependencies": {
        "argparse": "^2.0.1"
      },
      "bin": {
        "js-yaml": "bin/js-yaml.js"
      }
    },
    "node_modules/jsdom": {
      "version": "26.1.0",
      "resolved": "https://registry.npmjs.org/jsdom/-/jsdom-26.1.0.tgz",
      "integrity": "sha512-Cvc9WUhxSMEo4McES3P7oK3QaXldCfNWp7pl2NNeiIFlCoLr3kfq9kb1fxftiwk1FLV7CvpvDfonxtzUDeSOPg==",
      "dev": true,
      "dependencies": {
        "cssstyle": "^4.2.1",
        "data-urls": "^5.0.0",
        "decimal.js": "^10.5.0",
        "html-encoding-sniffer": "^4.0.0",
        "http-proxy-agent": "^7.0.2",
        "https-proxy-agent": "^7.0.6",
        "is-potential-custom-element-name": "^1.0.1",
        "nwsapi": "^2.2.16",
        "parse5": "^7.2.1",
        "rrweb-cssom": "^0.8.0",
        "saxes": "^6.0.0",
        "symbol-tree": "^3.2.4",
        "tough-cookie": "^5.1.1",
        "w3c-xmlserializer": "^5.0.0",
        "webidl-conversions": "^7.0.0",
        "whatwg-encoding": "^3.1.1",
        "whatwg-mimetype": "^4.0.0",
        "whatwg-url": "^14.1.1",
        "ws": "^8.18.0",
        "xml-name-validator": "^5.0.0"
      },
      "engines": {
        "node": ">=18"
      },
      "peerDependencies": {
        "canvas": "^3.0.0"
      },
      "peerDependenciesMeta": {
        "canvas": {
          "optional": true
        }
      }
    },
    "node_modules/json-buffer": {
      "version": "3.0.1",
      "resolved": "https://registry.npmjs.org/json-buffer/-/json-buffer-3.0.1.tgz",
      "integrity": "sha512-4bV5BfR2mqfQTJm+V5tPPdf+ZpuhiIvTuAB5g8kcrXOZpTT/QwwVRWBywX1ozr6lEuPdbHxwaJlm9G6mI2sfSQ==",
      "dev": true
    },
    "node_modules/json-schema-traverse": {
      "version": "0.4.1",
      "resolved": "https://registry.npmjs.org/json-schema-traverse/-/json-schema-traverse-0.4.1.tgz",
      "integrity": "sha512-xbbCH5dCYU5T8LcEhhuh7HJ88HXuW3qsI3Y0zOZFKfZEHcpWiHU/Jxzk629Brsab/mMiHQti9wMP+845RPe3Vg==",
      "dev": true
    },
    "node_modules/json-stable-stringify-without-jsonify": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/json-stable-stringify-without-jsonify/-/json-stable-stringify-without-jsonify-1.0.1.tgz",
      "integrity": "sha512-Bdboy+l7tA3OGW6FjyFHWkP5LuByj1Tk33Ljyq0axyzdk9//JSi2u3fP1QSmd1KNwq6VOKYGlAu87CisVir6Pw==",
      "dev": true
    },
    "node_modules/json5": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/json5/-/json5-1.0.2.tgz",
      "integrity": "sha512-g1MWMLBiz8FKi1e4w0UyVL3w+iJceWAFBAaBnnGKOpNa5f8TLktkbre1+s6oICydWAm+HRUGTmI+//xv2hvXYA==",
      "dev": true,
      "dependencies": {
        "minimist": "^1.2.0"
      },
      "bin": {
        "json5": "lib/cli.js"
      }
    },
    "node_modules/jsonwebtoken": {
      "version": "9.0.2",
      "resolved": "https://registry.npmjs.org/jsonwebtoken/-/jsonwebtoken-9.0.2.tgz",
      "integrity": "sha512-PRp66vJ865SSqOlgqS8hujT5U4AOgMfhrwYIuIhfKaoSCZcirrmASQr8CX7cUg+RMih+hgznrjp99o+W4pJLHQ==",
      "dependencies": {
        "jws": "^3.2.2",
        "lodash.includes": "^4.3.0",
        "lodash.isboolean": "^3.0.3",
        "lodash.isinteger": "^4.0.4",
        "lodash.isnumber": "^3.0.3",
        "lodash.isplainobject": "^4.0.6",
        "lodash.isstring": "^4.0.1",
        "lodash.once": "^4.0.0",
        "ms": "^2.1.1",
        "semver": "^7.5.4"
      },
      "engines": {
        "node": ">=12",
        "npm": ">=6"
      }
    },
    "node_modules/jsx-ast-utils": {
      "version": "3.3.5",
      "resolved": "https://registry.npmjs.org/jsx-ast-utils/-/jsx-ast-utils-3.3.5.tgz",
      "integrity": "sha512-ZZow9HBI5O6EPgSJLUb8n2NKgmVWTwCvHGwFuJlMjvLFqlGG6pjirPhtdsseaLZjSibD8eegzmYpUZwoIlj2cQ==",
      "dev": true,
      "dependencies": {
        "array-includes": "^3.1.6",
        "array.prototype.flat": "^1.3.1",
        "object.assign": "^4.1.4",
        "object.values": "^1.1.6"
      },
      "engines": {
        "node": ">=4.0"
      }
    },
    "node_modules/jwa": {
      "version": "1.4.2",
      "resolved": "https://registry.npmjs.org/jwa/-/jwa-1.4.2.tgz",
      "integrity": "sha512-eeH5JO+21J78qMvTIDdBXidBd6nG2kZjg5Ohz/1fpa28Z4CcsWUzJ1ZZyFq/3z3N17aZy+ZuBoHljASbL1WfOw==",
      "dependencies": {
        "buffer-equal-constant-time": "^1.0.1",
        "ecdsa-sig-formatter": "1.0.11",
        "safe-buffer": "^5.0.1"
      }
    },
    "node_modules/jws": {
      "version": "3.2.2",
      "resolved": "https://registry.npmjs.org/jws/-/jws-3.2.2.tgz",
      "integrity": "sha512-YHlZCB6lMTllWDtSPHz/ZXTsi8S00usEV6v1tjq8tOUZzw7DpSDWVXjXDre6ed1w/pd495ODpHZYSdkRTsa0HA==",
      "dependencies": {
        "jwa": "^1.4.1",
        "safe-buffer": "^5.0.1"
      }
    },
    "node_modules/keyv": {
      "version": "4.5.4",
      "resolved": "https://registry.npmjs.org/keyv/-/keyv-4.5.4.tgz",
      "integrity": "sha512-oxVHkHR/EJf2CNXnWxRLW6mg7JyCCUcG0DtEGmL2ctUo1PNTin1PUil+r/+4r5MpVgC/fn1kjsx7mjSujKqIpw==",
      "dev": true,
      "dependencies": {
        "json-buffer": "3.0.1"
      }
    },
    "node_modules/language-subtag-registry": {
      "version": "0.3.23",
      "resolved": "https://registry.npmjs.org/language-subtag-registry/-/language-subtag-registry-0.3.23.tgz",
      "integrity": "sha512-0K65Lea881pHotoGEa5gDlMxt3pctLi2RplBb7Ezh4rRdLEOtgi7n4EwK9lamnUCkKBqaeKRVebTq6BAxSkpXQ==",
      "dev": true
    },
    "node_modules/language-tags": {
      "version": "1.0.9",
      "resolved": "https://registry.npmjs.org/language-tags/-/language-tags-1.0.9.tgz",
      "integrity": "sha512-MbjN408fEndfiQXbFQ1vnd+1NoLDsnQW41410oQBXiyXDMYH5z505juWa4KUE1LqxRC7DgOgZDbKLxHIwm27hA==",
      "dev": true,
      "dependencies": {
        "language-subtag-registry": "^0.3.20"
      },
      "engines": {
        "node": ">=0.10"
      }
    },
    "node_modules/levn": {
      "version": "0.4.1",
      "resolved": "https://registry.npmjs.org/levn/-/levn-0.4.1.tgz",
      "integrity": "sha512-+bT2uH4E5LGE7h/n3evcS/sQlJXCpIp6ym8OWJ5eV6+67Dsql/LaaT7qJBAt2rzfoa/5QBGBhxDix1dMt2kQKQ==",
      "dev": true,
      "dependencies": {
        "prelude-ls": "^1.2.1",
        "type-check": "~0.4.0"
      },
      "engines": {
        "node": ">= 0.8.0"
      }
    },
    "node_modules/lightningcss": {
      "version": "1.30.1",
      "resolved": "https://registry.npmjs.org/lightningcss/-/lightningcss-1.30.1.tgz",
      "integrity": "sha512-xi6IyHML+c9+Q3W0S4fCQJOym42pyurFiJUHEcEyHS0CeKzia4yZDEsLlqOFykxOdHpNy0NmvVO31vcSqAxJCg==",
      "dev": true,
      "dependencies": {
        "detect-libc": "^2.0.3"
      },
      "engines": {
        "node": ">= 12.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/parcel"
      },
      "optionalDependencies": {
        "lightningcss-darwin-arm64": "1.30.1",
        "lightningcss-darwin-x64": "1.30.1",
        "lightningcss-freebsd-x64": "1.30.1",
        "lightningcss-linux-arm-gnueabihf": "1.30.1",
        "lightningcss-linux-arm64-gnu": "1.30.1",
        "lightningcss-linux-arm64-musl": "1.30.1",
        "lightningcss-linux-x64-gnu": "1.30.1",
        "lightningcss-linux-x64-musl": "1.30.1",
        "lightningcss-win32-arm64-msvc": "1.30.1",
        "lightningcss-win32-x64-msvc": "1.30.1"
      }
    },
    "node_modules/lightningcss-darwin-arm64": {
      "version": "1.30.1",
      "resolved": "https://registry.npmjs.org/lightningcss-darwin-arm64/-/lightningcss-darwin-arm64-1.30.1.tgz",
      "integrity": "sha512-c8JK7hyE65X1MHMN+Viq9n11RRC7hgin3HhYKhrMyaXflk5GVplZ60IxyoVtzILeKr+xAJwg6zK6sjTBJ0FKYQ==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": ">= 12.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/parcel"
      }
    },
    "node_modules/lightningcss-darwin-x64": {
      "version": "1.30.1",
      "resolved": "https://registry.npmjs.org/lightningcss-darwin-x64/-/lightningcss-darwin-x64-1.30.1.tgz",
      "integrity": "sha512-k1EvjakfumAQoTfcXUcHQZhSpLlkAuEkdMBsI/ivWw9hL+7FtilQc0Cy3hrx0AAQrVtQAbMI7YjCgYgvn37PzA==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": ">= 12.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/parcel"
      }
    },
    "node_modules/lightningcss-freebsd-x64": {
      "version": "1.30.1",
      "resolved": "https://registry.npmjs.org/lightningcss-freebsd-x64/-/lightningcss-freebsd-x64-1.30.1.tgz",
      "integrity": "sha512-kmW6UGCGg2PcyUE59K5r0kWfKPAVy4SltVeut+umLCFoJ53RdCUWxcRDzO1eTaxf/7Q2H7LTquFHPL5R+Gjyig==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "freebsd"
      ],
      "engines": {
        "node": ">= 12.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/parcel"
      }
    },
    "node_modules/lightningcss-linux-arm-gnueabihf": {
      "version": "1.30.1",
      "resolved": "https://registry.npmjs.org/lightningcss-linux-arm-gnueabihf/-/lightningcss-linux-arm-gnueabihf-1.30.1.tgz",
      "integrity": "sha512-MjxUShl1v8pit+6D/zSPq9S9dQ2NPFSQwGvxBCYaBYLPlCWuPh9/t1MRS8iUaR8i+a6w7aps+B4N0S1TYP/R+Q==",
      "cpu": [
        "arm"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 12.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/parcel"
      }
    },
    "node_modules/lightningcss-linux-arm64-gnu": {
      "version": "1.30.1",
      "resolved": "https://registry.npmjs.org/lightningcss-linux-arm64-gnu/-/lightningcss-linux-arm64-gnu-1.30.1.tgz",
      "integrity": "sha512-gB72maP8rmrKsnKYy8XUuXi/4OctJiuQjcuqWNlJQ6jZiWqtPvqFziskH3hnajfvKB27ynbVCucKSm2rkQp4Bw==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 12.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/parcel"
      }
    },
    "node_modules/lightningcss-linux-arm64-musl": {
      "version": "1.30.1",
      "resolved": "https://registry.npmjs.org/lightningcss-linux-arm64-musl/-/lightningcss-linux-arm64-musl-1.30.1.tgz",
      "integrity": "sha512-jmUQVx4331m6LIX+0wUhBbmMX7TCfjF5FoOH6SD1CttzuYlGNVpA7QnrmLxrsub43ClTINfGSYyHe2HWeLl5CQ==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 12.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/parcel"
      }
    },
    "node_modules/lightningcss-linux-x64-gnu": {
      "version": "1.30.1",
      "resolved": "https://registry.npmjs.org/lightningcss-linux-x64-gnu/-/lightningcss-linux-x64-gnu-1.30.1.tgz",
      "integrity": "sha512-piWx3z4wN8J8z3+O5kO74+yr6ze/dKmPnI7vLqfSqI8bccaTGY5xiSGVIJBDd5K5BHlvVLpUB3S2YCfelyJ1bw==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 12.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/parcel"
      }
    },
    "node_modules/lightningcss-linux-x64-musl": {
      "version": "1.30.1",
      "resolved": "https://registry.npmjs.org/lightningcss-linux-x64-musl/-/lightningcss-linux-x64-musl-1.30.1.tgz",
      "integrity": "sha512-rRomAK7eIkL+tHY0YPxbc5Dra2gXlI63HL+v1Pdi1a3sC+tJTcFrHX+E86sulgAXeI7rSzDYhPSeHHjqFhqfeQ==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 12.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/parcel"
      }
    },
    "node_modules/lightningcss-win32-arm64-msvc": {
      "version": "1.30.1",
      "resolved": "https://registry.npmjs.org/lightningcss-win32-arm64-msvc/-/lightningcss-win32-arm64-msvc-1.30.1.tgz",
      "integrity": "sha512-mSL4rqPi4iXq5YVqzSsJgMVFENoa4nGTT/GjO2c0Yl9OuQfPsIfncvLrEW6RbbB24WtZ3xP/2CCmI3tNkNV4oA==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": ">= 12.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/parcel"
      }
    },
    "node_modules/lightningcss-win32-x64-msvc": {
      "version": "1.30.1",
      "resolved": "https://registry.npmjs.org/lightningcss-win32-x64-msvc/-/lightningcss-win32-x64-msvc-1.30.1.tgz",
      "integrity": "sha512-PVqXh48wh4T53F/1CCu8PIPCxLzWyCnn/9T5W1Jpmdy5h9Cwd+0YQS6/LwhHXSafuc61/xg9Lv5OrCby6a++jg==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": ">= 12.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/parcel"
      }
    },
    "node_modules/locate-path": {
      "version": "6.0.0",
      "resolved": "https://registry.npmjs.org/locate-path/-/locate-path-6.0.0.tgz",
      "integrity": "sha512-iPZK6eYjbxRu3uB4/WZ3EsEIMJFMqAoopl3R+zuq0UjcAm/MO6KCweDgPfP3elTztoKP3KtnVHxTn2NHBSDVUw==",
      "dev": true,
      "dependencies": {
        "p-locate": "^5.0.0"
      },
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/lodash.includes": {
      "version": "4.3.0",
      "resolved": "https://registry.npmjs.org/lodash.includes/-/lodash.includes-4.3.0.tgz",
      "integrity": "sha512-W3Bx6mdkRTGtlJISOvVD/lbqjTlPPUDTMnlXZFnVwi9NKJ6tiAk6LVdlhZMm17VZisqhKcgzpO5Wz91PCt5b0w=="
    },
    "node_modules/lodash.isboolean": {
      "version": "3.0.3",
      "resolved": "https://registry.npmjs.org/lodash.isboolean/-/lodash.isboolean-3.0.3.tgz",
      "integrity": "sha512-Bz5mupy2SVbPHURB98VAcw+aHh4vRV5IPNhILUCsOzRmsTmSQ17jIuqopAentWoehktxGd9e/hbIXq980/1QJg=="
    },
    "node_modules/lodash.isinteger": {
      "version": "4.0.4",
      "resolved": "https://registry.npmjs.org/lodash.isinteger/-/lodash.isinteger-4.0.4.tgz",
      "integrity": "sha512-DBwtEWN2caHQ9/imiNeEA5ys1JoRtRfY3d7V9wkqtbycnAmTvRRmbHKDV4a0EYc678/dia0jrte4tjYwVBaZUA=="
    },
    "node_modules/lodash.isnumber": {
      "version": "3.0.3",
      "resolved": "https://registry.npmjs.org/lodash.isnumber/-/lodash.isnumber-3.0.3.tgz",
      "integrity": "sha512-QYqzpfwO3/CWf3XP+Z+tkQsfaLL/EnUlXWVkIk5FUPc4sBdTehEqZONuyRt2P67PXAk+NXmTBcc97zw9t1FQrw=="
    },
    "node_modules/lodash.isplainobject": {
      "version": "4.0.6",
      "resolved": "https://registry.npmjs.org/lodash.isplainobject/-/lodash.isplainobject-4.0.6.tgz",
      "integrity": "sha512-oSXzaWypCMHkPC3NvBEaPHf0KsA5mvPrOPgQWDsbg8n7orZ290M0BmC/jgRZ4vcJ6DTAhjrsSYgdsW/F+MFOBA=="
    },
    "node_modules/lodash.isstring": {
      "version": "4.0.1",
      "resolved": "https://registry.npmjs.org/lodash.isstring/-/lodash.isstring-4.0.1.tgz",
      "integrity": "sha512-0wJxfxH1wgO3GrbuP+dTTk7op+6L41QCXbGINEmD+ny/G/eCqGzxyCsh7159S+mgDDcoarnBw6PC1PS5+wUGgw=="
    },
    "node_modules/lodash.merge": {
      "version": "4.6.2",
      "resolved": "https://registry.npmjs.org/lodash.merge/-/lodash.merge-4.6.2.tgz",
      "integrity": "sha512-0KpjqXRVvrYyCsX1swR/XTK0va6VQkQM6MNo7PqW77ByjAhoARA8EfrP1N4+KlKj8YS0ZUCtRT/YUuhyYDujIQ==",
      "dev": true
    },
    "node_modules/lodash.once": {
      "version": "4.1.1",
      "resolved": "https://registry.npmjs.org/lodash.once/-/lodash.once-4.1.1.tgz",
      "integrity": "sha512-Sb487aTOCr9drQVL8pIxOzVhafOjZN9UU54hiN8PU3uAiSV7lx1yYNpbNmex2PK6dSJoNTSJUUswT651yww3Mg=="
    },
    "node_modules/loose-envify": {
      "version": "1.4.0",
      "resolved": "https://registry.npmjs.org/loose-envify/-/loose-envify-1.4.0.tgz",
      "integrity": "sha512-lyuxPGr/Wfhrlem2CL/UcnUc1zcqKAImBDzukY7Y5F/yQiNdko6+fRLevlw1HgMySw7f611UIY408EtxRSoK3Q==",
      "dev": true,
      "dependencies": {
        "js-tokens": "^3.0.0 || ^4.0.0"
      },
      "bin": {
        "loose-envify": "cli.js"
      }
    },
    "node_modules/lottie-react": {
      "version": "2.4.1",
      "resolved": "https://registry.npmjs.org/lottie-react/-/lottie-react-2.4.1.tgz",
      "integrity": "sha512-LQrH7jlkigIIv++wIyrOYFLHSKQpEY4zehPicL9bQsrt1rnoKRYCYgpCUe5maqylNtacy58/sQDZTkwMcTRxZw==",
      "dependencies": {
        "lottie-web": "^5.10.2"
      },
      "peerDependencies": {
        "react": "^16.8.0 || ^17.0.0 || ^18.0.0 || ^19.0.0",
        "react-dom": "^16.8.0 || ^17.0.0 || ^18.0.0 || ^19.0.0"
      }
    },
    "node_modules/lottie-web": {
      "version": "5.13.0",
      "resolved": "https://registry.npmjs.org/lottie-web/-/lottie-web-5.13.0.tgz",
      "integrity": "sha512-+gfBXl6sxXMPe8tKQm7qzLnUy5DUPJPKIyRHwtpCpyUEYjHYRJC/5gjUvdkuO2c3JllrPtHXH5UJJK8LRYl5yQ=="
    },
    "node_modules/loupe": {
      "version": "3.2.0",
      "resolved": "https://registry.npmjs.org/loupe/-/loupe-3.2.0.tgz",
      "integrity": "sha512-2NCfZcT5VGVNX9mSZIxLRkEAegDGBpuQZBy13desuHeVORmBDyAET4TkJr4SjqQy3A8JDofMN6LpkK8Xcm/dlw==",
      "dev": true
    },
    "node_modules/lru-cache": {
      "version": "11.1.0",
      "resolved": "https://registry.npmjs.org/lru-cache/-/lru-cache-11.1.0.tgz",
      "integrity": "sha512-QIXZUBJUx+2zHUdQujWejBkcD9+cs94tLn0+YL8UrCh+D5sCXZ4c7LaEH48pNwRY3MLDgqUFyhlCyjJPf1WP0A==",
      "engines": {
        "node": "20 || >=22"
      }
    },
    "node_modules/lucide-react": {
      "version": "0.540.0",
      "resolved": "https://registry.npmjs.org/lucide-react/-/lucide-react-0.540.0.tgz",
      "integrity": "sha512-armkCAqQvO62EIX4Hq7hqX/q11WSZu0Jd23cnnqx0/49yIxGXyL/zyZfBxNN9YDx0ensPTb4L+DjTh3yQXUxtQ==",
      "peerDependencies": {
        "react": "^16.5.1 || ^17.0.0 || ^18.0.0 || ^19.0.0"
      }
    },
    "node_modules/magic-string": {
      "version": "0.30.17",
      "resolved": "https://registry.npmjs.org/magic-string/-/magic-string-0.30.17.tgz",
      "integrity": "sha512-sNPKHvyjVf7gyjwS4xGTaW/mCnF8wnjtifKBEhxfZ7E/S8tQ0rssrwGNn6q8JH/ohItJfSQp9mBtQYuTlH5QnA==",
      "dev": true,
      "dependencies": {
        "@jridgewell/sourcemap-codec": "^1.5.0"
      }
    },
    "node_modules/magicast": {
      "version": "0.3.5",
      "resolved": "https://registry.npmjs.org/magicast/-/magicast-0.3.5.tgz",
      "integrity": "sha512-L0WhttDl+2BOsybvEOLK7fW3UA0OQ0IQ2d6Zl2x/a6vVRs3bAY0ECOSHHeL5jD+SbOpOCUEi0y1DgHEn9Qn1AQ==",
      "dev": true,
      "dependencies": {
        "@babel/parser": "^7.25.4",
        "@babel/types": "^7.25.4",
        "source-map-js": "^1.2.0"
      }
    },
    "node_modules/make-dir": {
      "version": "4.0.0",
      "resolved": "https://registry.npmjs.org/make-dir/-/make-dir-4.0.0.tgz",
      "integrity": "sha512-hXdUTZYIVOt1Ex//jAQi+wTZZpUpwBj/0QsOzqegb3rGMMeJiSEu5xLHnYfBrRV4RH2+OCSOO95Is/7x1WJ4bw==",
      "dev": true,
      "dependencies": {
        "semver": "^7.5.3"
      },
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/math-intrinsics": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/math-intrinsics/-/math-intrinsics-1.1.0.tgz",
      "integrity": "sha512-/IXtbwEk5HTPyEwyKX6hGkYXxM9nbj64B+ilVJnC/R6B0pH5G4V3b0pVbL7DBj4tkhBAppbQUlf6F6Xl9LHu1g==",
      "dev": true,
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/merge2": {
      "version": "1.4.1",
      "resolved": "https://registry.npmjs.org/merge2/-/merge2-1.4.1.tgz",
      "integrity": "sha512-8q7VEgMJW4J8tcfVPy8g09NcQwZdbwFEqhe/WZkoIzjn/3TGDwtOCYtXGxA3O8tPzpczCCDgv+P2P5y00ZJOOg==",
      "dev": true,
      "engines": {
        "node": ">= 8"
      }
    },
    "node_modules/micromatch": {
      "version": "4.0.8",
      "resolved": "https://registry.npmjs.org/micromatch/-/micromatch-4.0.8.tgz",
      "integrity": "sha512-PXwfBhYu0hBCPw8Dn0E+WDYb7af3dSLVWKi3HGv84IdF4TyFoC0ysxFd0Goxw7nSv4T/PzEJQxsYsEiFCKo2BA==",
      "dev": true,
      "dependencies": {
        "braces": "^3.0.3",
        "picomatch": "^2.3.1"
      },
      "engines": {
        "node": ">=8.6"
      }
    },
    "node_modules/minimatch": {
      "version": "3.1.2",
      "resolved": "https://registry.npmjs.org/minimatch/-/minimatch-3.1.2.tgz",
      "integrity": "sha512-J7p63hRiAjw1NDEww1W7i37+ByIrOWO5XQQAzZ3VOcL0PNybwpfmV/N05zFAzwQ9USyEcX6t3UO+K5aqBQOIHw==",
      "dev": true,
      "dependencies": {
        "brace-expansion": "^1.1.7"
      },
      "engines": {
        "node": "*"
      }
    },
    "node_modules/minimist": {
      "version": "1.2.8",
      "resolved": "https://registry.npmjs.org/minimist/-/minimist-1.2.8.tgz",
      "integrity": "sha512-2yyAR8qBkN3YuheJanUpWC5U3bb5osDywNB8RzDVlDwDHbocAJveqqj1u8+SVD7jkWT4yvsHCpWqqWqAxb0zCA==",
      "dev": true,
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/minipass": {
      "version": "7.1.2",
      "resolved": "https://registry.npmjs.org/minipass/-/minipass-7.1.2.tgz",
      "integrity": "sha512-qOOzS1cBTWYF4BH8fVePDBOO9iptMnGUEZwNc/cMWnTV2nVLZ7VoNWEPHkYczZA0pdoA7dl6e7FL659nX9S2aw==",
      "dev": true,
      "engines": {
        "node": ">=16 || 14 >=14.17"
      }
    },
    "node_modules/minizlib": {
      "version": "3.0.2",
      "resolved": "https://registry.npmjs.org/minizlib/-/minizlib-3.0.2.tgz",
      "integrity": "sha512-oG62iEk+CYt5Xj2YqI5Xi9xWUeZhDI8jjQmC5oThVH5JGCTgIjr7ciJDzC7MBzYd//WvR1OTmP5Q38Q8ShQtVA==",
      "dev": true,
      "dependencies": {
        "minipass": "^7.1.2"
      },
      "engines": {
        "node": ">= 18"
      }
    },
    "node_modules/mkdirp": {
      "version": "3.0.1",
      "resolved": "https://registry.npmjs.org/mkdirp/-/mkdirp-3.0.1.tgz",
      "integrity": "sha512-+NsyUUAZDmo6YVHzL/stxSu3t9YS1iljliy3BSDrXJ/dkn1KYdmtZODGGjLcc9XLgVVpH4KshHB8XmZgMhaBXg==",
      "dev": true,
      "bin": {
        "mkdirp": "dist/cjs/src/bin.js"
      },
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/sponsors/isaacs"
      }
    },
    "node_modules/ms": {
      "version": "2.1.3",
      "resolved": "https://registry.npmjs.org/ms/-/ms-2.1.3.tgz",
      "integrity": "sha512-6FlzubTLZG3J2a/NVCAleEhjzq5oxgHyaCU9yYXvcLsvoVaHJq/s5xXI6/XXP6tz7R9xAOtHnSO/tXtF3WRTlA=="
    },
    "node_modules/nanoid": {
      "version": "3.3.11",
      "resolved": "https://registry.npmjs.org/nanoid/-/nanoid-3.3.11.tgz",
      "integrity": "sha512-N8SpfPUnUp1bK+PMYW8qSWdl9U+wwNWI4QKxOYDy9JAro3WMX7p2OeVRF9v+347pnakNevPmiHhNmZ2HbFA76w==",
      "funding": [
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "bin": {
        "nanoid": "bin/nanoid.cjs"
      },
      "engines": {
        "node": "^10 || ^12 || ^13.7 || ^14 || >=15.0.1"
      }
    },
    "node_modules/napi-postinstall": {
      "version": "0.3.3",
      "resolved": "https://registry.npmjs.org/napi-postinstall/-/napi-postinstall-0.3.3.tgz",
      "integrity": "sha512-uTp172LLXSxuSYHv/kou+f6KW3SMppU9ivthaVTXian9sOt3XM/zHYHpRZiLgQoxeWfYUnslNWQHF1+G71xcow==",
      "dev": true,
      "bin": {
        "napi-postinstall": "lib/cli.js"
      },
      "engines": {
        "node": "^12.20.0 || ^14.18.0 || >=16.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/napi-postinstall"
      }
    },
    "node_modules/natural-compare": {
      "version": "1.4.0",
      "resolved": "https://registry.npmjs.org/natural-compare/-/natural-compare-1.4.0.tgz",
      "integrity": "sha512-OWND8ei3VtNC9h7V60qff3SVobHr996CTwgxubgyQYEpg290h9J0buyECNNJexkFm5sOajh5G116RYA1c8ZMSw==",
      "dev": true
    },
    "node_modules/next": {
      "version": "15.4.6",
      "resolved": "https://registry.npmjs.org/next/-/next-15.4.6.tgz",
      "integrity": "sha512-us++E/Q80/8+UekzB3SAGs71AlLDsadpFMXVNM/uQ0BMwsh9m3mr0UNQIfjKed8vpWXsASe+Qifrnu1oLIcKEQ==",
      "dependencies": {
        "@next/env": "15.4.6",
        "@swc/helpers": "0.5.15",
        "caniuse-lite": "^1.0.30001579",
        "postcss": "8.4.31",
        "styled-jsx": "5.1.6"
      },
      "bin": {
        "next": "dist/bin/next"
      },
      "engines": {
        "node": "^18.18.0 || ^19.8.0 || >= 20.0.0"
      },
      "optionalDependencies": {
        "@next/swc-darwin-arm64": "15.4.6",
        "@next/swc-darwin-x64": "15.4.6",
        "@next/swc-linux-arm64-gnu": "15.4.6",
        "@next/swc-linux-arm64-musl": "15.4.6",
        "@next/swc-linux-x64-gnu": "15.4.6",
        "@next/swc-linux-x64-musl": "15.4.6",
        "@next/swc-win32-arm64-msvc": "15.4.6",
        "@next/swc-win32-x64-msvc": "15.4.6",
        "sharp": "^0.34.3"
      },
      "peerDependencies": {
        "@opentelemetry/api": "^1.1.0",
        "@playwright/test": "^1.51.1",
        "babel-plugin-react-compiler": "*",
        "react": "^18.2.0 || 19.0.0-rc-de68d2f4-20241204 || ^19.0.0",
        "react-dom": "^18.2.0 || 19.0.0-rc-de68d2f4-20241204 || ^19.0.0",
        "sass": "^1.3.0"
      },
      "peerDependenciesMeta": {
        "@opentelemetry/api": {
          "optional": true
        },
        "@playwright/test": {
          "optional": true
        },
        "babel-plugin-react-compiler": {
          "optional": true
        },
        "sass": {
          "optional": true
        }
      }
    },
    "node_modules/next/node_modules/postcss": {
      "version": "8.4.31",
      "resolved": "https://registry.npmjs.org/postcss/-/postcss-8.4.31.tgz",
      "integrity": "sha512-PS08Iboia9mts/2ygV3eLpY5ghnUcfLV/EXTOW1E2qYxJKGGBUtNjN76FYHnMs36RmARn41bC0AZmn+rR0OVpQ==",
      "funding": [
        {
          "type": "opencollective",
          "url": "https://opencollective.com/postcss/"
        },
        {
          "type": "tidelift",
          "url": "https://tidelift.com/funding/github/npm/postcss"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "dependencies": {
        "nanoid": "^3.3.6",
        "picocolors": "^1.0.0",
        "source-map-js": "^1.0.2"
      },
      "engines": {
        "node": "^10 || ^12 || >=14"
      }
    },
    "node_modules/nwsapi": {
      "version": "2.2.21",
      "resolved": "https://registry.npmjs.org/nwsapi/-/nwsapi-2.2.21.tgz",
      "integrity": "sha512-o6nIY3qwiSXl7/LuOU0Dmuctd34Yay0yeuZRLFmDPrrdHpXKFndPj3hM+YEPVHYC5fx2otBx4Ilc/gyYSAUaIA==",
      "dev": true
    },
    "node_modules/object-assign": {
      "version": "4.1.1",
      "resolved": "https://registry.npmjs.org/object-assign/-/object-assign-4.1.1.tgz",
      "integrity": "sha512-rJgTQnkUnH1sFw8yT6VSU3zD3sWmu6sZhIseY8VX+GRu3P6F7Fu+JNDoXfklElbLJSnc3FUQHVe4cU5hj+BcUg==",
      "dev": true,
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/object-inspect": {
      "version": "1.13.4",
      "resolved": "https://registry.npmjs.org/object-inspect/-/object-inspect-1.13.4.tgz",
      "integrity": "sha512-W67iLl4J2EXEGTbfeHCffrjDfitvLANg0UlX3wFUUSTx92KXRFegMHUVgSqE+wvhAbi4WqjGg9czysTV2Epbew==",
      "dev": true,
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/object-keys": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/object-keys/-/object-keys-1.1.1.tgz",
      "integrity": "sha512-NuAESUOUMrlIXOfHKzD6bpPu3tYt3xvjNdRIQ+FeT0lNb4K8WR70CaDxhuNguS2XG+GjkyMwOzsN5ZktImfhLA==",
      "dev": true,
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/object.assign": {
      "version": "4.1.7",
      "resolved": "https://registry.npmjs.org/object.assign/-/object.assign-4.1.7.tgz",
      "integrity": "sha512-nK28WOo+QIjBkDduTINE4JkF/UJJKyf2EJxvJKfblDpyg0Q+pkOHNTL0Qwy6NP6FhE/EnzV73BxxqcJaXY9anw==",
      "dev": true,
      "dependencies": {
        "call-bind": "^1.0.8",
        "call-bound": "^1.0.3",
        "define-properties": "^1.2.1",
        "es-object-atoms": "^1.0.0",
        "has-symbols": "^1.1.0",
        "object-keys": "^1.1.1"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/object.entries": {
      "version": "1.1.9",
      "resolved": "https://registry.npmjs.org/object.entries/-/object.entries-1.1.9.tgz",
      "integrity": "sha512-8u/hfXFRBD1O0hPUjioLhoWFHRmt6tKA4/vZPyckBr18l1KE9uHrFaFaUi8MDRTpi4uak2goyPTSNJLXX2k2Hw==",
      "dev": true,
      "dependencies": {
        "call-bind": "^1.0.8",
        "call-bound": "^1.0.4",
        "define-properties": "^1.2.1",
        "es-object-atoms": "^1.1.1"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/object.fromentries": {
      "version": "2.0.8",
      "resolved": "https://registry.npmjs.org/object.fromentries/-/object.fromentries-2.0.8.tgz",
      "integrity": "sha512-k6E21FzySsSK5a21KRADBd/NGneRegFO5pLHfdQLpRDETUNJueLXs3WCzyQ3tFRDYgbq3KHGXfTbi2bs8WQ6rQ==",
      "dev": true,
      "dependencies": {
        "call-bind": "^1.0.7",
        "define-properties": "^1.2.1",
        "es-abstract": "^1.23.2",
        "es-object-atoms": "^1.0.0"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/object.groupby": {
      "version": "1.0.3",
      "resolved": "https://registry.npmjs.org/object.groupby/-/object.groupby-1.0.3.tgz",
      "integrity": "sha512-+Lhy3TQTuzXI5hevh8sBGqbmurHbbIjAi0Z4S63nthVLmLxfbj4T54a4CfZrXIrt9iP4mVAPYMo/v99taj3wjQ==",
      "dev": true,
      "dependencies": {
        "call-bind": "^1.0.7",
        "define-properties": "^1.2.1",
        "es-abstract": "^1.23.2"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/object.values": {
      "version": "1.2.1",
      "resolved": "https://registry.npmjs.org/object.values/-/object.values-1.2.1.tgz",
      "integrity": "sha512-gXah6aZrcUxjWg2zR2MwouP2eHlCBzdV4pygudehaKXSGW4v2AsRQUK+lwwXhii6KFZcunEnmSUoYp5CXibxtA==",
      "dev": true,
      "dependencies": {
        "call-bind": "^1.0.8",
        "call-bound": "^1.0.3",
        "define-properties": "^1.2.1",
        "es-object-atoms": "^1.0.0"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/optionator": {
      "version": "0.9.4",
      "resolved": "https://registry.npmjs.org/optionator/-/optionator-0.9.4.tgz",
      "integrity": "sha512-6IpQ7mKUxRcZNLIObR0hz7lxsapSSIYNZJwXPGeF0mTVqGKFIXj1DQcMoT22S3ROcLyY/rz0PWaWZ9ayWmad9g==",
      "dev": true,
      "dependencies": {
        "deep-is": "^0.1.3",
        "fast-levenshtein": "^2.0.6",
        "levn": "^0.4.1",
        "prelude-ls": "^1.2.1",
        "type-check": "^0.4.0",
        "word-wrap": "^1.2.5"
      },
      "engines": {
        "node": ">= 0.8.0"
      }
    },
    "node_modules/own-keys": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/own-keys/-/own-keys-1.0.1.tgz",
      "integrity": "sha512-qFOyK5PjiWZd+QQIh+1jhdb9LpxTF0qs7Pm8o5QHYZ0M3vKqSqzsZaEB6oWlxZ+q2sJBMI/Ktgd2N5ZwQoRHfg==",
      "dev": true,
      "dependencies": {
        "get-intrinsic": "^1.2.6",
        "object-keys": "^1.1.1",
        "safe-push-apply": "^1.0.0"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/p-limit": {
      "version": "3.1.0",
      "resolved": "https://registry.npmjs.org/p-limit/-/p-limit-3.1.0.tgz",
      "integrity": "sha512-TYOanM3wGwNGsZN2cVTYPArw454xnXj5qmWF1bEoAc4+cU/ol7GVh7odevjp1FNHduHc3KZMcFduxU5Xc6uJRQ==",
      "dev": true,
      "dependencies": {
        "yocto-queue": "^0.1.0"
      },
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/p-locate": {
      "version": "5.0.0",
      "resolved": "https://registry.npmjs.org/p-locate/-/p-locate-5.0.0.tgz",
      "integrity": "sha512-LaNjtRWUBY++zB5nE/NwcaoMylSPk+S+ZHNB1TzdbMJMny6dynpAGt7X/tl/QYq3TIeE6nxHppbo2LGymrG5Pw==",
      "dev": true,
      "dependencies": {
        "p-limit": "^3.0.2"
      },
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/package-json-from-dist": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/package-json-from-dist/-/package-json-from-dist-1.0.1.tgz",
      "integrity": "sha512-UEZIS3/by4OC8vL3P2dTXRETpebLI2NiI5vIrjaD/5UtrkFX/tNbwjTSRAGC/+7CAo2pIcBaRgWmcBBHcsaCIw==",
      "dev": true
    },
    "node_modules/parent-module": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/parent-module/-/parent-module-1.0.1.tgz",
      "integrity": "sha512-GQ2EWRpQV8/o+Aw8YqtfZZPfNRWZYkbidE9k5rpl/hC3vtHHBfGm2Ifi6qWV+coDGkrUKZAxE3Lot5kcsRlh+g==",
      "dev": true,
      "dependencies": {
        "callsites": "^3.0.0"
      },
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/parse5": {
      "version": "7.3.0",
      "resolved": "https://registry.npmjs.org/parse5/-/parse5-7.3.0.tgz",
      "integrity": "sha512-IInvU7fabl34qmi9gY8XOVxhYyMyuH2xUNpb2q8/Y+7552KlejkRvqvD19nMoUW/uQGGbqNpA6Tufu5FL5BZgw==",
      "dev": true,
      "dependencies": {
        "entities": "^6.0.0"
      },
      "funding": {
        "url": "https://github.com/inikulin/parse5?sponsor=1"
      }
    },
    "node_modules/path-exists": {
      "version": "4.0.0",
      "resolved": "https://registry.npmjs.org/path-exists/-/path-exists-4.0.0.tgz",
      "integrity": "sha512-ak9Qy5Q7jYb2Wwcey5Fpvg2KoAc/ZIhLSLOSBmRmygPsGwkVVt0fZa0qrtMz+m6tJTAHfZQ8FnmB4MG4LWy7/w==",
      "dev": true,
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/path-key": {
      "version": "3.1.1",
      "resolved": "https://registry.npmjs.org/path-key/-/path-key-3.1.1.tgz",
      "integrity": "sha512-ojmeN0qd+y0jszEtoY48r0Peq5dwMEkIlCOu6Q5f41lfkswXuKtYrhgoTpLnyIcHm24Uhqx+5Tqm2InSwLhE6Q==",
      "dev": true,
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/path-parse": {
      "version": "1.0.7",
      "resolved": "https://registry.npmjs.org/path-parse/-/path-parse-1.0.7.tgz",
      "integrity": "sha512-LDJzPVEEEPR+y48z93A0Ed0yXb8pAByGWo/k5YYdYgpY2/2EsOsksJrq7lOHxryrVOn1ejG6oAp8ahvOIQD8sw==",
      "dev": true
    },
    "node_modules/path-scurry": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/path-scurry/-/path-scurry-1.11.1.tgz",
      "integrity": "sha512-Xa4Nw17FS9ApQFJ9umLiJS4orGjm7ZzwUrwamcGQuHSzDyth9boKDaycYdDcZDuqYATXw4HFXgaqWTctW/v1HA==",
      "dev": true,
      "dependencies": {
        "lru-cache": "^10.2.0",
        "minipass": "^5.0.0 || ^6.0.2 || ^7.0.0"
      },
      "engines": {
        "node": ">=16 || 14 >=14.18"
      },
      "funding": {
        "url": "https://github.com/sponsors/isaacs"
      }
    },
    "node_modules/path-scurry/node_modules/lru-cache": {
      "version": "10.4.3",
      "resolved": "https://registry.npmjs.org/lru-cache/-/lru-cache-10.4.3.tgz",
      "integrity": "sha512-JNAzZcXrCt42VGLuYz0zfAzDfAvJWW6AfYlDBQyDV5DClI2m5sAmK+OIO7s59XfsRsWHp02jAJrRadPRGTt6SQ==",
      "dev": true
    },
    "node_modules/pathe": {
      "version": "2.0.3",
      "resolved": "https://registry.npmjs.org/pathe/-/pathe-2.0.3.tgz",
      "integrity": "sha512-WUjGcAqP1gQacoQe+OBJsFA7Ld4DyXuUIjZ5cc75cLHvJ7dtNsTugphxIADwspS+AraAUePCKrSVtPLFj/F88w==",
      "dev": true
    },
    "node_modules/pathval": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/pathval/-/pathval-2.0.1.tgz",
      "integrity": "sha512-//nshmD55c46FuFw26xV/xFAaB5HF9Xdap7HJBBnrKdAd6/GxDBaNA1870O79+9ueg61cZLSVc+OaFlfmObYVQ==",
      "dev": true,
      "engines": {
        "node": ">= 14.16"
      }
    },
    "node_modules/picocolors": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/picocolors/-/picocolors-1.1.1.tgz",
      "integrity": "sha512-xceH2snhtb5M9liqDsmEw56le376mTZkEX/jEb/RxNFyegNul7eNslCXP9FDj/Lcu0X8KEyMceP2ntpaHrDEVA=="
    },
    "node_modules/picomatch": {
      "version": "2.3.1",
      "resolved": "https://registry.npmjs.org/picomatch/-/picomatch-2.3.1.tgz",
      "integrity": "sha512-JU3teHTNjmE2VCGFzuY8EXzCDVwEqB2a8fsIvwaStHhAWJEeVd1o1QD80CU6+ZdEXXSLbSsuLwJjkCBWqRQUVA==",
      "dev": true,
      "engines": {
        "node": ">=8.6"
      },
      "funding": {
        "url": "https://github.com/sponsors/jonschlinkert"
      }
    },
    "node_modules/possible-typed-array-names": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/possible-typed-array-names/-/possible-typed-array-names-1.1.0.tgz",
      "integrity": "sha512-/+5VFTchJDoVj3bhoqi6UeymcD00DAwb1nJwamzPvHEszJ4FpF6SNNbUbOS8yI56qHzdV8eK0qEfOSiodkTdxg==",
      "dev": true,
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/postcss": {
      "version": "8.5.6",
      "resolved": "https://registry.npmjs.org/postcss/-/postcss-8.5.6.tgz",
      "integrity": "sha512-3Ybi1tAuwAP9s0r1UQ2J4n5Y0G05bJkpUIO0/bI9MhwmD70S5aTWbXGBwxHrelT+XM1k6dM0pk+SwNkpTRN7Pg==",
      "dev": true,
      "funding": [
        {
          "type": "opencollective",
          "url": "https://opencollective.com/postcss/"
        },
        {
          "type": "tidelift",
          "url": "https://tidelift.com/funding/github/npm/postcss"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "dependencies": {
        "nanoid": "^3.3.11",
        "picocolors": "^1.1.1",
        "source-map-js": "^1.2.1"
      },
      "engines": {
        "node": "^10 || ^12 || >=14"
      }
    },
    "node_modules/prelude-ls": {
      "version": "1.2.1",
      "resolved": "https://registry.npmjs.org/prelude-ls/-/prelude-ls-1.2.1.tgz",
      "integrity": "sha512-vkcDPrRZo1QZLbn5RLGPpg/WmIQ65qoWWhcGKf/b5eplkkarX0m9z8ppCat4mlOqUsWpyNuYgO3VRyrYHSzX5g==",
      "dev": true,
      "engines": {
        "node": ">= 0.8.0"
      }
    },
    "node_modules/prop-types": {
      "version": "15.8.1",
      "resolved": "https://registry.npmjs.org/prop-types/-/prop-types-15.8.1.tgz",
      "integrity": "sha512-oj87CgZICdulUohogVAR7AjlC0327U4el4L6eAvOqCeudMDVU0NThNaV+b9Df4dXgSP1gXMTnPdhfe/2qDH5cg==",
      "dev": true,
      "dependencies": {
        "loose-envify": "^1.4.0",
        "object-assign": "^4.1.1",
        "react-is": "^16.13.1"
      }
    },
    "node_modules/punycode": {
      "version": "2.3.1",
      "resolved": "https://registry.npmjs.org/punycode/-/punycode-2.3.1.tgz",
      "integrity": "sha512-vYt7UD1U9Wg6138shLtLOvdAu+8DsC/ilFtEVHcH+wydcSpNE20AfSOduf6MkRFahL5FY7X1oU7nKVZFtfq8Fg==",
      "dev": true,
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/queue-microtask": {
      "version": "1.2.3",
      "resolved": "https://registry.npmjs.org/queue-microtask/-/queue-microtask-1.2.3.tgz",
      "integrity": "sha512-NuaNSa6flKT5JaSYQzJok04JzTL1CA6aGhv5rfLW3PgqA+M2ChpZQnAC8h8i4ZFkBS8X5RqkDBHA7r4hej3K9A==",
      "dev": true,
      "funding": [
        {
          "type": "github",
          "url": "https://github.com/sponsors/feross"
        },
        {
          "type": "patreon",
          "url": "https://www.patreon.com/feross"
        },
        {
          "type": "consulting",
          "url": "https://feross.org/support"
        }
      ]
    },
    "node_modules/react": {
      "version": "19.1.0",
      "resolved": "https://registry.npmjs.org/react/-/react-19.1.0.tgz",
      "integrity": "sha512-FS+XFBNvn3GTAWq26joslQgWNoFu08F4kl0J4CgdNKADkdSGXQyTCnKteIAJy96Br6YbpEU1LSzV5dYtjMkMDg==",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/react-dom": {
      "version": "19.1.0",
      "resolved": "https://registry.npmjs.org/react-dom/-/react-dom-19.1.0.tgz",
      "integrity": "sha512-Xs1hdnE+DyKgeHJeJznQmYMIBG3TKIHJJT95Q58nHLSrElKlGQqDTR2HQ9fx5CN/Gk6Vh/kupBTDLU11/nDk/g==",
      "dependencies": {
        "scheduler": "^0.26.0"
      },
      "peerDependencies": {
        "react": "^19.1.0"
      }
    },
    "node_modules/react-is": {
      "version": "16.13.1",
      "resolved": "https://registry.npmjs.org/react-is/-/react-is-16.13.1.tgz",
      "integrity": "sha512-24e6ynE2H+OKt4kqsOvNd8kBpV65zoxbA4BVsEOB3ARVWQki/DHzaUoC5KuON/BiccDaCCTZBuOcfZs70kR8bQ==",
      "dev": true
    },
    "node_modules/react-remove-scroll": {
      "version": "2.7.1",
      "resolved": "https://registry.npmjs.org/react-remove-scroll/-/react-remove-scroll-2.7.1.tgz",
      "integrity": "sha512-HpMh8+oahmIdOuS5aFKKY6Pyog+FNaZV/XyJOq7b4YFwsFHe5yYfdbIalI4k3vU2nSDql7YskmUseHsRrJqIPA==",
      "dependencies": {
        "react-remove-scroll-bar": "^2.3.7",
        "react-style-singleton": "^2.2.3",
        "tslib": "^2.1.0",
        "use-callback-ref": "^1.3.3",
        "use-sidecar": "^1.1.3"
      },
      "engines": {
        "node": ">=10"
      },
      "peerDependencies": {
        "@types/react": "*",
        "react": "^16.8.0 || ^17.0.0 || ^18.0.0 || ^19.0.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        }
      }
    },
    "node_modules/react-remove-scroll-bar": {
      "version": "2.3.8",
      "resolved": "https://registry.npmjs.org/react-remove-scroll-bar/-/react-remove-scroll-bar-2.3.8.tgz",
      "integrity": "sha512-9r+yi9+mgU33AKcj6IbT9oRCO78WriSj6t/cF8DWBZJ9aOGPOTEDvdUDz1FwKim7QXWwmHqtdHnRJfhAxEG46Q==",
      "dependencies": {
        "react-style-singleton": "^2.2.2",
        "tslib": "^2.0.0"
      },
      "engines": {
        "node": ">=10"
      },
      "peerDependencies": {
        "@types/react": "*",
        "react": "^16.8.0 || ^17.0.0 || ^18.0.0 || ^19.0.0"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        }
      }
    },
    "node_modules/react-style-singleton": {
      "version": "2.2.3",
      "resolved": "https://registry.npmjs.org/react-style-singleton/-/react-style-singleton-2.2.3.tgz",
      "integrity": "sha512-b6jSvxvVnyptAiLjbkWLE/lOnR4lfTtDAl+eUC7RZy+QQWc6wRzIV2CE6xBuMmDxc2qIihtDCZD5NPOFl7fRBQ==",
      "dependencies": {
        "get-nonce": "^1.0.0",
        "tslib": "^2.0.0"
      },
      "engines": {
        "node": ">=10"
      },
      "peerDependencies": {
        "@types/react": "*",
        "react": "^16.8.0 || ^17.0.0 || ^18.0.0 || ^19.0.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        }
      }
    },
    "node_modules/reflect.getprototypeof": {
      "version": "1.0.10",
      "resolved": "https://registry.npmjs.org/reflect.getprototypeof/-/reflect.getprototypeof-1.0.10.tgz",
      "integrity": "sha512-00o4I+DVrefhv+nX0ulyi3biSHCPDe+yLv5o/p6d/UVlirijB8E16FtfwSAi4g3tcqrQ4lRAqQSoFEZJehYEcw==",
      "dev": true,
      "dependencies": {
        "call-bind": "^1.0.8",
        "define-properties": "^1.2.1",
        "es-abstract": "^1.23.9",
        "es-errors": "^1.3.0",
        "es-object-atoms": "^1.0.0",
        "get-intrinsic": "^1.2.7",
        "get-proto": "^1.0.1",
        "which-builtin-type": "^1.2.1"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/regexp.prototype.flags": {
      "version": "1.5.4",
      "resolved": "https://registry.npmjs.org/regexp.prototype.flags/-/regexp.prototype.flags-1.5.4.tgz",
      "integrity": "sha512-dYqgNSZbDwkaJ2ceRd9ojCGjBq+mOm9LmtXnAnEGyHhN/5R7iDW2TRw3h+o/jCFxus3P2LfWIIiwowAjANm7IA==",
      "dev": true,
      "dependencies": {
        "call-bind": "^1.0.8",
        "define-properties": "^1.2.1",
        "es-errors": "^1.3.0",
        "get-proto": "^1.0.1",
        "gopd": "^1.2.0",
        "set-function-name": "^2.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/resolve": {
      "version": "1.22.10",
      "resolved": "https://registry.npmjs.org/resolve/-/resolve-1.22.10.tgz",
      "integrity": "sha512-NPRy+/ncIMeDlTAsuqwKIiferiawhefFJtkNSW0qZJEqMEb+qBt/77B/jGeeek+F0uOeN05CDa6HXbbIgtVX4w==",
      "dev": true,
      "dependencies": {
        "is-core-module": "^2.16.0",
        "path-parse": "^1.0.7",
        "supports-preserve-symlinks-flag": "^1.0.0"
      },
      "bin": {
        "resolve": "bin/resolve"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/resolve-from": {
      "version": "4.0.0",
      "resolved": "https://registry.npmjs.org/resolve-from/-/resolve-from-4.0.0.tgz",
      "integrity": "sha512-pb/MYmXstAkysRFx8piNI1tGFNQIFA3vkE3Gq4EuA1dF6gHp/+vgZqsCGJapvy8N3Q+4o7FwvquPJcnZ7RYy4g==",
      "dev": true,
      "engines": {
        "node": ">=4"
      }
    },
    "node_modules/resolve-pkg-maps": {
      "version": "1.0.0",
      "resolved": "https://registry.npmjs.org/resolve-pkg-maps/-/resolve-pkg-maps-1.0.0.tgz",
      "integrity": "sha512-seS2Tj26TBVOC2NIc2rOe2y2ZO7efxITtLZcGSOnHHNOQ7CkiUBfw0Iw2ck6xkIhPwLhKNLS8BO+hEpngQlqzw==",
      "dev": true,
      "funding": {
        "url": "https://github.com/privatenumber/resolve-pkg-maps?sponsor=1"
      }
    },
    "node_modules/reusify": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/reusify/-/reusify-1.1.0.tgz",
      "integrity": "sha512-g6QUff04oZpHs0eG5p83rFLhHeV00ug/Yf9nZM6fLeUrPguBTkTQOdpAWWspMh55TZfVQDPaN3NQJfbVRAxdIw==",
      "dev": true,
      "engines": {
        "iojs": ">=1.0.0",
        "node": ">=0.10.0"
      }
    },
    "node_modules/rollup": {
      "version": "4.46.4",
      "resolved": "https://registry.npmjs.org/rollup/-/rollup-4.46.4.tgz",
      "integrity": "sha512-YbxoxvoqNg9zAmw4+vzh1FkGAiZRK+LhnSrbSrSXMdZYsRPDWoshcSd/pldKRO6lWzv/e9TiJAVQyirYIeSIPQ==",
      "dev": true,
      "dependencies": {
        "@types/estree": "1.0.8"
      },
      "bin": {
        "rollup": "dist/bin/rollup"
      },
      "engines": {
        "node": ">=18.0.0",
        "npm": ">=8.0.0"
      },
      "optionalDependencies": {
        "@rollup/rollup-android-arm-eabi": "4.46.4",
        "@rollup/rollup-android-arm64": "4.46.4",
        "@rollup/rollup-darwin-arm64": "4.46.4",
        "@rollup/rollup-darwin-x64": "4.46.4",
        "@rollup/rollup-freebsd-arm64": "4.46.4",
        "@rollup/rollup-freebsd-x64": "4.46.4",
        "@rollup/rollup-linux-arm-gnueabihf": "4.46.4",
        "@rollup/rollup-linux-arm-musleabihf": "4.46.4",
        "@rollup/rollup-linux-arm64-gnu": "4.46.4",
        "@rollup/rollup-linux-arm64-musl": "4.46.4",
        "@rollup/rollup-linux-loongarch64-gnu": "4.46.4",
        "@rollup/rollup-linux-ppc64-gnu": "4.46.4",
        "@rollup/rollup-linux-riscv64-gnu": "4.46.4",
        "@rollup/rollup-linux-riscv64-musl": "4.46.4",
        "@rollup/rollup-linux-s390x-gnu": "4.46.4",
        "@rollup/rollup-linux-x64-gnu": "4.46.4",
        "@rollup/rollup-linux-x64-musl": "4.46.4",
        "@rollup/rollup-win32-arm64-msvc": "4.46.4",
        "@rollup/rollup-win32-ia32-msvc": "4.46.4",
        "@rollup/rollup-win32-x64-msvc": "4.46.4",
        "fsevents": "~2.3.2"
      }
    },
    "node_modules/rrweb-cssom": {
      "version": "0.8.0",
      "resolved": "https://registry.npmjs.org/rrweb-cssom/-/rrweb-cssom-0.8.0.tgz",
      "integrity": "sha512-guoltQEx+9aMf2gDZ0s62EcV8lsXR+0w8915TC3ITdn2YueuNjdAYh/levpU9nFaoChh9RUS5ZdQMrKfVEN9tw==",
      "dev": true
    },
    "node_modules/run-parallel": {
      "version": "1.2.0",
      "resolved": "https://registry.npmjs.org/run-parallel/-/run-parallel-1.2.0.tgz",
      "integrity": "sha512-5l4VyZR86LZ/lDxZTR6jqL8AFE2S0IFLMP26AbjsLVADxHdhB/c0GUsH+y39UfCi3dzz8OlQuPmnaJOMoDHQBA==",
      "dev": true,
      "funding": [
        {
          "type": "github",
          "url": "https://github.com/sponsors/feross"
        },
        {
          "type": "patreon",
          "url": "https://www.patreon.com/feross"
        },
        {
          "type": "consulting",
          "url": "https://feross.org/support"
        }
      ],
      "dependencies": {
        "queue-microtask": "^1.2.2"
      }
    },
    "node_modules/safe-array-concat": {
      "version": "1.1.3",
      "resolved": "https://registry.npmjs.org/safe-array-concat/-/safe-array-concat-1.1.3.tgz",
      "integrity": "sha512-AURm5f0jYEOydBj7VQlVvDrjeFgthDdEF5H1dP+6mNpoXOMo1quQqJ4wvJDyRZ9+pO3kGWoOdmV08cSv2aJV6Q==",
      "dev": true,
      "dependencies": {
        "call-bind": "^1.0.8",
        "call-bound": "^1.0.2",
        "get-intrinsic": "^1.2.6",
        "has-symbols": "^1.1.0",
        "isarray": "^2.0.5"
      },
      "engines": {
        "node": ">=0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/safe-buffer": {
      "version": "5.2.1",
      "resolved": "https://registry.npmjs.org/safe-buffer/-/safe-buffer-5.2.1.tgz",
      "integrity": "sha512-rp3So07KcdmmKbGvgaNxQSJr7bGVSVk5S9Eq1F+ppbRo70+YeaDxkw5Dd8NPN+GD6bjnYm2VuPuCXmpuYvmCXQ==",
      "funding": [
        {
          "type": "github",
          "url": "https://github.com/sponsors/feross"
        },
        {
          "type": "patreon",
          "url": "https://www.patreon.com/feross"
        },
        {
          "type": "consulting",
          "url": "https://feross.org/support"
        }
      ]
    },
    "node_modules/safe-push-apply": {
      "version": "1.0.0",
      "resolved": "https://registry.npmjs.org/safe-push-apply/-/safe-push-apply-1.0.0.tgz",
      "integrity": "sha512-iKE9w/Z7xCzUMIZqdBsp6pEQvwuEebH4vdpjcDWnyzaI6yl6O9FHvVpmGelvEHNsoY6wGblkxR6Zty/h00WiSA==",
      "dev": true,
      "dependencies": {
        "es-errors": "^1.3.0",
        "isarray": "^2.0.5"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/safe-regex-test": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/safe-regex-test/-/safe-regex-test-1.1.0.tgz",
      "integrity": "sha512-x/+Cz4YrimQxQccJf5mKEbIa1NzeCRNI5Ecl/ekmlYaampdNLPalVyIcCZNNH3MvmqBugV5TMYZXv0ljslUlaw==",
      "dev": true,
      "dependencies": {
        "call-bound": "^1.0.2",
        "es-errors": "^1.3.0",
        "is-regex": "^1.2.1"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/safer-buffer": {
      "version": "2.1.2",
      "resolved": "https://registry.npmjs.org/safer-buffer/-/safer-buffer-2.1.2.tgz",
      "integrity": "sha512-YZo3K82SD7Riyi0E1EQPojLz7kpepnSQI9IyPbHHg1XXXevb5dJI7tpyN2ADxGcQbHG7vcyRHk0cbwqcQriUtg==",
      "dev": true
    },
    "node_modules/saxes": {
      "version": "6.0.0",
      "resolved": "https://registry.npmjs.org/saxes/-/saxes-6.0.0.tgz",
      "integrity": "sha512-xAg7SOnEhrm5zI3puOOKyy1OMcMlIJZYNJY7xLBwSze0UjhPLnWfj2GF2EpT0jmzaJKIWKHLsaSSajf35bcYnA==",
      "dev": true,
      "dependencies": {
        "xmlchars": "^2.2.0"
      },
      "engines": {
        "node": ">=v12.22.7"
      }
    },
    "node_modules/scheduler": {
      "version": "0.26.0",
      "resolved": "https://registry.npmjs.org/scheduler/-/scheduler-0.26.0.tgz",
      "integrity": "sha512-NlHwttCI/l5gCPR3D1nNXtWABUmBwvZpEQiD4IXSbIDq8BzLIK/7Ir5gTFSGZDUu37K5cMNp0hFtzO38sC7gWA=="
    },
    "node_modules/semver": {
      "version": "7.7.2",
      "resolved": "https://registry.npmjs.org/semver/-/semver-7.7.2.tgz",
      "integrity": "sha512-RF0Fw+rO5AMf9MAyaRXI4AV0Ulj5lMHqVxxdSgiVbixSCXoEmmX/jk0CuJw4+3SqroYO9VoUh+HcuJivvtJemA==",
      "bin": {
        "semver": "bin/semver.js"
      },
      "engines": {
        "node": ">=10"
      }
    },
    "node_modules/set-function-length": {
      "version": "1.2.2",
      "resolved": "https://registry.npmjs.org/set-function-length/-/set-function-length-1.2.2.tgz",
      "integrity": "sha512-pgRc4hJ4/sNjWCSS9AmnS40x3bNMDTknHgL5UaMBTMyJnU90EgWh1Rz+MC9eFu4BuN/UwZjKQuY/1v3rM7HMfg==",
      "dev": true,
      "dependencies": {
        "define-data-property": "^1.1.4",
        "es-errors": "^1.3.0",
        "function-bind": "^1.1.2",
        "get-intrinsic": "^1.2.4",
        "gopd": "^1.0.1",
        "has-property-descriptors": "^1.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/set-function-name": {
      "version": "2.0.2",
      "resolved": "https://registry.npmjs.org/set-function-name/-/set-function-name-2.0.2.tgz",
      "integrity": "sha512-7PGFlmtwsEADb0WYyvCMa1t+yke6daIG4Wirafur5kcf+MhUnPms1UeR0CKQdTZD81yESwMHbtn+TR+dMviakQ==",
      "dev": true,
      "dependencies": {
        "define-data-property": "^1.1.4",
        "es-errors": "^1.3.0",
        "functions-have-names": "^1.2.3",
        "has-property-descriptors": "^1.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/set-proto": {
      "version": "1.0.0",
      "resolved": "https://registry.npmjs.org/set-proto/-/set-proto-1.0.0.tgz",
      "integrity": "sha512-RJRdvCo6IAnPdsvP/7m6bsQqNnn1FCBX5ZNtFL98MmFF/4xAIJTIg1YbHW5DC2W5SKZanrC6i4HsJqlajw/dZw==",
      "dev": true,
      "dependencies": {
        "dunder-proto": "^1.0.1",
        "es-errors": "^1.3.0",
        "es-object-atoms": "^1.0.0"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/sharp": {
      "version": "0.34.3",
      "resolved": "https://registry.npmjs.org/sharp/-/sharp-0.34.3.tgz",
      "integrity": "sha512-eX2IQ6nFohW4DbvHIOLRB3MHFpYqaqvXd3Tp5e/T/dSH83fxaNJQRvDMhASmkNTsNTVF2/OOopzRCt7xokgPfg==",
      "hasInstallScript": true,
      "optional": true,
      "dependencies": {
        "color": "^4.2.3",
        "detect-libc": "^2.0.4",
        "semver": "^7.7.2"
      },
      "engines": {
        "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/libvips"
      },
      "optionalDependencies": {
        "@img/sharp-darwin-arm64": "0.34.3",
        "@img/sharp-darwin-x64": "0.34.3",
        "@img/sharp-libvips-darwin-arm64": "1.2.0",
        "@img/sharp-libvips-darwin-x64": "1.2.0",
        "@img/sharp-libvips-linux-arm": "1.2.0",
        "@img/sharp-libvips-linux-arm64": "1.2.0",
        "@img/sharp-libvips-linux-ppc64": "1.2.0",
        "@img/sharp-libvips-linux-s390x": "1.2.0",
        "@img/sharp-libvips-linux-x64": "1.2.0",
        "@img/sharp-libvips-linuxmusl-arm64": "1.2.0",
        "@img/sharp-libvips-linuxmusl-x64": "1.2.0",
        "@img/sharp-linux-arm": "0.34.3",
        "@img/sharp-linux-arm64": "0.34.3",
        "@img/sharp-linux-ppc64": "0.34.3",
        "@img/sharp-linux-s390x": "0.34.3",
        "@img/sharp-linux-x64": "0.34.3",
        "@img/sharp-linuxmusl-arm64": "0.34.3",
        "@img/sharp-linuxmusl-x64": "0.34.3",
        "@img/sharp-wasm32": "0.34.3",
        "@img/sharp-win32-arm64": "0.34.3",
        "@img/sharp-win32-ia32": "0.34.3",
        "@img/sharp-win32-x64": "0.34.3"
      }
    },
    "node_modules/shebang-command": {
      "version": "2.0.0",
      "resolved": "https://registry.npmjs.org/shebang-command/-/shebang-command-2.0.0.tgz",
      "integrity": "sha512-kHxr2zZpYtdmrN1qDjrrX/Z1rR1kG8Dx+gkpK1G4eXmvXswmcE1hTWBWYUzlraYw1/yZp6YuDY77YtvbN0dmDA==",
      "dev": true,
      "dependencies": {
        "shebang-regex": "^3.0.0"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/shebang-regex": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/shebang-regex/-/shebang-regex-3.0.0.tgz",
      "integrity": "sha512-7++dFhtcx3353uBaq8DDR4NuxBetBzC7ZQOhmTQInHEd6bSrXdiEyzCvG07Z44UYdLShWUyXt5M/yhz8ekcb1A==",
      "dev": true,
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/side-channel": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/side-channel/-/side-channel-1.1.0.tgz",
      "integrity": "sha512-ZX99e6tRweoUXqR+VBrslhda51Nh5MTQwou5tnUDgbtyM0dBgmhEDtWGP/xbKn6hqfPRHujUNwz5fy/wbbhnpw==",
      "dev": true,
      "dependencies": {
        "es-errors": "^1.3.0",
        "object-inspect": "^1.13.3",
        "side-channel-list": "^1.0.0",
        "side-channel-map": "^1.0.1",
        "side-channel-weakmap": "^1.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/side-channel-list": {
      "version": "1.0.0",
      "resolved": "https://registry.npmjs.org/side-channel-list/-/side-channel-list-1.0.0.tgz",
      "integrity": "sha512-FCLHtRD/gnpCiCHEiJLOwdmFP+wzCmDEkc9y7NsYxeF4u7Btsn1ZuwgwJGxImImHicJArLP4R0yX4c2KCrMrTA==",
      "dev": true,
      "dependencies": {
        "es-errors": "^1.3.0",
        "object-inspect": "^1.13.3"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/side-channel-map": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/side-channel-map/-/side-channel-map-1.0.1.tgz",
      "integrity": "sha512-VCjCNfgMsby3tTdo02nbjtM/ewra6jPHmpThenkTYh8pG9ucZ/1P8So4u4FGBek/BjpOVsDCMoLA/iuBKIFXRA==",
      "dev": true,
      "dependencies": {
        "call-bound": "^1.0.2",
        "es-errors": "^1.3.0",
        "get-intrinsic": "^1.2.5",
        "object-inspect": "^1.13.3"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/side-channel-weakmap": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/side-channel-weakmap/-/side-channel-weakmap-1.0.2.tgz",
      "integrity": "sha512-WPS/HvHQTYnHisLo9McqBHOJk2FkHO/tlpvldyrnem4aeQp4hai3gythswg6p01oSoTl58rcpiFAjF2br2Ak2A==",
      "dev": true,
      "dependencies": {
        "call-bound": "^1.0.2",
        "es-errors": "^1.3.0",
        "get-intrinsic": "^1.2.5",
        "object-inspect": "^1.13.3",
        "side-channel-map": "^1.0.1"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/siginfo": {
      "version": "2.0.0",
      "resolved": "https://registry.npmjs.org/siginfo/-/siginfo-2.0.0.tgz",
      "integrity": "sha512-ybx0WO1/8bSBLEWXZvEd7gMW3Sn3JFlW3TvX1nREbDLRNQNaeNN8WK0meBwPdAaOI7TtRRRJn/Es1zhrrCHu7g==",
      "dev": true
    },
    "node_modules/signal-exit": {
      "version": "4.1.0",
      "resolved": "https://registry.npmjs.org/signal-exit/-/signal-exit-4.1.0.tgz",
      "integrity": "sha512-bzyZ1e88w9O1iNJbKnOlvYTrWPDl46O1bG0D3XInv+9tkPrxrN8jUUTiFlDkkmKWgn1M6CfIA13SuGqOa9Korw==",
      "dev": true,
      "engines": {
        "node": ">=14"
      },
      "funding": {
        "url": "https://github.com/sponsors/isaacs"
      }
    },
    "node_modules/simple-swizzle": {
      "version": "0.2.2",
      "resolved": "https://registry.npmjs.org/simple-swizzle/-/simple-swizzle-0.2.2.tgz",
      "integrity": "sha512-JA//kQgZtbuY83m+xT+tXJkmJncGMTFT+C+g2h2R9uxkYIrE2yy9sgmcLhCnw57/WSD+Eh3J97FPEDFnbXnDUg==",
      "optional": true,
      "dependencies": {
        "is-arrayish": "^0.3.1"
      }
    },
    "node_modules/source-map-js": {
      "version": "1.2.1",
      "resolved": "https://registry.npmjs.org/source-map-js/-/source-map-js-1.2.1.tgz",
      "integrity": "sha512-UXWMKhLOwVKb728IUtQPXxfYU+usdybtUrK/8uGE8CQMvrhOpwvzDBwj0QhSL7MQc7vIsISBG8VQ8+IDQxpfQA==",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/stable-hash": {
      "version": "0.0.5",
      "resolved": "https://registry.npmjs.org/stable-hash/-/stable-hash-0.0.5.tgz",
      "integrity": "sha512-+L3ccpzibovGXFK+Ap/f8LOS0ahMrHTf3xu7mMLSpEGU0EO9ucaysSylKo9eRDFNhWve/y275iPmIZ4z39a9iA==",
      "dev": true
    },
    "node_modules/stackback": {
      "version": "0.0.2",
      "resolved": "https://registry.npmjs.org/stackback/-/stackback-0.0.2.tgz",
      "integrity": "sha512-1XMJE5fQo1jGH6Y/7ebnwPOBEkIEnT4QF32d5R1+VXdXveM0IBMJt8zfaxX1P3QhVwrYe+576+jkANtSS2mBbw==",
      "dev": true
    },
    "node_modules/std-env": {
      "version": "3.9.0",
      "resolved": "https://registry.npmjs.org/std-env/-/std-env-3.9.0.tgz",
      "integrity": "sha512-UGvjygr6F6tpH7o2qyqR6QYpwraIjKSdtzyBdyytFOHmPZY917kwdwLG0RbOjWOnKmnm3PeHjaoLLMie7kPLQw==",
      "dev": true
    },
    "node_modules/stop-iteration-iterator": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/stop-iteration-iterator/-/stop-iteration-iterator-1.1.0.tgz",
      "integrity": "sha512-eLoXW/DHyl62zxY4SCaIgnRhuMr6ri4juEYARS8E6sCEqzKpOiE521Ucofdx+KnDZl5xmvGYaaKCk5FEOxJCoQ==",
      "dev": true,
      "dependencies": {
        "es-errors": "^1.3.0",
        "internal-slot": "^1.1.0"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/string-width": {
      "version": "5.1.2",
      "resolved": "https://registry.npmjs.org/string-width/-/string-width-5.1.2.tgz",
      "integrity": "sha512-HnLOCR3vjcY8beoNLtcjZ5/nxn2afmME6lhrDrebokqMap+XbeW8n9TXpPDOqdGK5qcI3oT0GKTW6wC7EMiVqA==",
      "dev": true,
      "dependencies": {
        "eastasianwidth": "^0.2.0",
        "emoji-regex": "^9.2.2",
        "strip-ansi": "^7.0.1"
      },
      "engines": {
        "node": ">=12"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/string-width-cjs": {
      "name": "string-width",
      "version": "4.2.3",
      "resolved": "https://registry.npmjs.org/string-width/-/string-width-4.2.3.tgz",
      "integrity": "sha512-wKyQRQpjJ0sIp62ErSZdGsjMJWsap5oRNihHhu6G7JVO/9jIB6UyevL+tXuOqrng8j/cxKTWyWUwvSTriiZz/g==",
      "dev": true,
      "dependencies": {
        "emoji-regex": "^8.0.0",
        "is-fullwidth-code-point": "^3.0.0",
        "strip-ansi": "^6.0.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/string-width-cjs/node_modules/ansi-regex": {
      "version": "5.0.1",
      "resolved": "https://registry.npmjs.org/ansi-regex/-/ansi-regex-5.0.1.tgz",
      "integrity": "sha512-quJQXlTSUGL2LH9SUXo8VwsY4soanhgo6LNSm84E1LBcE8s3O0wpdiRzyR9z/ZZJMlMWv37qOOb9pdJlMUEKFQ==",
      "dev": true,
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/string-width-cjs/node_modules/emoji-regex": {
      "version": "8.0.0",
      "resolved": "https://registry.npmjs.org/emoji-regex/-/emoji-regex-8.0.0.tgz",
      "integrity": "sha512-MSjYzcWNOA0ewAHpz0MxpYFvwg6yjy1NG3xteoqz644VCo/RPgnr1/GGt+ic3iJTzQ8Eu3TdM14SawnVUmGE6A==",
      "dev": true
    },
    "node_modules/string-width-cjs/node_modules/strip-ansi": {
      "version": "6.0.1",
      "resolved": "https://registry.npmjs.org/strip-ansi/-/strip-ansi-6.0.1.tgz",
      "integrity": "sha512-Y38VPSHcqkFrCpFnQ9vuSXmquuv5oXOKpGeT6aGrr3o3Gc9AlVa6JBfUSOCnbxGGZF+/0ooI7KrPuUSztUdU5A==",
      "dev": true,
      "dependencies": {
        "ansi-regex": "^5.0.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/string.prototype.includes": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/string.prototype.includes/-/string.prototype.includes-2.0.1.tgz",
      "integrity": "sha512-o7+c9bW6zpAdJHTtujeePODAhkuicdAryFsfVKwA+wGw89wJ4GTY484WTucM9hLtDEOpOvI+aHnzqnC5lHp4Rg==",
      "dev": true,
      "dependencies": {
        "call-bind": "^1.0.7",
        "define-properties": "^1.2.1",
        "es-abstract": "^1.23.3"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/string.prototype.matchall": {
      "version": "4.0.12",
      "resolved": "https://registry.npmjs.org/string.prototype.matchall/-/string.prototype.matchall-4.0.12.tgz",
      "integrity": "sha512-6CC9uyBL+/48dYizRf7H7VAYCMCNTBeM78x/VTUe9bFEaxBepPJDa1Ow99LqI/1yF7kuy7Q3cQsYMrcjGUcskA==",
      "dev": true,
      "dependencies": {
        "call-bind": "^1.0.8",
        "call-bound": "^1.0.3",
        "define-properties": "^1.2.1",
        "es-abstract": "^1.23.6",
        "es-errors": "^1.3.0",
        "es-object-atoms": "^1.0.0",
        "get-intrinsic": "^1.2.6",
        "gopd": "^1.2.0",
        "has-symbols": "^1.1.0",
        "internal-slot": "^1.1.0",
        "regexp.prototype.flags": "^1.5.3",
        "set-function-name": "^2.0.2",
        "side-channel": "^1.1.0"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/string.prototype.repeat": {
      "version": "1.0.0",
      "resolved": "https://registry.npmjs.org/string.prototype.repeat/-/string.prototype.repeat-1.0.0.tgz",
      "integrity": "sha512-0u/TldDbKD8bFCQ/4f5+mNRrXwZ8hg2w7ZR8wa16e8z9XpePWl3eGEcUD0OXpEH/VJH/2G3gjUtR3ZOiBe2S/w==",
      "dev": true,
      "dependencies": {
        "define-properties": "^1.1.3",
        "es-abstract": "^1.17.5"
      }
    },
    "node_modules/string.prototype.trim": {
      "version": "1.2.10",
      "resolved": "https://registry.npmjs.org/string.prototype.trim/-/string.prototype.trim-1.2.10.tgz",
      "integrity": "sha512-Rs66F0P/1kedk5lyYyH9uBzuiI/kNRmwJAR9quK6VOtIpZ2G+hMZd+HQbbv25MgCA6gEffoMZYxlTod4WcdrKA==",
      "dev": true,
      "dependencies": {
        "call-bind": "^1.0.8",
        "call-bound": "^1.0.2",
        "define-data-property": "^1.1.4",
        "define-properties": "^1.2.1",
        "es-abstract": "^1.23.5",
        "es-object-atoms": "^1.0.0",
        "has-property-descriptors": "^1.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/string.prototype.trimend": {
      "version": "1.0.9",
      "resolved": "https://registry.npmjs.org/string.prototype.trimend/-/string.prototype.trimend-1.0.9.tgz",
      "integrity": "sha512-G7Ok5C6E/j4SGfyLCloXTrngQIQU3PWtXGst3yM7Bea9FRURf1S42ZHlZZtsNque2FN2PoUhfZXYLNWwEr4dLQ==",
      "dev": true,
      "dependencies": {
        "call-bind": "^1.0.8",
        "call-bound": "^1.0.2",
        "define-properties": "^1.2.1",
        "es-object-atoms": "^1.0.0"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/string.prototype.trimstart": {
      "version": "1.0.8",
      "resolved": "https://registry.npmjs.org/string.prototype.trimstart/-/string.prototype.trimstart-1.0.8.tgz",
      "integrity": "sha512-UXSH262CSZY1tfu3G3Secr6uGLCFVPMhIqHjlgCUtCCcgihYc/xKs9djMTMUOb2j1mVSeU8EU6NWc/iQKU6Gfg==",
      "dev": true,
      "dependencies": {
        "call-bind": "^1.0.7",
        "define-properties": "^1.2.1",
        "es-object-atoms": "^1.0.0"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/strip-ansi": {
      "version": "7.1.0",
      "resolved": "https://registry.npmjs.org/strip-ansi/-/strip-ansi-7.1.0.tgz",
      "integrity": "sha512-iq6eVVI64nQQTRYq2KtEg2d2uU7LElhTJwsH4YzIHZshxlgZms/wIc4VoDQTlG/IvVIrBKG06CrZnp0qv7hkcQ==",
      "dev": true,
      "dependencies": {
        "ansi-regex": "^6.0.1"
      },
      "engines": {
        "node": ">=12"
      },
      "funding": {
        "url": "https://github.com/chalk/strip-ansi?sponsor=1"
      }
    },
    "node_modules/strip-ansi-cjs": {
      "name": "strip-ansi",
      "version": "6.0.1",
      "resolved": "https://registry.npmjs.org/strip-ansi/-/strip-ansi-6.0.1.tgz",
      "integrity": "sha512-Y38VPSHcqkFrCpFnQ9vuSXmquuv5oXOKpGeT6aGrr3o3Gc9AlVa6JBfUSOCnbxGGZF+/0ooI7KrPuUSztUdU5A==",
      "dev": true,
      "dependencies": {
        "ansi-regex": "^5.0.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/strip-ansi-cjs/node_modules/ansi-regex": {
      "version": "5.0.1",
      "resolved": "https://registry.npmjs.org/ansi-regex/-/ansi-regex-5.0.1.tgz",
      "integrity": "sha512-quJQXlTSUGL2LH9SUXo8VwsY4soanhgo6LNSm84E1LBcE8s3O0wpdiRzyR9z/ZZJMlMWv37qOOb9pdJlMUEKFQ==",
      "dev": true,
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/strip-bom": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/strip-bom/-/strip-bom-3.0.0.tgz",
      "integrity": "sha512-vavAMRXOgBVNF6nyEEmL3DBK19iRpDcoIwW+swQ+CbGiu7lju6t+JklA1MHweoWtadgt4ISVUsXLyDq34ddcwA==",
      "dev": true,
      "engines": {
        "node": ">=4"
      }
    },
    "node_modules/strip-json-comments": {
      "version": "3.1.1",
      "resolved": "https://registry.npmjs.org/strip-json-comments/-/strip-json-comments-3.1.1.tgz",
      "integrity": "sha512-6fPc+R4ihwqP6N/aIv2f1gMH8lOVtWQHoqC4yK6oSDVVocumAsfCqjkXnqiYMhmMwS/mEHLp7Vehlt3ql6lEig==",
      "dev": true,
      "engines": {
        "node": ">=8"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/strip-literal": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/strip-literal/-/strip-literal-3.0.0.tgz",
      "integrity": "sha512-TcccoMhJOM3OebGhSBEmp3UZ2SfDMZUEBdRA/9ynfLi8yYajyWX3JiXArcJt4Umh4vISpspkQIY8ZZoCqjbviA==",
      "dev": true,
      "dependencies": {
        "js-tokens": "^9.0.1"
      },
      "funding": {
        "url": "https://github.com/sponsors/antfu"
      }
    },
    "node_modules/strip-literal/node_modules/js-tokens": {
      "version": "9.0.1",
      "resolved": "https://registry.npmjs.org/js-tokens/-/js-tokens-9.0.1.tgz",
      "integrity": "sha512-mxa9E9ITFOt0ban3j6L5MpjwegGz6lBQmM1IJkWeBZGcMxto50+eWdjC/52xDbS2vy0k7vIMK0Fe2wfL9OQSpQ==",
      "dev": true
    },
    "node_modules/styled-jsx": {
      "version": "5.1.6",
      "resolved": "https://registry.npmjs.org/styled-jsx/-/styled-jsx-5.1.6.tgz",
      "integrity": "sha512-qSVyDTeMotdvQYoHWLNGwRFJHC+i+ZvdBRYosOFgC+Wg1vx4frN2/RG/NA7SYqqvKNLf39P2LSRA2pu6n0XYZA==",
      "dependencies": {
        "client-only": "0.0.1"
      },
      "engines": {
        "node": ">= 12.0.0"
      },
      "peerDependencies": {
        "react": ">= 16.8.0 || 17.x.x || ^18.0.0-0 || ^19.0.0-0"
      },
      "peerDependenciesMeta": {
        "@babel/core": {
          "optional": true
        },
        "babel-plugin-macros": {
          "optional": true
        }
      }
    },
    "node_modules/supports-color": {
      "version": "7.2.0",
      "resolved": "https://registry.npmjs.org/supports-color/-/supports-color-7.2.0.tgz",
      "integrity": "sha512-qpCAvRl9stuOHveKsn7HncJRvv501qIacKzQlO/+Lwxc9+0q2wLyv4Dfvt80/DPn2pqOBsJdDiogXGR9+OvwRw==",
      "dev": true,
      "dependencies": {
        "has-flag": "^4.0.0"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/supports-preserve-symlinks-flag": {
      "version": "1.0.0",
      "resolved": "https://registry.npmjs.org/supports-preserve-symlinks-flag/-/supports-preserve-symlinks-flag-1.0.0.tgz",
      "integrity": "sha512-ot0WnXS9fgdkgIcePe6RHNk1WA8+muPa6cSjeR3V8K27q9BB1rTE3R1p7Hv0z1ZyAc8s6Vvv8DIyWf681MAt0w==",
      "dev": true,
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/symbol-tree": {
      "version": "3.2.4",
      "resolved": "https://registry.npmjs.org/symbol-tree/-/symbol-tree-3.2.4.tgz",
      "integrity": "sha512-9QNk5KwDF+Bvz+PyObkmSYjI5ksVUYtjW7AU22r2NKcfLJcXp96hkDWU3+XndOsUb+AQ9QhfzfCT2O+CNWT5Tw==",
      "dev": true
    },
    "node_modules/tailwind-merge": {
      "version": "3.3.1",
      "resolved": "https://registry.npmjs.org/tailwind-merge/-/tailwind-merge-3.3.1.tgz",
      "integrity": "sha512-gBXpgUm/3rp1lMZZrM/w7D8GKqshif0zAymAhbCyIt8KMe+0v9DQ7cdYLR4FHH/cKpdTXb+A/tKKU3eolfsI+g==",
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/dcastil"
      }
    },
    "node_modules/tailwindcss": {
      "version": "4.1.12",
      "resolved": "https://registry.npmjs.org/tailwindcss/-/tailwindcss-4.1.12.tgz",
      "integrity": "sha512-DzFtxOi+7NsFf7DBtI3BJsynR+0Yp6etH+nRPTbpWnS2pZBaSksv/JGctNwSWzbFjp0vxSqknaUylseZqMDGrA=="
    },
    "node_modules/tailwindcss-animate": {
      "version": "1.0.7",
      "resolved": "https://registry.npmjs.org/tailwindcss-animate/-/tailwindcss-animate-1.0.7.tgz",
      "integrity": "sha512-bl6mpH3T7I3UFxuvDEXLxy/VuFxBk5bbzplh7tXI68mwMokNYd1t9qPBHlnyTwfa4JGC4zP516I1hYYtQ/vspA==",
      "peerDependencies": {
        "tailwindcss": ">=3.0.0 || insiders"
      }
    },
    "node_modules/tapable": {
      "version": "2.2.2",
      "resolved": "https://registry.npmjs.org/tapable/-/tapable-2.2.2.tgz",
      "integrity": "sha512-Re10+NauLTMCudc7T5WLFLAwDhQ0JWdrMK+9B2M8zR5hRExKmsRDCBA7/aV/pNJFltmBFO5BAMlQFi/vq3nKOg==",
      "dev": true,
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/tar": {
      "version": "7.4.3",
      "resolved": "https://registry.npmjs.org/tar/-/tar-7.4.3.tgz",
      "integrity": "sha512-5S7Va8hKfV7W5U6g3aYxXmlPoZVAwUMy9AOKyF2fVuZa2UD3qZjg578OrLRt8PcNN1PleVaL/5/yYATNL0ICUw==",
      "dev": true,
      "dependencies": {
        "@isaacs/fs-minipass": "^4.0.0",
        "chownr": "^3.0.0",
        "minipass": "^7.1.2",
        "minizlib": "^3.0.1",
        "mkdirp": "^3.0.1",
        "yallist": "^5.0.0"
      },
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/test-exclude": {
      "version": "7.0.1",
      "resolved": "https://registry.npmjs.org/test-exclude/-/test-exclude-7.0.1.tgz",
      "integrity": "sha512-pFYqmTw68LXVjeWJMST4+borgQP2AyMNbg1BpZh9LbyhUeNkeaPF9gzfPGUAnSMV3qPYdWUwDIjjCLiSDOl7vg==",
      "dev": true,
      "dependencies": {
        "@istanbuljs/schema": "^0.1.2",
        "glob": "^10.4.1",
        "minimatch": "^9.0.4"
      },
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/test-exclude/node_modules/brace-expansion": {
      "version": "2.0.2",
      "resolved": "https://registry.npmjs.org/brace-expansion/-/brace-expansion-2.0.2.tgz",
      "integrity": "sha512-Jt0vHyM+jmUBqojB7E1NIYadt0vI0Qxjxd2TErW94wDz+E2LAm5vKMXXwg6ZZBTHPuUlDgQHKXvjGBdfcF1ZDQ==",
      "dev": true,
      "dependencies": {
        "balanced-match": "^1.0.0"
      }
    },
    "node_modules/test-exclude/node_modules/minimatch": {
      "version": "9.0.5",
      "resolved": "https://registry.npmjs.org/minimatch/-/minimatch-9.0.5.tgz",
      "integrity": "sha512-G6T0ZX48xgozx7587koeX9Ys2NYy6Gmv//P89sEte9V9whIapMNF4idKxnW2QtCcLiTWlb/wfCabAtAFWhhBow==",
      "dev": true,
      "dependencies": {
        "brace-expansion": "^2.0.1"
      },
      "engines": {
        "node": ">=16 || 14 >=14.17"
      },
      "funding": {
        "url": "https://github.com/sponsors/isaacs"
      }
    },
    "node_modules/tinybench": {
      "version": "2.9.0",
      "resolved": "https://registry.npmjs.org/tinybench/-/tinybench-2.9.0.tgz",
      "integrity": "sha512-0+DUvqWMValLmha6lr4kD8iAMK1HzV0/aKnCtWb9v9641TnP/MFb7Pc2bxoxQjTXAErryXVgUOfv2YqNllqGeg==",
      "dev": true
    },
    "node_modules/tinyexec": {
      "version": "0.3.2",
      "resolved": "https://registry.npmjs.org/tinyexec/-/tinyexec-0.3.2.tgz",
      "integrity": "sha512-KQQR9yN7R5+OSwaK0XQoj22pwHoTlgYqmUscPYoknOoWCWfj/5/ABTMRi69FrKU5ffPVh5QcFikpWJI/P1ocHA==",
      "dev": true
    },
    "node_modules/tinyglobby": {
      "version": "0.2.14",
      "resolved": "https://registry.npmjs.org/tinyglobby/-/tinyglobby-0.2.14.tgz",
      "integrity": "sha512-tX5e7OM1HnYr2+a2C/4V0htOcSQcoSTH9KgJnVvNm5zm/cyEWKJ7j7YutsH9CxMdtOkkLFy2AHrMci9IM8IPZQ==",
      "dev": true,
      "dependencies": {
        "fdir": "^6.4.4",
        "picomatch": "^4.0.2"
      },
      "engines": {
        "node": ">=12.0.0"
      },
      "funding": {
        "url": "https://github.com/sponsors/SuperchupuDev"
      }
    },
    "node_modules/tinyglobby/node_modules/fdir": {
      "version": "6.5.0",
      "resolved": "https://registry.npmjs.org/fdir/-/fdir-6.5.0.tgz",
      "integrity": "sha512-tIbYtZbucOs0BRGqPJkshJUYdL+SDH7dVM8gjy+ERp3WAUjLEFJE+02kanyHtwjWOnwrKYBiwAmM0p4kLJAnXg==",
      "dev": true,
      "engines": {
        "node": ">=12.0.0"
      },
      "peerDependencies": {
        "picomatch": "^3 || ^4"
      },
      "peerDependenciesMeta": {
        "picomatch": {
          "optional": true
        }
      }
    },
    "node_modules/tinyglobby/node_modules/picomatch": {
      "version": "4.0.3",
      "resolved": "https://registry.npmjs.org/picomatch/-/picomatch-4.0.3.tgz",
      "integrity": "sha512-5gTmgEY/sqK6gFXLIsQNH19lWb4ebPDLA4SdLP7dsWkIXHWlG66oPuVvXSGFPppYZz8ZDZq0dYYrbHfBCVUb1Q==",
      "dev": true,
      "engines": {
        "node": ">=12"
      },
      "funding": {
        "url": "https://github.com/sponsors/jonschlinkert"
      }
    },
    "node_modules/tinypool": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/tinypool/-/tinypool-1.1.1.tgz",
      "integrity": "sha512-Zba82s87IFq9A9XmjiX5uZA/ARWDrB03OHlq+Vw1fSdt0I+4/Kutwy8BP4Y/y/aORMo61FQ0vIb5j44vSo5Pkg==",
      "dev": true,
      "engines": {
        "node": "^18.0.0 || >=20.0.0"
      }
    },
    "node_modules/tinyrainbow": {
      "version": "2.0.0",
      "resolved": "https://registry.npmjs.org/tinyrainbow/-/tinyrainbow-2.0.0.tgz",
      "integrity": "sha512-op4nsTR47R6p0vMUUoYl/a+ljLFVtlfaXkLQmqfLR1qHma1h/ysYk4hEXZ880bf2CYgTskvTa/e196Vd5dDQXw==",
      "dev": true,
      "engines": {
        "node": ">=14.0.0"
      }
    },
    "node_modules/tinyspy": {
      "version": "4.0.3",
      "resolved": "https://registry.npmjs.org/tinyspy/-/tinyspy-4.0.3.tgz",
      "integrity": "sha512-t2T/WLB2WRgZ9EpE4jgPJ9w+i66UZfDc8wHh0xrwiRNN+UwH98GIJkTeZqX9rg0i0ptwzqW+uYeIF0T4F8LR7A==",
      "dev": true,
      "engines": {
        "node": ">=14.0.0"
      }
    },
    "node_modules/tldts": {
      "version": "6.1.86",
      "resolved": "https://registry.npmjs.org/tldts/-/tldts-6.1.86.tgz",
      "integrity": "sha512-WMi/OQ2axVTf/ykqCQgXiIct+mSQDFdH2fkwhPwgEwvJ1kSzZRiinb0zF2Xb8u4+OqPChmyI6MEu4EezNJz+FQ==",
      "dev": true,
      "dependencies": {
        "tldts-core": "^6.1.86"
      },
      "bin": {
        "tldts": "bin/cli.js"
      }
    },
    "node_modules/tldts-core": {
      "version": "6.1.86",
      "resolved": "https://registry.npmjs.org/tldts-core/-/tldts-core-6.1.86.tgz",
      "integrity": "sha512-Je6p7pkk+KMzMv2XXKmAE3McmolOQFdxkKw0R8EYNr7sELW46JqnNeTX8ybPiQgvg1ymCoF8LXs5fzFaZvJPTA==",
      "dev": true
    },
    "node_modules/to-regex-range": {
      "version": "5.0.1",
      "resolved": "https://registry.npmjs.org/to-regex-range/-/to-regex-range-5.0.1.tgz",
      "integrity": "sha512-65P7iz6X5yEr1cwcgvQxbbIw7Uk3gOy5dIdtZ4rDveLqhrdJP+Li/Hx6tyK0NEb+2GCyneCMJiGqrADCSNk8sQ==",
      "dev": true,
      "dependencies": {
        "is-number": "^7.0.0"
      },
      "engines": {
        "node": ">=8.0"
      }
    },
    "node_modules/tough-cookie": {
      "version": "5.1.2",
      "resolved": "https://registry.npmjs.org/tough-cookie/-/tough-cookie-5.1.2.tgz",
      "integrity": "sha512-FVDYdxtnj0G6Qm/DhNPSb8Ju59ULcup3tuJxkFb5K8Bv2pUXILbf0xZWU8PX8Ov19OXljbUyveOFwRMwkXzO+A==",
      "dev": true,
      "dependencies": {
        "tldts": "^6.1.32"
      },
      "engines": {
        "node": ">=16"
      }
    },
    "node_modules/tr46": {
      "version": "5.1.1",
      "resolved": "https://registry.npmjs.org/tr46/-/tr46-5.1.1.tgz",
      "integrity": "sha512-hdF5ZgjTqgAntKkklYw0R03MG2x/bSzTtkxmIRw/sTNV8YXsCJ1tfLAX23lhxhHJlEf3CRCOCGGWw3vI3GaSPw==",
      "dev": true,
      "dependencies": {
        "punycode": "^2.3.1"
      },
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/ts-api-utils": {
      "version": "2.1.0",
      "resolved": "https://registry.npmjs.org/ts-api-utils/-/ts-api-utils-2.1.0.tgz",
      "integrity": "sha512-CUgTZL1irw8u29bzrOD/nH85jqyc74D6SshFgujOIA7osm2Rz7dYH77agkx7H4FBNxDq7Cjf+IjaX/8zwFW+ZQ==",
      "dev": true,
      "engines": {
        "node": ">=18.12"
      },
      "peerDependencies": {
        "typescript": ">=4.8.4"
      }
    },
    "node_modules/tsconfig-paths": {
      "version": "3.15.0",
      "resolved": "https://registry.npmjs.org/tsconfig-paths/-/tsconfig-paths-3.15.0.tgz",
      "integrity": "sha512-2Ac2RgzDe/cn48GvOe3M+o82pEFewD3UPbyoUHHdKasHwJKjds4fLXWf/Ux5kATBKN20oaFGu+jbElp1pos0mg==",
      "dev": true,
      "dependencies": {
        "@types/json5": "^0.0.29",
        "json5": "^1.0.2",
        "minimist": "^1.2.6",
        "strip-bom": "^3.0.0"
      }
    },
    "node_modules/tslib": {
      "version": "2.8.1",
      "resolved": "https://registry.npmjs.org/tslib/-/tslib-2.8.1.tgz",
      "integrity": "sha512-oJFu94HQb+KVduSUQL7wnpmqnfmLsOA/nAh6b6EH0wCEoK0/mPeXU6c3wKDV83MkOuHPRHtSXKKU99IBazS/2w=="
    },
    "node_modules/tw-animate-css": {
      "version": "1.3.7",
      "resolved": "https://registry.npmjs.org/tw-animate-css/-/tw-animate-css-1.3.7.tgz",
      "integrity": "sha512-lvLb3hTIpB5oGsk8JmLoAjeCHV58nKa2zHYn8yWOoG5JJusH3bhJlF2DLAZ/5NmJ+jyH3ssiAx/2KmbhavJy/A==",
      "dev": true,
      "funding": {
        "url": "https://github.com/sponsors/Wombosvideo"
      }
    },
    "node_modules/type-check": {
      "version": "0.4.0",
      "resolved": "https://registry.npmjs.org/type-check/-/type-check-0.4.0.tgz",
      "integrity": "sha512-XleUoc9uwGXqjWwXaUTZAmzMcFZ5858QA2vvx1Ur5xIcixXIP+8LnFDgRplU30us6teqdlskFfu+ae4K79Ooew==",
      "dev": true,
      "dependencies": {
        "prelude-ls": "^1.2.1"
      },
      "engines": {
        "node": ">= 0.8.0"
      }
    },
    "node_modules/typed-array-buffer": {
      "version": "1.0.3",
      "resolved": "https://registry.npmjs.org/typed-array-buffer/-/typed-array-buffer-1.0.3.tgz",
      "integrity": "sha512-nAYYwfY3qnzX30IkA6AQZjVbtK6duGontcQm1WSG1MD94YLqK0515GNApXkoxKOWMusVssAHWLh9SeaoefYFGw==",
      "dev": true,
      "dependencies": {
        "call-bound": "^1.0.3",
        "es-errors": "^1.3.0",
        "is-typed-array": "^1.1.14"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/typed-array-byte-length": {
      "version": "1.0.3",
      "resolved": "https://registry.npmjs.org/typed-array-byte-length/-/typed-array-byte-length-1.0.3.tgz",
      "integrity": "sha512-BaXgOuIxz8n8pIq3e7Atg/7s+DpiYrxn4vdot3w9KbnBhcRQq6o3xemQdIfynqSeXeDrF32x+WvfzmOjPiY9lg==",
      "dev": true,
      "dependencies": {
        "call-bind": "^1.0.8",
        "for-each": "^0.3.3",
        "gopd": "^1.2.0",
        "has-proto": "^1.2.0",
        "is-typed-array": "^1.1.14"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/typed-array-byte-offset": {
      "version": "1.0.4",
      "resolved": "https://registry.npmjs.org/typed-array-byte-offset/-/typed-array-byte-offset-1.0.4.tgz",
      "integrity": "sha512-bTlAFB/FBYMcuX81gbL4OcpH5PmlFHqlCCpAl8AlEzMz5k53oNDvN8p1PNOWLEmI2x4orp3raOFB51tv9X+MFQ==",
      "dev": true,
      "dependencies": {
        "available-typed-arrays": "^1.0.7",
        "call-bind": "^1.0.8",
        "for-each": "^0.3.3",
        "gopd": "^1.2.0",
        "has-proto": "^1.2.0",
        "is-typed-array": "^1.1.15",
        "reflect.getprototypeof": "^1.0.9"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/typed-array-length": {
      "version": "1.0.7",
      "resolved": "https://registry.npmjs.org/typed-array-length/-/typed-array-length-1.0.7.tgz",
      "integrity": "sha512-3KS2b+kL7fsuk/eJZ7EQdnEmQoaho/r6KUef7hxvltNA5DR8NAUM+8wJMbJyZ4G9/7i3v5zPBIMN5aybAh2/Jg==",
      "dev": true,
      "dependencies": {
        "call-bind": "^1.0.7",
        "for-each": "^0.3.3",
        "gopd": "^1.0.1",
        "is-typed-array": "^1.1.13",
        "possible-typed-array-names": "^1.0.0",
        "reflect.getprototypeof": "^1.0.6"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/typescript": {
      "version": "5.9.2",
      "resolved": "https://registry.npmjs.org/typescript/-/typescript-5.9.2.tgz",
      "integrity": "sha512-CWBzXQrc/qOkhidw1OzBTQuYRbfyxDXJMVJ1XNwUHGROVmuaeiEm3OslpZ1RV96d7SKKjZKrSJu3+t/xlw3R9A==",
      "dev": true,
      "bin": {
        "tsc": "bin/tsc",
        "tsserver": "bin/tsserver"
      },
      "engines": {
        "node": ">=14.17"
      }
    },
    "node_modules/unbox-primitive": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/unbox-primitive/-/unbox-primitive-1.1.0.tgz",
      "integrity": "sha512-nWJ91DjeOkej/TA8pXQ3myruKpKEYgqvpw9lz4OPHj/NWFNluYrjbz9j01CJ8yKQd2g4jFoOkINCTW2I5LEEyw==",
      "dev": true,
      "dependencies": {
        "call-bound": "^1.0.3",
        "has-bigints": "^1.0.2",
        "has-symbols": "^1.1.0",
        "which-boxed-primitive": "^1.1.1"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/undici-types": {
      "version": "6.21.0",
      "resolved": "https://registry.npmjs.org/undici-types/-/undici-types-6.21.0.tgz",
      "integrity": "sha512-iwDZqg0QAGrg9Rav5H4n0M64c3mkR59cJ6wQp+7C4nI0gsmExaedaYLNO44eT4AtBBwjbTiGPMlt2Md0T9H9JQ==",
      "dev": true
    },
    "node_modules/unrs-resolver": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/unrs-resolver/-/unrs-resolver-1.11.1.tgz",
      "integrity": "sha512-bSjt9pjaEBnNiGgc9rUiHGKv5l4/TGzDmYw3RhnkJGtLhbnnA/5qJj7x3dNDCRx/PJxu774LlH8lCOlB4hEfKg==",
      "dev": true,
      "hasInstallScript": true,
      "dependencies": {
        "napi-postinstall": "^0.3.0"
      },
      "funding": {
        "url": "https://opencollective.com/unrs-resolver"
      },
      "optionalDependencies": {
        "@unrs/resolver-binding-android-arm-eabi": "1.11.1",
        "@unrs/resolver-binding-android-arm64": "1.11.1",
        "@unrs/resolver-binding-darwin-arm64": "1.11.1",
        "@unrs/resolver-binding-darwin-x64": "1.11.1",
        "@unrs/resolver-binding-freebsd-x64": "1.11.1",
        "@unrs/resolver-binding-linux-arm-gnueabihf": "1.11.1",
        "@unrs/resolver-binding-linux-arm-musleabihf": "1.11.1",
        "@unrs/resolver-binding-linux-arm64-gnu": "1.11.1",
        "@unrs/resolver-binding-linux-arm64-musl": "1.11.1",
        "@unrs/resolver-binding-linux-ppc64-gnu": "1.11.1",
        "@unrs/resolver-binding-linux-riscv64-gnu": "1.11.1",
        "@unrs/resolver-binding-linux-riscv64-musl": "1.11.1",
        "@unrs/resolver-binding-linux-s390x-gnu": "1.11.1",
        "@unrs/resolver-binding-linux-x64-gnu": "1.11.1",
        "@unrs/resolver-binding-linux-x64-musl": "1.11.1",
        "@unrs/resolver-binding-wasm32-wasi": "1.11.1",
        "@unrs/resolver-binding-win32-arm64-msvc": "1.11.1",
        "@unrs/resolver-binding-win32-ia32-msvc": "1.11.1",
        "@unrs/resolver-binding-win32-x64-msvc": "1.11.1"
      }
    },
    "node_modules/uri-js": {
      "version": "4.4.1",
      "resolved": "https://registry.npmjs.org/uri-js/-/uri-js-4.4.1.tgz",
      "integrity": "sha512-7rKUyy33Q1yc98pQ1DAmLtwX109F7TIfWlW1Ydo8Wl1ii1SeHieeh0HHfPeL2fMXK6z0s8ecKs9frCuLJvndBg==",
      "dev": true,
      "dependencies": {
        "punycode": "^2.1.0"
      }
    },
    "node_modules/use-callback-ref": {
      "version": "1.3.3",
      "resolved": "https://registry.npmjs.org/use-callback-ref/-/use-callback-ref-1.3.3.tgz",
      "integrity": "sha512-jQL3lRnocaFtu3V00JToYz/4QkNWswxijDaCVNZRiRTO3HQDLsdu1ZtmIUvV4yPp+rvWm5j0y0TG/S61cuijTg==",
      "dependencies": {
        "tslib": "^2.0.0"
      },
      "engines": {
        "node": ">=10"
      },
      "peerDependencies": {
        "@types/react": "*",
        "react": "^16.8.0 || ^17.0.0 || ^18.0.0 || ^19.0.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        }
      }
    },
    "node_modules/use-sidecar": {
      "version": "1.1.3",
      "resolved": "https://registry.npmjs.org/use-sidecar/-/use-sidecar-1.1.3.tgz",
      "integrity": "sha512-Fedw0aZvkhynoPYlA5WXrMCAMm+nSWdZt6lzJQ7Ok8S6Q+VsHmHpRWndVRJ8Be0ZbkfPc5LRYH+5XrzXcEeLRQ==",
      "dependencies": {
        "detect-node-es": "^1.1.0",
        "tslib": "^2.0.0"
      },
      "engines": {
        "node": ">=10"
      },
      "peerDependencies": {
        "@types/react": "*",
        "react": "^16.8.0 || ^17.0.0 || ^18.0.0 || ^19.0.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        }
      }
    },
    "node_modules/uuid": {
      "version": "8.3.2",
      "resolved": "https://registry.npmjs.org/uuid/-/uuid-8.3.2.tgz",
      "integrity": "sha512-+NYs2QeMWy+GWFOEm9xnn6HCDp0l7QBD7ml8zLUmJ+93Q5NF0NocErnwkTkXVFNiX3/fpC6afS8Dhb/gz7R7eg==",
      "bin": {
        "uuid": "dist/bin/uuid"
      }
    },
    "node_modules/vite": {
      "version": "7.1.3",
      "resolved": "https://registry.npmjs.org/vite/-/vite-7.1.3.tgz",
      "integrity": "sha512-OOUi5zjkDxYrKhTV3V7iKsoS37VUM7v40+HuwEmcrsf11Cdx9y3DIr2Px6liIcZFwt3XSRpQvFpL3WVy7ApkGw==",
      "dev": true,
      "dependencies": {
        "esbuild": "^0.25.0",
        "fdir": "^6.5.0",
        "picomatch": "^4.0.3",
        "postcss": "^8.5.6",
        "rollup": "^4.43.0",
        "tinyglobby": "^0.2.14"
      },
      "bin": {
        "vite": "bin/vite.js"
      },
      "engines": {
        "node": "^20.19.0 || >=22.12.0"
      },
      "funding": {
        "url": "https://github.com/vitejs/vite?sponsor=1"
      },
      "optionalDependencies": {
        "fsevents": "~2.3.3"
      },
      "peerDependencies": {
        "@types/node": "^20.19.0 || >=22.12.0",
        "jiti": ">=1.21.0",
        "less": "^4.0.0",
        "lightningcss": "^1.21.0",
        "sass": "^1.70.0",
        "sass-embedded": "^1.70.0",
        "stylus": ">=0.54.8",
        "sugarss": "^5.0.0",
        "terser": "^5.16.0",
        "tsx": "^4.8.1",
        "yaml": "^2.4.2"
      },
      "peerDependenciesMeta": {
        "@types/node": {
          "optional": true
        },
        "jiti": {
          "optional": true
        },
        "less": {
          "optional": true
        },
        "lightningcss": {
          "optional": true
        },
        "sass": {
          "optional": true
        },
        "sass-embedded": {
          "optional": true
        },
        "stylus": {
          "optional": true
        },
        "sugarss": {
          "optional": true
        },
        "terser": {
          "optional": true
        },
        "tsx": {
          "optional": true
        },
        "yaml": {
          "optional": true
        }
      }
    },
    "node_modules/vite-node": {
      "version": "3.2.4",
      "resolved": "https://registry.npmjs.org/vite-node/-/vite-node-3.2.4.tgz",
      "integrity": "sha512-EbKSKh+bh1E1IFxeO0pg1n4dvoOTt0UDiXMd/qn++r98+jPO1xtJilvXldeuQ8giIB5IkpjCgMleHMNEsGH6pg==",
      "dev": true,
      "dependencies": {
        "cac": "^6.7.14",
        "debug": "^4.4.1",
        "es-module-lexer": "^1.7.0",
        "pathe": "^2.0.3",
        "vite": "^5.0.0 || ^6.0.0 || ^7.0.0-0"
      },
      "bin": {
        "vite-node": "vite-node.mjs"
      },
      "engines": {
        "node": "^18.0.0 || ^20.0.0 || >=22.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/vitest"
      }
    },
    "node_modules/vite/node_modules/fdir": {
      "version": "6.5.0",
      "resolved": "https://registry.npmjs.org/fdir/-/fdir-6.5.0.tgz",
      "integrity": "sha512-tIbYtZbucOs0BRGqPJkshJUYdL+SDH7dVM8gjy+ERp3WAUjLEFJE+02kanyHtwjWOnwrKYBiwAmM0p4kLJAnXg==",
      "dev": true,
      "engines": {
        "node": ">=12.0.0"
      },
      "peerDependencies": {
        "picomatch": "^3 || ^4"
      },
      "peerDependenciesMeta": {
        "picomatch": {
          "optional": true
        }
      }
    },
    "node_modules/vite/node_modules/picomatch": {
      "version": "4.0.3",
      "resolved": "https://registry.npmjs.org/picomatch/-/picomatch-4.0.3.tgz",
      "integrity": "sha512-5gTmgEY/sqK6gFXLIsQNH19lWb4ebPDLA4SdLP7dsWkIXHWlG66oPuVvXSGFPppYZz8ZDZq0dYYrbHfBCVUb1Q==",
      "dev": true,
      "engines": {
        "node": ">=12"
      },
      "funding": {
        "url": "https://github.com/sponsors/jonschlinkert"
      }
    },
    "node_modules/vitest": {
      "version": "3.2.4",
      "resolved": "https://registry.npmjs.org/vitest/-/vitest-3.2.4.tgz",
      "integrity": "sha512-LUCP5ev3GURDysTWiP47wRRUpLKMOfPh+yKTx3kVIEiu5KOMeqzpnYNsKyOoVrULivR8tLcks4+lga33Whn90A==",
      "dev": true,
      "dependencies": {
        "@types/chai": "^5.2.2",
        "@vitest/expect": "3.2.4",
        "@vitest/mocker": "3.2.4",
        "@vitest/pretty-format": "^3.2.4",
        "@vitest/runner": "3.2.4",
        "@vitest/snapshot": "3.2.4",
        "@vitest/spy": "3.2.4",
        "@vitest/utils": "3.2.4",
        "chai": "^5.2.0",
        "debug": "^4.4.1",
        "expect-type": "^1.2.1",
        "magic-string": "^0.30.17",
        "pathe": "^2.0.3",
        "picomatch": "^4.0.2",
        "std-env": "^3.9.0",
        "tinybench": "^2.9.0",
        "tinyexec": "^0.3.2",
        "tinyglobby": "^0.2.14",
        "tinypool": "^1.1.1",
        "tinyrainbow": "^2.0.0",
        "vite": "^5.0.0 || ^6.0.0 || ^7.0.0-0",
        "vite-node": "3.2.4",
        "why-is-node-running": "^2.3.0"
      },
      "bin": {
        "vitest": "vitest.mjs"
      },
      "engines": {
        "node": "^18.0.0 || ^20.0.0 || >=22.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/vitest"
      },
      "peerDependencies": {
        "@edge-runtime/vm": "*",
        "@types/debug": "^4.1.12",
        "@types/node": "^18.0.0 || ^20.0.0 || >=22.0.0",
        "@vitest/browser": "3.2.4",
        "@vitest/ui": "3.2.4",
        "happy-dom": "*",
        "jsdom": "*"
      },
      "peerDependenciesMeta": {
        "@edge-runtime/vm": {
          "optional": true
        },
        "@types/debug": {
          "optional": true
        },
        "@types/node": {
          "optional": true
        },
        "@vitest/browser": {
          "optional": true
        },
        "@vitest/ui": {
          "optional": true
        },
        "happy-dom": {
          "optional": true
        },
        "jsdom": {
          "optional": true
        }
      }
    },
    "node_modules/vitest/node_modules/picomatch": {
      "version": "4.0.3",
      "resolved": "https://registry.npmjs.org/picomatch/-/picomatch-4.0.3.tgz",
      "integrity": "sha512-5gTmgEY/sqK6gFXLIsQNH19lWb4ebPDLA4SdLP7dsWkIXHWlG66oPuVvXSGFPppYZz8ZDZq0dYYrbHfBCVUb1Q==",
      "dev": true,
      "engines": {
        "node": ">=12"
      },
      "funding": {
        "url": "https://github.com/sponsors/jonschlinkert"
      }
    },
    "node_modules/w3c-xmlserializer": {
      "version": "5.0.0",
      "resolved": "https://registry.npmjs.org/w3c-xmlserializer/-/w3c-xmlserializer-5.0.0.tgz",
      "integrity": "sha512-o8qghlI8NZHU1lLPrpi2+Uq7abh4GGPpYANlalzWxyWteJOCsr/P+oPBA49TOLu5FTZO4d3F9MnWJfiMo4BkmA==",
      "dev": true,
      "dependencies": {
        "xml-name-validator": "^5.0.0"
      },
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/webidl-conversions": {
      "version": "7.0.0",
      "resolved": "https://registry.npmjs.org/webidl-conversions/-/webidl-conversions-7.0.0.tgz",
      "integrity": "sha512-VwddBukDzu71offAQR975unBIGqfKZpM+8ZX6ySk8nYhVoo5CYaZyzt3YBvYtRtO+aoGlqxPg/B87NGVZ/fu6g==",
      "dev": true,
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/whatwg-encoding": {
      "version": "3.1.1",
      "resolved": "https://registry.npmjs.org/whatwg-encoding/-/whatwg-encoding-3.1.1.tgz",
      "integrity": "sha512-6qN4hJdMwfYBtE3YBTTHhoeuUrDBPZmbQaxWAqSALV/MeEnR5z1xd8UKud2RAkFoPkmB+hli1TZSnyi84xz1vQ==",
      "dev": true,
      "dependencies": {
        "iconv-lite": "0.6.3"
      },
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/whatwg-mimetype": {
      "version": "4.0.0",
      "resolved": "https://registry.npmjs.org/whatwg-mimetype/-/whatwg-mimetype-4.0.0.tgz",
      "integrity": "sha512-QaKxh0eNIi2mE9p2vEdzfagOKHCcj1pJ56EEHGQOVxp8r9/iszLUUV7v89x9O1p/T+NlTM5W7jW6+cz4Fq1YVg==",
      "dev": true,
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/whatwg-url": {
      "version": "14.2.0",
      "resolved": "https://registry.npmjs.org/whatwg-url/-/whatwg-url-14.2.0.tgz",
      "integrity": "sha512-De72GdQZzNTUBBChsXueQUnPKDkg/5A5zp7pFDuQAj5UFoENpiACU0wlCvzpAGnTkj++ihpKwKyYewn/XNUbKw==",
      "dev": true,
      "dependencies": {
        "tr46": "^5.1.0",
        "webidl-conversions": "^7.0.0"
      },
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/which": {
      "version": "2.0.2",
      "resolved": "https://registry.npmjs.org/which/-/which-2.0.2.tgz",
      "integrity": "sha512-BLI3Tl1TW3Pvl70l3yq3Y64i+awpwXqsGBYWkkqMtnbXgrMD+yj7rhW0kuEDxzJaYXGjEW5ogapKNMEKNMjibA==",
      "dev": true,
      "dependencies": {
        "isexe": "^2.0.0"
      },
      "bin": {
        "node-which": "bin/node-which"
      },
      "engines": {
        "node": ">= 8"
      }
    },
    "node_modules/which-boxed-primitive": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/which-boxed-primitive/-/which-boxed-primitive-1.1.1.tgz",
      "integrity": "sha512-TbX3mj8n0odCBFVlY8AxkqcHASw3L60jIuF8jFP78az3C2YhmGvqbHBpAjTRH2/xqYunrJ9g1jSyjCjpoWzIAA==",
      "dev": true,
      "dependencies": {
        "is-bigint": "^1.1.0",
        "is-boolean-object": "^1.2.1",
        "is-number-object": "^1.1.1",
        "is-string": "^1.1.1",
        "is-symbol": "^1.1.1"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/which-builtin-type": {
      "version": "1.2.1",
      "resolved": "https://registry.npmjs.org/which-builtin-type/-/which-builtin-type-1.2.1.tgz",
      "integrity": "sha512-6iBczoX+kDQ7a3+YJBnh3T+KZRxM/iYNPXicqk66/Qfm1b93iu+yOImkg0zHbj5LNOcNv1TEADiZ0xa34B4q6Q==",
      "dev": true,
      "dependencies": {
        "call-bound": "^1.0.2",
        "function.prototype.name": "^1.1.6",
        "has-tostringtag": "^1.0.2",
        "is-async-function": "^2.0.0",
        "is-date-object": "^1.1.0",
        "is-finalizationregistry": "^1.1.0",
        "is-generator-function": "^1.0.10",
        "is-regex": "^1.2.1",
        "is-weakref": "^1.0.2",
        "isarray": "^2.0.5",
        "which-boxed-primitive": "^1.1.0",
        "which-collection": "^1.0.2",
        "which-typed-array": "^1.1.16"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/which-collection": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/which-collection/-/which-collection-1.0.2.tgz",
      "integrity": "sha512-K4jVyjnBdgvc86Y6BkaLZEN933SwYOuBFkdmBu9ZfkcAbdVbpITnDmjvZ/aQjRXQrv5EPkTnD1s39GiiqbngCw==",
      "dev": true,
      "dependencies": {
        "is-map": "^2.0.3",
        "is-set": "^2.0.3",
        "is-weakmap": "^2.0.2",
        "is-weakset": "^2.0.3"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/which-typed-array": {
      "version": "1.1.19",
      "resolved": "https://registry.npmjs.org/which-typed-array/-/which-typed-array-1.1.19.tgz",
      "integrity": "sha512-rEvr90Bck4WZt9HHFC4DJMsjvu7x+r6bImz0/BrbWb7A2djJ8hnZMrWnHo9F8ssv0OMErasDhftrfROTyqSDrw==",
      "dev": true,
      "dependencies": {
        "available-typed-arrays": "^1.0.7",
        "call-bind": "^1.0.8",
        "call-bound": "^1.0.4",
        "for-each": "^0.3.5",
        "get-proto": "^1.0.1",
        "gopd": "^1.2.0",
        "has-tostringtag": "^1.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/why-is-node-running": {
      "version": "2.3.0",
      "resolved": "https://registry.npmjs.org/why-is-node-running/-/why-is-node-running-2.3.0.tgz",
      "integrity": "sha512-hUrmaWBdVDcxvYqnyh09zunKzROWjbZTiNy8dBEjkS7ehEDQibXJ7XvlmtbwuTclUiIyN+CyXQD4Vmko8fNm8w==",
      "dev": true,
      "dependencies": {
        "siginfo": "^2.0.0",
        "stackback": "0.0.2"
      },
      "bin": {
        "why-is-node-running": "cli.js"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/word-wrap": {
      "version": "1.2.5",
      "resolved": "https://registry.npmjs.org/word-wrap/-/word-wrap-1.2.5.tgz",
      "integrity": "sha512-BN22B5eaMMI9UMtjrGd5g5eCYPpCPDUy0FJXbYsaT5zYxjFOckS53SQDE3pWkVoWpHXVb3BrYcEN4Twa55B5cA==",
      "dev": true,
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/wrap-ansi": {
      "version": "8.1.0",
      "resolved": "https://registry.npmjs.org/wrap-ansi/-/wrap-ansi-8.1.0.tgz",
      "integrity": "sha512-si7QWI6zUMq56bESFvagtmzMdGOtoxfR+Sez11Mobfc7tm+VkUckk9bW2UeffTGVUbOksxmSw0AA2gs8g71NCQ==",
      "dev": true,
      "dependencies": {
        "ansi-styles": "^6.1.0",
        "string-width": "^5.0.1",
        "strip-ansi": "^7.0.1"
      },
      "engines": {
        "node": ">=12"
      },
      "funding": {
        "url": "https://github.com/chalk/wrap-ansi?sponsor=1"
      }
    },
    "node_modules/wrap-ansi-cjs": {
      "name": "wrap-ansi",
      "version": "7.0.0",
      "resolved": "https://registry.npmjs.org/wrap-ansi/-/wrap-ansi-7.0.0.tgz",
      "integrity": "sha512-YVGIj2kamLSTxw6NsZjoBxfSwsn0ycdesmc4p+Q21c5zPuZ1pl+NfxVdxPtdHvmNVOQ6XSYG4AUtyt/Fi7D16Q==",
      "dev": true,
      "dependencies": {
        "ansi-styles": "^4.0.0",
        "string-width": "^4.1.0",
        "strip-ansi": "^6.0.0"
      },
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/chalk/wrap-ansi?sponsor=1"
      }
    },
    "node_modules/wrap-ansi-cjs/node_modules/ansi-regex": {
      "version": "5.0.1",
      "resolved": "https://registry.npmjs.org/ansi-regex/-/ansi-regex-5.0.1.tgz",
      "integrity": "sha512-quJQXlTSUGL2LH9SUXo8VwsY4soanhgo6LNSm84E1LBcE8s3O0wpdiRzyR9z/ZZJMlMWv37qOOb9pdJlMUEKFQ==",
      "dev": true,
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/wrap-ansi-cjs/node_modules/emoji-regex": {
      "version": "8.0.0",
      "resolved": "https://registry.npmjs.org/emoji-regex/-/emoji-regex-8.0.0.tgz",
      "integrity": "sha512-MSjYzcWNOA0ewAHpz0MxpYFvwg6yjy1NG3xteoqz644VCo/RPgnr1/GGt+ic3iJTzQ8Eu3TdM14SawnVUmGE6A==",
      "dev": true
    },
    "node_modules/wrap-ansi-cjs/node_modules/string-width": {
      "version": "4.2.3",
      "resolved": "https://registry.npmjs.org/string-width/-/string-width-4.2.3.tgz",
      "integrity": "sha512-wKyQRQpjJ0sIp62ErSZdGsjMJWsap5oRNihHhu6G7JVO/9jIB6UyevL+tXuOqrng8j/cxKTWyWUwvSTriiZz/g==",
      "dev": true,
      "dependencies": {
        "emoji-regex": "^8.0.0",
        "is-fullwidth-code-point": "^3.0.0",
        "strip-ansi": "^6.0.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/wrap-ansi-cjs/node_modules/strip-ansi": {
      "version": "6.0.1",
      "resolved": "https://registry.npmjs.org/strip-ansi/-/strip-ansi-6.0.1.tgz",
      "integrity": "sha512-Y38VPSHcqkFrCpFnQ9vuSXmquuv5oXOKpGeT6aGrr3o3Gc9AlVa6JBfUSOCnbxGGZF+/0ooI7KrPuUSztUdU5A==",
      "dev": true,
      "dependencies": {
        "ansi-regex": "^5.0.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/wrap-ansi/node_modules/ansi-styles": {
      "version": "6.2.1",
      "resolved": "https://registry.npmjs.org/ansi-styles/-/ansi-styles-6.2.1.tgz",
      "integrity": "sha512-bN798gFfQX+viw3R7yrGWRqnrN2oRkEkUjjl4JNn4E8GxxbjtG3FbrEIIY3l8/hrwUwIeCZvi4QuOTP4MErVug==",
      "dev": true,
      "engines": {
        "node": ">=12"
      },
      "funding": {
        "url": "https://github.com/chalk/ansi-styles?sponsor=1"
      }
    },
    "node_modules/ws": {
      "version": "8.18.3",
      "resolved": "https://registry.npmjs.org/ws/-/ws-8.18.3.tgz",
      "integrity": "sha512-PEIGCY5tSlUt50cqyMXfCzX+oOPqN0vuGqWzbcJ2xvnkzkq46oOpz7dQaTDBdfICb4N14+GARUDw2XV2N4tvzg==",
      "dev": true,
      "engines": {
        "node": ">=10.0.0"
      },
      "peerDependencies": {
        "bufferutil": "^4.0.1",
        "utf-8-validate": ">=5.0.2"
      },
      "peerDependenciesMeta": {
        "bufferutil": {
          "optional": true
        },
        "utf-8-validate": {
          "optional": true
        }
      }
    },
    "node_modules/xml-name-validator": {
      "version": "5.0.0",
      "resolved": "https://registry.npmjs.org/xml-name-validator/-/xml-name-validator-5.0.0.tgz",
      "integrity": "sha512-EvGK8EJ3DhaHfbRlETOWAS5pO9MZITeauHKJyb8wyajUfQUenkIg2MvLDTZ4T/TgIcm3HU0TFBgWWboAZ30UHg==",
      "dev": true,
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/xmlchars": {
      "version": "2.2.0",
      "resolved": "https://registry.npmjs.org/xmlchars/-/xmlchars-2.2.0.tgz",
      "integrity": "sha512-JZnDKK8B0RCDw84FNdDAIpZK+JuJw+s7Lz8nksI7SIuU3UXJJslUthsi+uWBUYOwPFwW7W7PRLRfUKpxjtjFCw==",
      "dev": true
    },
    "node_modules/yallist": {
      "version": "5.0.0",
      "resolved": "https://registry.npmjs.org/yallist/-/yallist-5.0.0.tgz",
      "integrity": "sha512-YgvUTfwqyc7UXVMrB+SImsVYSmTS8X/tSrtdNZMImM+n7+QTriRXyXim0mBrTXNeqzVF0KWGgHPeiyViFFrNDw==",
      "dev": true,
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/yocto-queue": {
      "version": "0.1.0",
      "resolved": "https://registry.npmjs.org/yocto-queue/-/yocto-queue-0.1.0.tgz",
      "integrity": "sha512-rVksvsnNCdJ/ohGc6xgPwyN8eheCxsiLM8mxuE/t/mOVqJewPuO1miLpTHQiRgTKCLexL4MeAFVagts7HmNZ2Q==",
      "dev": true,
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/zod": {
      "version": "4.0.17",
      "resolved": "https://registry.npmjs.org/zod/-/zod-4.0.17.tgz",
      "integrity": "sha512-1PHjlYRevNxxdy2JZ8JcNAw7rX8V9P1AKkP+x/xZfxB0K5FYfuV+Ug6P/6NVSR2jHQ+FzDDoDHS04nYUsOIyLQ==",
      "funding": {
        "url": "https://github.com/sponsors/colinhacks"
      }
    }
  }
}

END_CONTENT
